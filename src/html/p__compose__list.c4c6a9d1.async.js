"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8022],{14313:function(z,D,n){n.d(D,{Z:function(){return I}});var d=n(87462),s=n(62435),S={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},p=S,f=n(84089),W=function(A,i){return s.createElement(f.Z,(0,d.Z)({},A,{ref:i,icon:p}))},b=s.forwardRef(W),I=b},80821:function(z,D,n){n.d(D,{Z:function(){return A}});var d=n(5574),s=n.n(d),S=n(93246),p=n(54006),f=n(31418),W=n(86738),b=n(14726),I=n(62435),P=n(86074);function A(i){var x=(0,I.useState)(!1),y=s()(x,2),U=y[0],E=y[1],T=f.Z.useApp(),M=(0,p.useIntl)(),m=function(){E(!0),i.action().then(function(o){if(E(!1),typeof i.onSuccess=="function"&&i.onSuccess(o),i.messageSuccess){var t="";i.messageSuccess.indexOf(".")>-1?t=M.formatMessage({id:i.messageSuccess}):t=i.messageSuccess,i.asynced?(0,S.Rk)(T,t):(0,S.$h)(T,t)}}).catch(function(o){E(!1),typeof i.onError=="function"&&i.onError(o)})};return i.confirm?(0,P.jsx)(W.Z,{style:{width:500},title:"\u63D0\u793A",description:i.confirm,onConfirm:m,okText:"Yes",cancelText:"No",children:(0,P.jsx)(b.ZP,{disabled:i.disabled,icon:i.icon,loading:U,danger:i.danger,type:i.type,children:i.children})}):(0,P.jsx)(b.ZP,{disabled:i.disabled,icon:i.icon,loading:U,onClick:m,danger:i.danger,type:i.type,children:i.children})}},96781:function(z,D,n){var d=n(62435),s=(0,d.createContext)({});D.Z=s},92922:function(z,D,n){n.r(D),n.d(D,{default:function(){return w}});var d=n(15009),s=n.n(d),S=n(99289),p=n.n(S),f=n(5574),W=n.n(f),b=n(80821),I=n(24910),P=n(14313),A=n(45605),i=n(50888),x=n(43425),y=n(57132),U=n(12010),E=n(54006),T=n(78957),M=n(66309),m=n(96074),O=n(83062),o=n(75891),t=n(62435),$=n(96781),l=n(60335),C=n(86074);function w(){var H=(0,t.useContext)($.Z),Y=H.createYamlFormRef,K=H.listTableRef,G=(0,t.useState)([]),V=W()(G,2),e=V[0],c=V[1];return(0,t.useEffect)(function(){(0,l.IE)({}).then(function(_){c(_.data.list)})},[]),(0,C.jsx)(U.Z,{request:function(){var _=p()(s()().mark(function r(a){var v,u,g;return s()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,I.pm)({title:a.title,name:a.name,pageSize:(v=a.pageSize)!==null&&v!==void 0?v:10,page:(u=a.current)!==null&&u!==void 0?u:1});case 2:return g=h.sent,h.abrupt("return",{data:g.data.list,success:!0,total:g.data.total});case 4:case"end":return h.stop()}},r)}));return function(r){return _.apply(this,arguments)}}(),rowKey:"id",columns:[{title:"\u6807\u8BC6",dataIndex:"name",width:200,render:function(r,a,v,u,g){return(0,C.jsx)(E.Link,{to:"/compose/deploy/"+a.id,children:a.name},v)}},{title:"\u540D\u79F0",dataIndex:"title",width:200},{title:"\u5BB9\u5668\u72B6\u6001",render:function(r,a,v,u,g){var j=[];return e.map(function(h){h.Names.map(function(R){R.startsWith("/"+a.name+"-")&&j.push(h)})}),j.length>0?j.map(function(h,R){return(0,C.jsx)(T.Z,{wrap:!0,children:(0,C.jsx)(M.Z,{color:h.State=="running"?"success":"warning",icon:h.State=="running"?(0,C.jsx)(P.Z,{}):(0,C.jsx)(A.Z,{}),children:h.Names[0]})},R)}):(0,C.jsx)(i.Z,{})}},{title:"\u64CD\u4F5C",width:100,valueType:"option",key:"option",render:function(r,a,v,u,g){return(0,C.jsxs)(T.Z,{split:(0,C.jsx)(m.Z,{type:"vertical"}),children:[(0,C.jsx)(E.Link,{to:"/compose/deploy/"+a.id,children:(0,C.jsx)(O.Z,{title:"\u7BA1\u7406",children:(0,C.jsx)(x.Z,{})})},"3"),(0,C.jsx)(E.Link,{to:"#",onClick:function(){var h;(h=Y.current)===null||h===void 0||h.showCopy(a)},children:(0,C.jsx)(O.Z,{title:"\u590D\u5236",children:(0,C.jsx)(y.Z,{})})},"2")]})}}],pagination:{pageSize:10},search:{collapsed:!1},rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},actionRef:K,tableAlertOptionRender:function(r){var a=r.selectedRowKeys;return(0,C.jsx)(T.Z,{size:16,children:(0,C.jsx)(b.Z,{danger:!0,type:"primary",action:function(){return(0,I.ik)({id:a})},onSuccess:function(){var u,g;return!((u=K.current)===null||u===void 0)&&u.reloadAndRest&&((g=K.current)===null||g===void 0||g.reloadAndRest()),!0},onError:function(){var u,g;return!((u=K.current)===null||u===void 0)&&u.reset&&((g=K.current)===null||g===void 0||g.reset()),!0},messageSuccess:"\u5220\u9664\u6210\u529F",confirm:(0,C.jsx)(T.Z,{style:{width:280},direction:"vertical",children:(0,C.jsx)(o.Z.Text,{children:"\u5220\u9664\u955C\u50CF\u540E\u65E0\u6CD5\u6062\u590D,\u786E\u8BA4\u5417\uFF1F"})}),children:"\u6279\u91CF\u5220\u9664"})})}})}},24910:function(z,D,n){n.d(D,{GG:function(){return m},Oh:function(){return U},YZ:function(){return A},ik:function(){return x},im:function(){return W},mg:function(){return T},pm:function(){return I}});var d=n(15009),s=n.n(d),S=n(99289),p=n.n(S),f=n(54006);function W(o){return b.apply(this,arguments)}function b(){return b=p()(s()().mark(function o(t){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/compose/create",{method:"POST",data:t}));case 1:case"end":return l.stop()}},o)})),b.apply(this,arguments)}function I(o){return P.apply(this,arguments)}function P(){return P=p()(s()().mark(function o(t){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/compose/get-list",{method:"POST",data:t}));case 1:case"end":return l.stop()}},o)})),P.apply(this,arguments)}function A(o){return i.apply(this,arguments)}function i(){return i=p()(s()().mark(function o(t){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/compose/get-detail",{method:"POST",data:t}));case 1:case"end":return l.stop()}},o)})),i.apply(this,arguments)}function x(o){return y.apply(this,arguments)}function y(){return y=p()(s()().mark(function o(t){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/compose/delete",{method:"POST",data:t}));case 1:case"end":return l.stop()}},o)})),y.apply(this,arguments)}function U(o){return E.apply(this,arguments)}function E(){return E=p()(s()().mark(function o(t){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/compose/container-deploy",{method:"POST",data:t}));case 1:case"end":return l.stop()}},o)})),E.apply(this,arguments)}function T(o){return M.apply(this,arguments)}function M(){return M=p()(s()().mark(function o(t){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/compose/container-destroy",{method:"POST",data:t}));case 1:case"end":return l.stop()}},o)})),M.apply(this,arguments)}function m(o){return O.apply(this,arguments)}function O(){return O=p()(s()().mark(function o(t){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/api/app/compose/container-ctrl",{method:"POST",data:t}));case 1:case"end":return l.stop()}},o)})),O.apply(this,arguments)}},60335:function(z,D,n){n.d(D,{IE:function(){return I},IW:function(){return W},KK:function(){return U},LJ:function(){return T},eE:function(){return x},jV:function(){return A}});var d=n(15009),s=n.n(d),S=n(99289),p=n.n(S),f=n(54006);function W(m){return b.apply(this,arguments)}function b(){return b=p()(s()().mark(function m(O){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/app/container/status",{method:"POST",data:O}));case 1:case"end":return t.stop()}},m)})),b.apply(this,arguments)}function I(m){return P.apply(this,arguments)}function P(){return P=p()(s()().mark(function m(O){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/app/container/get-list",{data:O,method:"POST"}));case 1:case"end":return t.stop()}},m)})),P.apply(this,arguments)}function A(m){return i.apply(this,arguments)}function i(){return i=p()(s()().mark(function m(O){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/app/container/get-detail",{data:O,method:"POST"}));case 1:case"end":return t.stop()}},m)})),i.apply(this,arguments)}function x(m){return y.apply(this,arguments)}function y(){return y=p()(s()().mark(function m(O){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/app/container/update",{data:O,method:"POST"}));case 1:case"end":return t.stop()}},m)})),y.apply(this,arguments)}function U(){return E.apply(this,arguments)}function E(){return E=p()(s()().mark(function m(){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,f.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return o.stop()}},m)})),E.apply(this,arguments)}function T(m){return M.apply(this,arguments)}function M(){return M=p()(s()().mark(function m(O){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/app/container/export",{method:"POST",data:O,responseType:"blob"}));case 1:case"end":return t.stop()}},m)})),M.apply(this,arguments)}},66309:function(z,D,n){n.d(D,{Z:function(){return V}});var d=n(62435),s=n(97937),S=n(93967),p=n.n(S),f=n(98787),W=n(69760),b=n(45353),I=n(53124),P=n(54548),A=n(10274),i=n(14747),x=n(45503),y=n(91945);const U=e=>{const{paddingXXS:c,lineWidth:_,tagPaddingHorizontal:r,componentCls:a,calc:v}=e,u=v(r).sub(_).equal(),g=v(c).sub(_).equal();return{[a]:Object.assign(Object.assign({},(0,i.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:u,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,P.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${a}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${a}-close-icon`]:{marginInlineStart:g,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${a}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${a}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:u}}),[`${a}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},E=e=>{const{lineWidth:c,fontSizeIcon:_,calc:r}=e,a=e.fontSizeSM;return(0,x.TS)(e,{tagFontSize:a,tagLineHeight:(0,P.bf)(r(e.lineHeightSM).mul(a).equal()),tagIconSize:r(_).sub(r(c).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},T=e=>({defaultBg:new A.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var M=(0,y.I$)("Tag",e=>{const c=E(e);return U(c)},T),m=function(e,c){var _={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&c.indexOf(r)<0&&(_[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)c.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(_[r[a]]=e[r[a]]);return _},o=d.forwardRef((e,c)=>{const{prefixCls:_,style:r,className:a,checked:v,onChange:u,onClick:g}=e,j=m(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:h,tag:R}=d.useContext(I.E_),X=k=>{u==null||u(!v),g==null||g(k)},N=h("tag",_),[Z,J,Q]=M(N),B=p()(N,`${N}-checkable`,{[`${N}-checkable-checked`]:v},R==null?void 0:R.className,a,J,Q);return Z(d.createElement("span",Object.assign({},j,{ref:c,style:Object.assign(Object.assign({},r),R==null?void 0:R.style),className:B,onClick:X})))}),t=n(98719);const $=e=>(0,t.Z)(e,(c,_)=>{let{textColor:r,lightBorderColor:a,lightColor:v,darkColor:u}=_;return{[`${e.componentCls}${e.componentCls}-${c}`]:{color:r,background:v,borderColor:a,"&-inverse":{color:e.colorTextLightSolid,background:u,borderColor:u},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var l=(0,y.bk)(["Tag","preset"],e=>{const c=E(e);return $(c)},T);function C(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const w=(e,c,_)=>{const r=C(_);return{[`${e.componentCls}${e.componentCls}-${c}`]:{color:e[`color${_}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var H=(0,y.bk)(["Tag","status"],e=>{const c=E(e);return[w(c,"success","Success"),w(c,"processing","Info"),w(c,"error","Error"),w(c,"warning","Warning")]},T),Y=function(e,c){var _={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&c.indexOf(r)<0&&(_[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)c.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(_[r[a]]=e[r[a]]);return _};const K=(e,c)=>{const{prefixCls:_,className:r,rootClassName:a,style:v,children:u,icon:g,color:j,onClose:h,closeIcon:R,closable:X,bordered:N=!0}=e,Z=Y(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:J,direction:Q,tag:B}=d.useContext(I.E_),[k,ee]=d.useState(!0);d.useEffect(()=>{"visible"in Z&&ee(Z.visible)},[Z.visible]);const ne=(0,f.o2)(j),te=(0,f.yT)(j),q=ne||te,oe=Object.assign(Object.assign({backgroundColor:j&&!q?j:void 0},B==null?void 0:B.style),v),L=J("tag",_),[le,ie,ue]=M(L),ce=p()(L,B==null?void 0:B.className,{[`${L}-${j}`]:q,[`${L}-has-color`]:j&&!q,[`${L}-hidden`]:!k,[`${L}-rtl`]:Q==="rtl",[`${L}-borderless`]:!N},r,a,ie,ue),re=F=>{F.stopPropagation(),h==null||h(F),!F.defaultPrevented&&ee(!1)},[,_e]=(0,W.Z)({closable:X,closeIcon:R!=null?R:B==null?void 0:B.closeIcon,customCloseIconRender:F=>F===null?d.createElement(s.Z,{className:`${L}-close-icon`,onClick:re}):d.createElement("span",{className:`${L}-close-icon`,onClick:re},F),defaultCloseIcon:null,defaultClosable:!1}),de=typeof Z.onClick=="function"||u&&u.type==="a",ae=g||null,me=ae?d.createElement(d.Fragment,null,ae,u&&d.createElement("span",null,u)):u,se=d.createElement("span",Object.assign({},Z,{ref:c,className:ce,style:oe}),me,_e,ne&&d.createElement(l,{key:"preset",prefixCls:L}),te&&d.createElement(H,{key:"status",prefixCls:L}));return le(de?d.createElement(b.Z,{component:"Tag"},se):se)},G=d.forwardRef(K);G.CheckableTag=o;var V=G}}]);
