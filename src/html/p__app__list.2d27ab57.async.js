"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4316],{89035:function(y,v,e){e.d(v,{Z:function(){return R}});var j=e(87462),t=e(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 00308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 00-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"code",theme:"outlined"},l=P,o=e(84089),D=function(M,h){return t.createElement(o.Z,(0,j.Z)({},M,{ref:h,icon:l}))},E=t.forwardRef(D),R=E},29158:function(y,v,e){e.d(v,{Z:function(){return R}});var j=e(87462),t=e(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"},l=P,o=e(84089),D=function(M,h){return t.createElement(o.Z,(0,j.Z)({},M,{ref:h,icon:l}))},E=t.forwardRef(D),R=E},27496:function(y,v,e){e.d(v,{Z:function(){return R}});var j=e(87462),t=e(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},l=P,o=e(84089),D=function(M,h){return t.createElement(o.Z,(0,j.Z)({},M,{ref:h,icon:l}))},E=t.forwardRef(D),R=E},80821:function(y,v,e){e.d(v,{Z:function(){return h}});var j=e(5574),t=e.n(j),P=e(93246),l=e(54006),o=e(31418),D=e(86738),E=e(14726),R=e(83062),m=e(62435),M=e(86074);function h(n){var I=(0,m.useState)(!1),d=t()(I,2),c=d[0],x=d[1],p=o.Z.useApp(),f=(0,l.useIntl)(),O=function(){x(!0),n.action().then(function(r){if(x(!1),typeof n.onSuccess=="function"&&n.onSuccess(r),n.messageSuccess){var T="";n.messageSuccess.indexOf(".")>-1?T=f.formatMessage({id:n.messageSuccess}):T=n.messageSuccess,n.asynced?(0,P.Rk)(p,T):(0,P.$h)(p,T)}}).catch(function(r){x(!1),typeof n.onError=="function"&&n.onError(r)})};return n.confirm?(0,M.jsx)(D.Z,{style:{width:500},title:"\u63D0\u793A",description:n.confirm,onConfirm:O,okText:"Yes",cancelText:"No",children:(0,M.jsx)(E.ZP,{disabled:n.disabled,icon:n.icon,loading:c,danger:n.danger,type:n.type,children:n.children})}):(0,M.jsx)(R.Z,{title:n.tips,children:(0,M.jsx)(E.ZP,{disabled:n.disabled,icon:n.icon,loading:c,onClick:O,danger:n.danger,type:n.type,children:n.children})})}},94359:function(y,v,e){e.d(v,{Z:function(){return I}});var j=e(62435),t=e(3089),P=e(98165),l=e(18429),o=e(8751),D=e(14313),E=e(30159),R=e(87740),m=e(66309),M=e(83062),h=e(54006),n=e(86074);function I(d){var c=(0,n.jsx)(n.Fragment,{});return d.status=="0"&&(c=(0,n.jsx)(m.Z,{icon:(0,n.jsx)(t.Z,{}),color:"default",children:"waiting"})),d.status=="10"&&(c=(0,n.jsx)(m.Z,{icon:(0,n.jsx)(P.Z,{spin:!0}),color:"processing",children:"processing"})),d.status=="20"&&(c=(0,n.jsx)(m.Z,{icon:(0,n.jsx)(l.Z,{}),color:"error",children:"error"})),d.status=="30"&&(c=(0,n.jsx)(m.Z,{icon:(0,n.jsx)(o.Z,{}),color:"success",children:"success"})),d.status=="running"&&(c=(0,n.jsx)(m.Z,{icon:(0,n.jsx)(D.Z,{}),color:"success",children:d.status})),d.status=="paused"&&(c=(0,n.jsx)(m.Z,{icon:(0,n.jsx)(E.Z,{}),children:d.status})),d.status=="restarting"&&(c=(0,n.jsx)(m.Z,{icon:(0,n.jsx)(R.Z,{}),children:d.status})),(d.status=="exited"||d.status=="dead"||d.status=="removing")&&(c=(0,n.jsx)(m.Z,{icon:(0,n.jsx)(l.Z,{}),color:"warning",children:d.status})),d.link&&(c=(0,n.jsx)(h.Link,{to:d.link,children:c})),d.message&&(c=(0,n.jsx)(M.Z,{placement:"left",title:d.message,children:c})),(0,n.jsx)(n.Fragment,{children:c})}},78498:function(y,v,e){e.d(v,{Z:function(){return D}});var j=e(25035),t=e(78957),P=e(83062),l=e(62435),o=e(86074);function D(E){return(0,o.jsxs)(t.Z,{children:[E.title,(0,o.jsx)(P.Z,{title:E.help,children:(0,o.jsx)(j.Z,{})})]})}},67933:function(y,v,e){e.r(v),e.d(v,{default:function(){return k}});var j=e(15009),t=e.n(j),P=e(99289),l=e.n(P),o=e(5574),D=e.n(o),E=e(6110),R=e(12010),m=e(31418),M=e(14726),h=e(75891),n=e(78957),I=e(66309),d=e(96074),c=e(83062),x=e(68508),p=e(54006),f=e(27496),O=e(29158),i=e(43425),r=e(95591),T=e(45742),a=e(89035),J=e(94359),Y=e(78498),z=e(60335),N=e(80821),F=e(62435),G=e(62597),Q=e(87662),X=e(93246),s=e(86074);function k(){var W=(0,F.useRef)(),q=(0,F.useState)("127.0.0.1"),V=D()(q,2),ee=V[0],ne=V[1],te=(0,F.useState)(),H=D()(te,2),S=H[0],re=H[1],ae=m.Z.useApp();return(0,F.useEffect)(function(){(0,Q.pe)({groupName:"setting",name:"server"}).then(function(A){A.data.setting.value.serverIp&&ne(A.data.setting.value.serverIp)})},[]),(0,s.jsx)(E._z,{header:{extra:[(0,s.jsx)(M.ZP,{type:"primary",children:(0,s.jsx)(p.Link,{to:"/app/create/image",children:"\u521B\u5EFA\u5BB9\u5668"})},"create")]},children:(0,s.jsx)(R.Z,{actionRef:W,columns:[{title:"\u5BB9\u5668\u540D\u79F0",ellipsis:!0,dataIndex:"Names",width:150,render:function(B,u,g,C){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(p.Link,{to:u.Id?"/app/detail/edit/".concat(u.Id):"#",children:u.Names[0]})})}},{title:"\u7AD9\u70B9\u540D\u79F0",ellipsis:!0,dataIndex:"siteTitle",render:function(B,u,g,C,_){var L="---";return S!=null&&S.siteList&&S.siteList.map(function(Z){Z.containerInfo.ID==u.Id&&(L=Z.siteTitle)}),(0,s.jsx)(h.Z.Text,{editable:{tooltip:"\u4FEE\u6539\u955C\u50CF\u5907\u6CE8\u540D\u79F0",onChange:function(){var Z=l()(t()().mark(function K(w){var $,se;return t()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,G.lK)({md5:u.Id,title:w});case 2:se=b.sent,L=w,(0,X.$h)(ae,"\u4FEE\u6539\u5BB9\u5668\u540D\u79F0\u6210\u529F"),!(($=W.current)===null||$===void 0)&&$.reload&&W.current.reload();case 6:case"end":return b.stop()}},K)}));function U(K){return Z.apply(this,arguments)}return U}()},children:L})}},{title:(0,s.jsx)(Y.Z,{title:"\u5BF9\u5916\u8BBF\u95EE",help:"\u5BF9\u5916\u66B4\u9732\u7AEF\u53E3\u65F6\u53EF\u4EE5\u76F4\u63A5\u901A\u8FC7\u670D\u52A1\u5668ip(\u516C\u7F51,\u5185\u7F51,127.0.0.1)\u52A0\u7AEF\u53E3\u7684\u5F62\u5F0F\u8FDB\u884C\u8BBF\u95EE\u3002\u5982\u679C\u9700\u8981\u7ED1\u5B9A\u57DF\u540D,\u8BF7\u6DFB\u52A0\u7AD9\u70B9\u7ED1\u5B9A\u57DF\u540D\u8F6C\u53D1."}),dataIndex:"ports",search:!1,render:function(B,u,g,C){return(0,s.jsxs)(n.Z,{direction:"vertical",style:{textAlign:"left"},children:[u==null?void 0:u.Ports.map(function(_,L){return(0,s.jsxs)(n.Z.Compact,{children:[(0,s.jsx)(I.Z,{color:_.PublicPort?"#2db7f5":"warning",icon:_.PublicPort?(0,s.jsx)(f.Z,{}):"",children:"".concat(_.PublicPort?_.IP+":"+_.PublicPort+"->":"").concat(_.PrivatePort,"/").concat(_.Type)}),_.PublicPort?(0,s.jsx)("a",{href:"http://".concat(ee,":").concat(_.PublicPort),target:"_blank",children:(0,s.jsx)(O.Z,{})},"link".concat(L)):""]},"space".concat(L))}),(S==null?void 0:S.domainList)&&S.domainList.map(function(_,L){if(u.Names.indexOf(_.containerId)>-1)return(0,s.jsx)("a",{href:"".concat(_.setting.enableSSL?"https://"+_.serverName:"http://"+_.serverName),target:"_blank",children:_.setting.enableSSL?"https://"+_.serverName:"http://"+_.serverName},"domain".concat(L))})]})}},{title:"\u6240\u5C5E\u955C\u50CF",search:!1,ellipsis:!0,render:function(B,u,g,C){return(0,s.jsx)(h.Z.Text,{ellipsis:{tooltip:u.Image},children:(0,s.jsx)(p.Link,{to:"/image/detail/".concat(u.ImageID),children:u.Image})})}},{title:"\u72B6\u6001",dataIndex:["container","status"],search:!1,width:120,render:function(B,u,g,C){return[(0,s.jsx)("div",{children:(0,s.jsx)(J.Z,{status:u.State})},"status")]}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:200,render:function(B,u,g,C){return(0,s.jsxs)(n.Z,{split:(0,s.jsx)(d.Z,{type:"vertical"}),children:[(0,s.jsx)(p.Link,{to:"/app/detail/edit/"+u.Id,children:(0,s.jsx)(c.Z,{title:"\u7BA1\u7406\u955C\u50CF",children:(0,s.jsx)(i.Z,{})})},"edit"),u.State=="running"&&(0,s.jsx)(p.Link,{to:"/app/detail/file/"+u.Id+"?tab=file",children:(0,s.jsx)(c.Z,{title:"\u6587\u4EF6\u7BA1\u7406",children:(0,s.jsx)(r.Z,{})})},"file"),u.State=="running"&&(0,s.jsx)(p.Link,{to:"/app/detail/log/"+u.Id+"?tab=log",children:(0,s.jsx)(c.Z,{title:"\u8FD0\u884C\u65E5\u5FD7",children:(0,s.jsx)(T.Z,{})})},"log"),u.State=="running"&&(0,s.jsx)(p.Link,{target:"_blank",to:"/console/"+u.Id,children:(0,s.jsx)(c.Z,{title:"\u7EC8\u7AEF",children:(0,s.jsx)(a.Z,{})})},"console")]})}}],rowKey:"Id",request:function(){var A=l()(t()().mark(function B(u,g,C){var _,L;return t()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,z.IE)({tag:u.Names,siteTitle:u.siteTitle,md5:u.Id});case 2:return L=U.sent,re(L.data),U.abrupt("return",{data:(_=L.data.list)!==null&&_!==void 0?_:[],success:!0,total:L.data.list.length});case 5:case"end":return U.stop()}},B)}));return function(B,u,g){return A.apply(this,arguments)}}(),rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},tableAlertOptionRender:function(B){var u=B.selectedRowKeys;return(0,s.jsx)(n.Z,{size:16,children:(0,s.jsx)(N.Z,{danger:!0,type:"primary",action:function(){var C=u.map(function(){var _=l()(t()().mark(function L(Z){return t()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,(0,G.Ct)({md5:Z,deleteImage:!1,deleteVolume:!1});case 2:return K.abrupt("return",K.sent);case 3:case"end":return K.stop()}},L)}));return function(L){return _.apply(this,arguments)}}());return C[0]},onSuccess:function(){var C,_;return!((C=W.current)===null||C===void 0)&&C.reloadAndRest&&((_=W.current)===null||_===void 0||_.reloadAndRest()),!0},onError:function(){var C,_;return!((C=W.current)===null||C===void 0)&&C.reset&&((_=W.current)===null||_===void 0||_.reset()),!0},messageSuccess:"\u5220\u9664\u6210\u529F",children:"\u6279\u91CF\u5220\u9664"})})},pagination:{pageSize:10},search:{collapsed:!1},tableExtraRender:function(){return(0,s.jsx)(x.Z,{mode:"horizontal",selectedKeys:["list"],items:[{label:(0,s.jsx)(p.Link,{to:"/app/list",replace:!0,children:"\u5BB9\u5668\u5217\u8868"}),key:"list"},{label:(0,s.jsx)(p.Link,{to:"/app/list/recycle",replace:!0,children:"\u56DE\u6536\u7AD9"}),key:"recycle"}]})},toolBarRender:function(){return[(0,s.jsx)(N.Z,{action:function(){return(0,z.KK)()},onSuccess:function(){var u,g;return!((u=W.current)===null||u===void 0)&&u.reloadAndRest&&((g=W.current)===null||g===void 0||g.reloadAndRest()),!0},onError:function(){var u,g;return!((u=W.current)===null||u===void 0)&&u.reset&&((g=W.current)===null||g===void 0||g.reset()),!0},messageSuccess:"\u6E05\u9664\u6210\u529F",confirm:"\u662F\u5426\u6E05\u7406\u5DF2\u505C\u6B62\u7684\u5BB9\u5668",children:"\u6E05\u7406\u5DF2\u505C\u6B62\u5BB9\u5668"})]}})})}},62597:function(y,v,e){e.d(v,{$G:function(){return D},Ct:function(){return d},Tb:function(){return M},cl:function(){return R},iE:function(){return n},lK:function(){return f},xb:function(){return x}});var j=e(15009),t=e.n(j),P=e(99289),l=e.n(P),o=e(54006);function D(i){return E.apply(this,arguments)}function E(){return E=l()(t()().mark(function i(r){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,o.request)("/api/app/site/create-by-image",{method:"POST",data:r}));case 1:case"end":return a.stop()}},i)})),E.apply(this,arguments)}function R(i){return m.apply(this,arguments)}function m(){return m=l()(t()().mark(function i(r){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,o.request)("/api/app/site/get-list",{method:"POST",data:r}));case 1:case"end":return a.stop()}},i)})),m.apply(this,arguments)}function M(i){return h.apply(this,arguments)}function h(){return h=l()(t()().mark(function i(r){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,o.request)("/api/app/log/run",{method:"POST",data:r});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i)})),h.apply(this,arguments)}function n(i){return I.apply(this,arguments)}function I(){return I=l()(t()().mark(function i(r){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,o.request)("/api/app/site/get-detail",{data:r,method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i)})),I.apply(this,arguments)}function d(i){return c.apply(this,arguments)}function c(){return c=l()(t()().mark(function i(r){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,o.request)("/api/app/container/delete",{method:"POST",data:r}));case 1:case"end":return a.stop()}},i)})),c.apply(this,arguments)}function x(i){return p.apply(this,arguments)}function p(){return p=l()(t()().mark(function i(r){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,o.request)("/api/app/site/delete",{method:"POST",data:r}));case 1:case"end":return a.stop()}},i)})),p.apply(this,arguments)}function f(i){return O.apply(this,arguments)}function O(){return O=l()(t()().mark(function i(r){return t()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,o.request)("/api/app/site/update-title",{method:"POST",data:r});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i)})),O.apply(this,arguments)}},60335:function(y,v,e){e.d(v,{IE:function(){return R},IW:function(){return D},KK:function(){return d},LJ:function(){return x},eE:function(){return n},jV:function(){return M}});var j=e(15009),t=e.n(j),P=e(99289),l=e.n(P),o=e(54006);function D(f){return E.apply(this,arguments)}function E(){return E=l()(t()().mark(function f(O){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("/api/app/container/status",{method:"POST",data:O}));case 1:case"end":return r.stop()}},f)})),E.apply(this,arguments)}function R(f){return m.apply(this,arguments)}function m(){return m=l()(t()().mark(function f(O){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("/api/app/container/get-list",{data:O,method:"POST"}));case 1:case"end":return r.stop()}},f)})),m.apply(this,arguments)}function M(f){return h.apply(this,arguments)}function h(){return h=l()(t()().mark(function f(O){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("/api/app/container/get-detail",{data:O,method:"POST"}));case 1:case"end":return r.stop()}},f)})),h.apply(this,arguments)}function n(f){return I.apply(this,arguments)}function I(){return I=l()(t()().mark(function f(O){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("/api/app/container/update",{data:O,method:"POST"}));case 1:case"end":return r.stop()}},f)})),I.apply(this,arguments)}function d(){return c.apply(this,arguments)}function c(){return c=l()(t()().mark(function f(){return t()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,o.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return i.stop()}},f)})),c.apply(this,arguments)}function x(f){return p.apply(this,arguments)}function p(){return p=l()(t()().mark(function f(O){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,o.request)("/api/app/container/export",{method:"POST",data:O,responseType:"blob"}));case 1:case"end":return r.stop()}},f)})),p.apply(this,arguments)}}}]);
