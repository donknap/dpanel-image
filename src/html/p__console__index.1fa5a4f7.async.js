(self.webpackChunk=self.webpackChunk||[]).push([[3805],{33345:function(c,s,t){"use strict";t.r(s),t.d(s,{default:function(){return p}});var e=t(52626),n=t(54006),a=t(78267),l=t.n(a),d=t(31418),m=t(62435),r=t(12320),_=t.n(r),u=t(89629),E=t(86074);function p(){var g=d.Z.useApp(),P=(0,n.useParams)(),h=new a.FitAddon,i=new r.Terminal({fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,cursorStyle:"block",cursorBlink:!0,theme:{foreground:"#dddddd",cursor:"gray"}}),f=new WebSocket((0,e.R)("/console/"+P.id));return i.onData(function(o){var M={content:{command:o},type:"console"};f.send(JSON.stringify(M))}),(0,m.useEffect)(function(){i.loadAddon(h),i.open(document.getElementById("terminal-container")),h.fit(),f.addEventListener("message",function(o){if(o.data){if(o.data.indexOf('{"type":')>-1)return;i.write(o.data)}})},[]),(0,E.jsx)("div",{id:"terminal-container",style:{width:"100%",height:"100vh"}})}},78267:function(c){(function(s,t){c.exports=t()})(self,()=>(()=>{"use strict";var s={};return(()=>{var t=s;Object.defineProperty(t,"__esModule",{value:!0}),t.FitAddon=void 0,t.FitAddon=class{activate(e){this._terminal=e}dispose(){}fit(){const e=this.proposeDimensions();if(!e||!this._terminal||isNaN(e.cols)||isNaN(e.rows))return;const n=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(n._renderService.clear(),this._terminal.resize(e.cols,e.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const e=this._terminal._core,n=e._renderService.dimensions;if(n.css.cell.width===0||n.css.cell.height===0)return;const a=this._terminal.options.scrollback===0?0:e.viewport.scrollBarWidth,l=window.getComputedStyle(this._terminal.element.parentElement),d=parseInt(l.getPropertyValue("height")),m=Math.max(0,parseInt(l.getPropertyValue("width"))),r=window.getComputedStyle(this._terminal.element),_=d-(parseInt(r.getPropertyValue("padding-top"))+parseInt(r.getPropertyValue("padding-bottom"))),u=m-(parseInt(r.getPropertyValue("padding-right"))+parseInt(r.getPropertyValue("padding-left")))-a;return{cols:Math.max(2,Math.floor(u/n.css.cell.width)),rows:Math.max(1,Math.floor(_/n.css.cell.height))}}}})(),s})())}}]);
