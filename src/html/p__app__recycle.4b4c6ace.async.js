"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1610],{80821:function(x,p,e){e.d(p,{Z:function(){return R}});var P=e(5574),u=e.n(P),S=e(93246),i=e(54006),o=e(31418),A=e(86738),f=e(14726),b=e(83062),T=e(62435),v=e(86074);function R(n){var j=(0,T.useState)(!1),m=u()(j,2),g=m[0],D=m[1],E=o.Z.useApp(),C=(0,i.useIntl)(),y=function(){D(!0),n.action().then(function(a){if(D(!1),typeof n.onSuccess=="function"&&n.onSuccess(a),n.messageSuccess){var l="";typeof n.messageSuccess=="function"?l=n.messageSuccess(a):l=n.messageSuccess,l.indexOf(".")>-1&&(l=C.formatMessage({id:l})),n.asynced?(0,S.Rk)(E,l):(0,S.$h)(E,l)}}).catch(function(a){D(!1),typeof n.onError=="function"&&n.onError(a)})};return n.confirm?(0,v.jsx)(A.Z,{style:{width:500},title:"\u63D0\u793A",description:n.confirm,onConfirm:y,okText:"Yes",cancelText:"No",children:(0,v.jsx)(f.ZP,{disabled:n.disabled,icon:n.icon,loading:g,danger:n.danger,type:n.type,children:n.children})}):(0,v.jsx)(b.Z,{title:n.tips,children:(0,v.jsx)(f.ZP,{disabled:n.disabled,icon:n.icon,loading:g,onClick:y,danger:n.danger,type:n.type,children:n.children})})}},99343:function(x,p,e){e.r(p),e.d(p,{default:function(){return W}});var P=e(15009),u=e.n(P),S=e(99289),i=e.n(S),o=e(6110),A=e(90639),f=e(62597),b=e(14726),T=e(83062),v=e(78957),R=e(68508),n=e(54006),j=e(87462),m=e(62435),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M876.6 239.5c-.5-.9-1.2-1.8-2-2.5-5-5-13.1-5-18.1 0L684.2 409.3l-67.9-67.9L788.7 169c.8-.8 1.4-1.6 2-2.5 3.6-6.1 1.6-13.9-4.5-17.5-98.2-58-226.8-44.7-311.3 39.7-67 67-89.2 162-66.5 247.4l-293 293c-3 3-2.8 7.9.3 11l169.7 169.7c3.1 3.1 8.1 3.3 11 .3l292.9-292.9c85.5 22.8 180.5.7 247.6-66.4 84.4-84.5 97.7-213.1 39.7-311.3zM786 499.8c-58.1 58.1-145.3 69.3-214.6 33.6l-8.8 8.8-.1-.1-274 274.1-79.2-79.2 230.1-230.1s0 .1.1.1l52.8-52.8c-35.7-69.3-24.5-156.5 33.6-214.6a184.2 184.2 0 01144-53.5L537 318.9a32.05 32.05 0 000 45.3l124.5 124.5a32.05 32.05 0 0045.3 0l132.8-132.8c3.7 51.8-14.4 104.8-53.6 143.9z"}}]},name:"tool",theme:"outlined"},D=g,E=e(84089),C=function(O,d){return m.createElement(E.Z,(0,j.Z)({},O,{ref:d,icon:D}))},y=m.forwardRef(C),r=y,a=e(96974),l=e(80821),t=e(6409),s=e(86074);function W(){var K=(0,a.UO)(),O=(0,m.useRef)();return(0,m.useEffect)(function(){var d;(d=O.current)===null||d===void 0||d.reload()},[K]),(0,s.jsx)(o._z,{header:{extra:[(0,s.jsx)(b.ZP,{type:"primary",children:(0,s.jsx)(n.Link,{to:"/app/create/image",children:"\u521B\u5EFA\u5BB9\u5668"})},"create")]},children:(0,s.jsx)(A.Z,{actionRef:O,columns:[{title:"\u540D\u79F0",ellipsis:!0,dataIndex:"siteTitle"},{title:"\u6807\u8BC6",ellipsis:!0,dataIndex:"siteName"},{title:"\u5220\u9664\u65E5\u671F",ellipsis:!0,dataIndex:"deletedAt",search:!1,width:180},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:100,render:function(L,_,B,h){return[(0,s.jsx)(n.Link,{to:"/app/create/image?id="+_.id,type:"link",children:(0,s.jsx)(T.Z,{title:"\u518D\u6B21\u6784\u5EFA",children:(0,s.jsx)(r,{})})},"rebuild")]}}],rowKey:"id",request:function(){var d=i()(u()().mark(function L(_,B,h){var c,I,U;return u()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,(0,f.cl)({pageSize:(c=_.pageSize)!==null&&c!==void 0?c:10,page:(I=_.current)!==null&&I!==void 0?I:1,isDelete:!0,siteTitle:_.siteTitle,siteName:_.siteName});case 2:return U=M.sent,M.abrupt("return",{data:U.data.list,success:!0,total:U.data.total});case 4:case"end":return M.stop()}},L)}));return function(L,_,B){return d.apply(this,arguments)}}(),rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},tableAlertOptionRender:function(L){var _=L.selectedRowKeys;return(0,s.jsx)(v.Z,{size:16,children:(0,s.jsx)(l.Z,{danger:!0,type:"primary",action:function(){return(0,f.xb)({id:_})},onSuccess:function(){var h,c;return!((h=O.current)===null||h===void 0)&&h.reloadAndRest&&((c=O.current)===null||c===void 0||c.reloadAndRest()),!0},onError:function(){var h,c;return!((h=O.current)===null||h===void 0)&&h.reset&&((c=O.current)===null||c===void 0||c.reset()),!0},messageSuccess:"\u5220\u9664\u6210\u529F",children:"\u6279\u91CF\u5220\u9664"})})},pagination:(0,t.O)(),search:{collapsed:!1},tableExtraRender:function(){return(0,s.jsx)(R.Z,{mode:"horizontal",selectedKeys:["recycle"],items:[{label:(0,s.jsx)(n.Link,{to:"/app/list",replace:!0,children:"\u5BB9\u5668\u5217\u8868"}),key:"all"},{label:(0,s.jsx)(n.Link,{to:"/app/recycle",replace:!0,children:"\u56DE\u6536\u7AD9"}),key:"recycle"}]})}})})}},62597:function(x,p,e){e.d(p,{$G:function(){return A},Ct:function(){return m},Tb:function(){return v},cl:function(){return b},iE:function(){return n},lK:function(){return C},xb:function(){return D}});var P=e(15009),u=e.n(P),S=e(99289),i=e.n(S),o=e(54006);function A(r){return f.apply(this,arguments)}function f(){return f=i()(u()().mark(function r(a){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,o.request)("/api/app/site/create-by-image",{method:"POST",data:a}));case 1:case"end":return t.stop()}},r)})),f.apply(this,arguments)}function b(r){return T.apply(this,arguments)}function T(){return T=i()(u()().mark(function r(a){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,o.request)("/api/app/site/get-list",{method:"POST",data:a}));case 1:case"end":return t.stop()}},r)})),T.apply(this,arguments)}function v(r){return R.apply(this,arguments)}function R(){return R=i()(u()().mark(function r(a){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.request)("/api/app/log/run",{method:"POST",data:a});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},r)})),R.apply(this,arguments)}function n(r){return j.apply(this,arguments)}function j(){return j=i()(u()().mark(function r(a){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.request)("/api/app/site/get-detail",{data:a,method:"POST"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},r)})),j.apply(this,arguments)}function m(r){return g.apply(this,arguments)}function g(){return g=i()(u()().mark(function r(a){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,o.request)("/api/app/container/delete",{method:"POST",data:a}));case 1:case"end":return t.stop()}},r)})),g.apply(this,arguments)}function D(r){return E.apply(this,arguments)}function E(){return E=i()(u()().mark(function r(a){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,o.request)("/api/app/site/delete",{method:"POST",data:a}));case 1:case"end":return t.stop()}},r)})),E.apply(this,arguments)}function C(r){return y.apply(this,arguments)}function y(){return y=i()(u()().mark(function r(a){return u()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,o.request)("/api/app/site/update-title",{method:"POST",data:a});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},r)})),y.apply(this,arguments)}},6409:function(x,p,e){e.d(p,{O:function(){return P}});function P(){return{showSizeChanger:!0,defaultPageSize:20}}}}]);
