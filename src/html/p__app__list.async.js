"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4316],{89035:function(L,D,e){e.d(D,{Z:function(){return C}});var j=e(87462),a=e(62435),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 00308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 00-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"code",theme:"outlined"},c=v,d=e(84089),O=function(M,r){return a.createElement(d.Z,(0,j.Z)({},M,{ref:r,icon:c}))},m=a.forwardRef(O),C=m},27496:function(L,D,e){e.d(D,{Z:function(){return C}});var j=e(87462),a=e(62435),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},c=v,d=e(84089),O=function(M,r){return a.createElement(d.Z,(0,j.Z)({},M,{ref:r,icon:c}))},m=a.forwardRef(O),C=m},80821:function(L,D,e){e.d(D,{Z:function(){return M}});var j=e(5574),a=e.n(j),v=e(93246),c=e(54006),d=e(31418),O=e(86738),m=e(14726),C=e(62435),E=e(86074);function M(r){var s=(0,C.useState)(!1),R=a()(s,2),l=R[0],o=R[1],f=d.Z.useApp(),g=(0,c.useIntl)(),i=function(){o(!0),r.action().then(function(T){if(o(!1),typeof r.onSuccess=="function"&&r.onSuccess(T),r.messageSuccess){var n="";r.messageSuccess.indexOf(".")>-1?n=g.formatMessage({id:r.messageSuccess}):n=r.messageSuccess,r.asynced?(0,v.Rk)(f,n):(0,v.$h)(f,n)}}).catch(function(T){o(!1),typeof r.onError=="function"&&r.onError(T)})};return r.confirm?(0,E.jsx)(O.Z,{style:{width:500},title:"\u63D0\u793A",description:r.confirm,onConfirm:i,okText:"Yes",cancelText:"No",children:(0,E.jsx)(m.ZP,{disabled:r.disabled,icon:r.icon,loading:l,danger:r.danger,type:r.type,children:r.children})}):(0,E.jsx)(m.ZP,{disabled:r.disabled,icon:r.icon,loading:l,onClick:i,danger:r.danger,type:r.type,children:r.children})}},94359:function(L,D,e){e.d(D,{Z:function(){return R}});var j=e(62435),a=e(3089),v=e(98165),c=e(18429),d=e(8751),O=e(14313),m=e(30159),C=e(87740),E=e(66309),M=e(83062),r=e(54006),s=e(86074);function R(l){var o=(0,s.jsx)(s.Fragment,{});return l.status=="0"&&(o=(0,s.jsx)(E.Z,{icon:(0,s.jsx)(a.Z,{}),color:"default",children:"waiting"})),l.status=="10"&&(o=(0,s.jsx)(E.Z,{icon:(0,s.jsx)(v.Z,{spin:!0}),color:"processing",children:"processing"})),l.status=="20"&&(o=(0,s.jsx)(E.Z,{icon:(0,s.jsx)(c.Z,{}),color:"error",children:"error"})),l.status=="30"&&(o=(0,s.jsx)(E.Z,{icon:(0,s.jsx)(d.Z,{}),color:"success",children:"success"})),l.status=="running"&&(o=(0,s.jsx)(E.Z,{icon:(0,s.jsx)(O.Z,{}),color:"success",children:l.status})),l.status=="paused"&&(o=(0,s.jsx)(E.Z,{icon:(0,s.jsx)(m.Z,{}),children:l.status})),l.status=="restarting"&&(o=(0,s.jsx)(E.Z,{icon:(0,s.jsx)(C.Z,{}),children:l.status})),(l.status=="exited"||l.status=="dead"||l.status=="removing")&&(o=(0,s.jsx)(E.Z,{icon:(0,s.jsx)(c.Z,{}),color:"warning",children:l.status})),l.link&&(o=(0,s.jsx)(r.Link,{to:l.link,children:o})),l.message&&(o=(0,s.jsx)(M.Z,{placement:"left",title:l.message,children:o})),(0,s.jsx)(s.Fragment,{children:o})}},78498:function(L,D,e){e.d(D,{Z:function(){return O}});var j=e(25035),a=e(78957),v=e(83062),c=e(62435),d=e(86074);function O(m){return(0,d.jsxs)(a.Z,{children:[m.title,(0,d.jsx)(v.Z,{title:m.help,children:(0,d.jsx)(j.Z,{})})]})}},67933:function(L,D,e){e.r(D),e.d(D,{default:function(){return Z}});var j=e(15009),a=e.n(j),v=e(99289),c=e.n(v),d=e(12010),O=e(78957),m=e(66309),C=e(75891),E=e(96074),M=e(83062),r=e(68508),s=e(54006),R=e(27496),l=e(43425),o=e(95591),f=e(45742),g=e(89035),i=e(94359),u=e(78498),T=e(60335),n=e(80821),K=e(62435),y=e(62597),_=e(86074);function Z(){var F=(0,s.useParams)(),I=(0,K.useRef)();return(0,_.jsx)(d.Z,{actionRef:I,columns:[{title:"\u6807\u8BC6",ellipsis:!0,dataIndex:"Names",render:function(A,t,P,p){return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(s.Link,{to:t.Id?"/app/detail/edit/".concat(t.Id):"#",children:t.Names[0]})})}},{title:"\u540D\u79F0",ellipsis:!0,dataIndex:"siteTitle",render:function(A,t,P,p,h){return(0,_.jsx)(_.Fragment,{children:t.Names.length>1?t.Names[t.Names.length-1]:"-"})}},{title:(0,_.jsx)(u.Z,{title:"\u5F00\u653E\u7AEF\u53E3",help:"\u5BF9\u5916\u66B4\u9732\u7AEF\u53E3\u65F6\u53EF\u4EE5\u76F4\u63A5\u901A\u8FC7\u670D\u52A1\u5668ip(\u516C\u7F51,\u5185\u7F51,127.0.0.1)\u52A0\u7AEF\u53E3\u7684\u5F62\u5F0F\u8FDB\u884C\u8BBF\u95EE\u3002\u5982\u679C\u9700\u8981\u7ED1\u5B9A\u57DF\u540D,\u8BF7\u6DFB\u52A0\u7AD9\u70B9\u7ED1\u5B9A\u57DF\u540D\u8F6C\u53D1."}),dataIndex:"ports",search:!1,ellipsis:!0,render:function(A,t,P,p){return(0,_.jsx)(O.Z,{direction:"vertical",style:{textAlign:"left"},children:t==null?void 0:t.Ports.map(function(h,x){return(0,_.jsx)(m.Z,{color:h.PublicPort?"#2db7f5":"warning",icon:h.PublicPort?(0,_.jsx)(R.Z,{}):"",children:"".concat(h.PublicPort?h.IP+":"+h.PublicPort+"->":"").concat(h.PrivatePort,"/").concat(h.Type)},x)})})}},{title:"\u6240\u5C5E\u955C\u50CF",search:!1,ellipsis:!0,render:function(A,t,P,p){return(0,_.jsx)(C.Z.Text,{ellipsis:{tooltip:t.Image},children:(0,_.jsx)(s.Link,{to:"/image/detail/".concat(t.ImageID),children:t.Image})})}},{title:"\u72B6\u6001",dataIndex:["container","status"],search:!1,width:120,render:function(A,t,P,p){return[(0,_.jsx)("div",{children:(0,_.jsx)(i.Z,{status:t.State})},"status")]}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:200,render:function(A,t,P,p){return(0,_.jsxs)(O.Z,{split:(0,_.jsx)(E.Z,{type:"vertical"}),children:[(0,_.jsx)(s.Link,{to:"/app/detail/edit/"+t.Id,children:(0,_.jsx)(M.Z,{title:"\u7BA1\u7406\u955C\u50CF",children:(0,_.jsx)(l.Z,{})})},"edit"),t.State=="running"&&(0,_.jsx)(s.Link,{to:"/app/detail/file/"+t.Id+"?tab=file",children:(0,_.jsx)(M.Z,{title:"\u6587\u4EF6\u7BA1\u7406",children:(0,_.jsx)(o.Z,{})})},"file"),t.State=="running"&&(0,_.jsx)(s.Link,{to:"/app/detail/log/"+t.Id+"?tab=log",children:(0,_.jsx)(M.Z,{title:"\u8FD0\u884C\u65E5\u5FD7",children:(0,_.jsx)(f.Z,{})})},"log"),t.State=="running"&&(0,_.jsx)(s.Link,{target:"_blank",to:"/app/detail/console/"+t.Id+"?tab=console",children:(0,_.jsx)(M.Z,{title:"\u7EC8\u7AEF",children:(0,_.jsx)(g.Z,{})})},"console")]})}}],rowKey:"Id",request:function(){var B=c()(a()().mark(function A(t,P,p){return a()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",new Promise(function(S,$){(0,T.IE)({tag:t.Names,siteTitle:t.siteTitle}).then(function(U){var W,b={data:(W=U.data.list)!==null&&W!==void 0?W:[],success:!0,total:U.data.list.length};S(b)})}));case 1:case"end":return x.stop()}},A)}));return function(A,t,P){return B.apply(this,arguments)}}(),rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},tableAlertOptionRender:function(A){var t=A.selectedRowKeys;return(0,_.jsx)(O.Z,{size:16,children:(0,_.jsx)(n.Z,{danger:!0,type:"primary",action:function(){var p=t.map(function(h){return(0,y.Ct)({md5:h,deleteImage:!1,deleteVolume:!1})});return Promise.all(p)},onSuccess:function(){var p,h;return!((p=I.current)===null||p===void 0)&&p.reloadAndRest&&((h=I.current)===null||h===void 0||h.reloadAndRest()),!0},onError:function(){var p,h;return!((p=I.current)===null||p===void 0)&&p.reset&&((h=I.current)===null||h===void 0||h.reset()),!0},messageSuccess:"\u5220\u9664\u6210\u529F",children:"\u6279\u91CF\u5220\u9664"})})},pagination:{pageSize:10},search:{collapsed:!1},tableExtraRender:function(){return(0,_.jsx)(r.Z,{mode:"horizontal",selectedKeys:["list"],items:[{label:(0,_.jsx)(s.Link,{to:"/app/list",replace:!0,children:"\u5BB9\u5668\u5217\u8868"}),key:"list"},{label:(0,_.jsx)(s.Link,{to:"/app/list/recycle",replace:!0,children:"\u56DE\u6536\u7AD9"}),key:"recycle"}]})},toolBarRender:function(){return[(0,_.jsx)(n.Z,{action:function(){return(0,T.KK)()},onSuccess:function(){var t,P;return!((t=I.current)===null||t===void 0)&&t.reloadAndRest&&((P=I.current)===null||P===void 0||P.reloadAndRest()),!0},onError:function(){var t,P;return!((t=I.current)===null||t===void 0)&&t.reset&&((P=I.current)===null||P===void 0||P.reset()),!0},messageSuccess:"\u6E05\u9664\u6210\u529F",confirm:"\u662F\u5426\u6E05\u7406\u5DF2\u505C\u6B62\u7684\u5BB9\u5668",children:"\u6E05\u7406\u5DF2\u505C\u6B62\u5BB9\u5668"})]}})}},62597:function(L,D,e){e.d(D,{$G:function(){return O},Ct:function(){return l},Tb:function(){return M},cl:function(){return C},iE:function(){return s},xb:function(){return f}});var j=e(15009),a=e.n(j),v=e(99289),c=e.n(v),d=e(54006);function O(i){return m.apply(this,arguments)}function m(){return m=c()(a()().mark(function i(u){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("/api/app/site/create-by-image",{method:"POST",data:u}));case 1:case"end":return n.stop()}},i)})),m.apply(this,arguments)}function C(i){return E.apply(this,arguments)}function E(){return E=c()(a()().mark(function i(u){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("/api/app/site/get-list",{method:"POST",data:u}));case 1:case"end":return n.stop()}},i)})),E.apply(this,arguments)}function M(i){return r.apply(this,arguments)}function r(){return r=c()(a()().mark(function i(u){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,d.request)("/api/app/log/run",{method:"POST",data:u});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},i)})),r.apply(this,arguments)}function s(i){return R.apply(this,arguments)}function R(){return R=c()(a()().mark(function i(u){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,d.request)("/api/app/site/get-detail",{data:u,method:"POST"});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},i)})),R.apply(this,arguments)}function l(i){return o.apply(this,arguments)}function o(){return o=c()(a()().mark(function i(u){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("/api/app/container/delete",{method:"POST",data:u}));case 1:case"end":return n.stop()}},i)})),o.apply(this,arguments)}function f(i){return g.apply(this,arguments)}function g(){return g=c()(a()().mark(function i(u){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,d.request)("/api/app/site/delete",{method:"POST",data:u}));case 1:case"end":return n.stop()}},i)})),g.apply(this,arguments)}},60335:function(L,D,e){e.d(D,{IE:function(){return C},IW:function(){return O},KK:function(){return l},eE:function(){return s},jV:function(){return M}});var j=e(15009),a=e.n(j),v=e(99289),c=e.n(v),d=e(54006);function O(f){return m.apply(this,arguments)}function m(){return m=c()(a()().mark(function f(g){return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,d.request)("/api/app/container/status",{method:"POST",data:g}));case 1:case"end":return u.stop()}},f)})),m.apply(this,arguments)}function C(f){return E.apply(this,arguments)}function E(){return E=c()(a()().mark(function f(g){return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,d.request)("/api/app/container/get-list",{data:g,method:"POST"}));case 1:case"end":return u.stop()}},f)})),E.apply(this,arguments)}function M(f){return r.apply(this,arguments)}function r(){return r=c()(a()().mark(function f(g){return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,d.request)("/api/app/container/get-detail",{data:g,method:"POST"}));case 1:case"end":return u.stop()}},f)})),r.apply(this,arguments)}function s(f){return R.apply(this,arguments)}function R(){return R=c()(a()().mark(function f(g){return a()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,d.request)("/api/app/container/update",{data:g,method:"POST"}));case 1:case"end":return u.stop()}},f)})),R.apply(this,arguments)}function l(){return o.apply(this,arguments)}function o(){return o=c()(a()().mark(function f(){return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,d.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return i.stop()}},f)})),o.apply(this,arguments)}}}]);
