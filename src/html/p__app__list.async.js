"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4316],{89035:function(B,f,n){n.d(f,{Z:function(){return j}});var M=n(87462),_=n(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 00308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 00-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"code",theme:"outlined"},c=P,o=n(84089),D=function(O,a){return _.createElement(o.Z,(0,M.Z)({},O,{ref:a,icon:c}))},E=_.forwardRef(D),j=E},27496:function(B,f,n){n.d(f,{Z:function(){return j}});var M=n(87462),_=n(62435),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},c=P,o=n(84089),D=function(O,a){return _.createElement(o.Z,(0,M.Z)({},O,{ref:a,icon:c}))},E=_.forwardRef(D),j=E},80821:function(B,f,n){n.d(f,{Z:function(){return O}});var M=n(5574),_=n.n(M),P=n(93246),c=n(54006),o=n(31418),D=n(86738),E=n(14726),j=n(62435),l=n(86074);function O(a){var t=(0,j.useState)(!1),C=_()(t,2),r=C[0],u=C[1],d=o.Z.useApp(),v=(0,c.useIntl)(),h=function(){u(!0),a.action().then(function(I){if(u(!1),typeof a.onSuccess=="function"&&a.onSuccess(I),a.messageSuccess){var R="";a.messageSuccess.indexOf(".")>-1?R=v.formatMessage({id:a.messageSuccess}):R=a.messageSuccess,a.asynced?(0,P.Rk)(d,R):(0,P.$h)(d,R)}}).catch(function(I){u(!1),typeof a.onError=="function"&&a.onError(I)})};return a.confirm?(0,l.jsx)(D.Z,{style:{width:500},title:"\u63D0\u793A",description:a.confirm,onConfirm:h,okText:"Yes",cancelText:"No",children:(0,l.jsx)(E.ZP,{disabled:a.disabled,icon:a.icon,loading:r,danger:a.danger,type:a.type,children:a.children})}):(0,l.jsx)(E.ZP,{disabled:a.disabled,icon:a.icon,loading:r,onClick:h,danger:a.danger,type:a.type,children:a.children})}},94359:function(B,f,n){n.d(f,{Z:function(){return C}});var M=n(62435),_=n(3089),P=n(98165),c=n(18429),o=n(8751),D=n(14313),E=n(30159),j=n(87740),l=n(66309),O=n(83062),a=n(54006),t=n(86074);function C(r){var u=(0,t.jsx)(t.Fragment,{});return r.status=="0"&&(u=(0,t.jsx)(l.Z,{icon:(0,t.jsx)(_.Z,{}),color:"default",children:"waiting"})),r.status=="10"&&(u=(0,t.jsx)(l.Z,{icon:(0,t.jsx)(P.Z,{spin:!0}),color:"processing",children:"processing"})),r.status=="20"&&(u=(0,t.jsx)(l.Z,{icon:(0,t.jsx)(c.Z,{}),color:"error",children:"error"})),r.status=="30"&&(u=(0,t.jsx)(l.Z,{icon:(0,t.jsx)(o.Z,{}),color:"success",children:"success"})),r.status=="running"&&(u=(0,t.jsx)(l.Z,{icon:(0,t.jsx)(D.Z,{}),color:"success",children:r.status})),r.status=="paused"&&(u=(0,t.jsx)(l.Z,{icon:(0,t.jsx)(E.Z,{}),children:r.status})),r.status=="restarting"&&(u=(0,t.jsx)(l.Z,{icon:(0,t.jsx)(j.Z,{}),children:r.status})),(r.status=="exited"||r.status=="dead"||r.status=="removing")&&(u=(0,t.jsx)(l.Z,{icon:(0,t.jsx)(c.Z,{}),color:"warning",children:r.status})),r.link&&(u=(0,t.jsx)(a.Link,{to:r.link,children:u})),r.message&&(u=(0,t.jsx)(O.Z,{placement:"left",title:r.message,children:u})),(0,t.jsx)(t.Fragment,{children:u})}},78498:function(B,f,n){n.d(f,{Z:function(){return D}});var M=n(25035),_=n(78957),P=n(83062),c=n(62435),o=n(86074);function D(E){return(0,o.jsxs)(_.Z,{children:[E.title,(0,o.jsx)(P.Z,{title:E.help,children:(0,o.jsx)(M.Z,{})})]})}},67933:function(B,f,n){n.r(f),n.d(f,{default:function(){return Z}});var M=n(15009),_=n.n(M),P=n(99289),c=n.n(P),o=n(12010),D=n(78957),E=n(66309),j=n(75891),l=n(96074),O=n(83062),a=n(68508),t=n(54006),C=n(27496),r=n(43425),u=n(95591),d=n(45742),v=n(89035),h=n(94359),i=n(78498),I=n(60335),R=n(80821),K=n(62435),s=n(86074);function Z(){var F=(0,t.useParams)(),W=(0,K.useRef)();return(0,s.jsx)(o.Z,{actionRef:W,columns:[{title:"\u6807\u8BC6",ellipsis:!0,dataIndex:"Names",render:function(g,e,m,T){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(t.Link,{to:e.Id?"/app/detail/edit/".concat(e.Id):"#",children:e.Names[0]})})}},{title:"\u540D\u79F0",ellipsis:!0,dataIndex:"siteTitle",render:function(g,e,m,T,A){return(0,s.jsx)(s.Fragment,{children:e.Names.length>1?e.Names[e.Names.length-1]:"-"})}},{title:(0,s.jsx)(i.Z,{title:"\u5F00\u653E\u7AEF\u53E3",help:"\u5BF9\u5916\u66B4\u9732\u7AEF\u53E3\u65F6\u53EF\u4EE5\u76F4\u63A5\u901A\u8FC7\u670D\u52A1\u5668ip(\u516C\u7F51,\u5185\u7F51,127.0.0.1)\u52A0\u7AEF\u53E3\u7684\u5F62\u5F0F\u8FDB\u884C\u8BBF\u95EE\u3002\u5982\u679C\u9700\u8981\u7ED1\u5B9A\u57DF\u540D,\u8BF7\u6DFB\u52A0\u7AD9\u70B9\u7ED1\u5B9A\u57DF\u540D\u8F6C\u53D1."}),dataIndex:"ports",search:!1,ellipsis:!0,render:function(g,e,m,T){return(0,s.jsx)(D.Z,{direction:"vertical",style:{textAlign:"left"},children:e==null?void 0:e.Ports.map(function(A,L){return(0,s.jsx)(E.Z,{color:A.PublicPort?"#2db7f5":"warning",icon:A.PublicPort?(0,s.jsx)(C.Z,{}):"",children:"".concat(A.PublicPort?A.IP+":"+A.PublicPort+"->":"").concat(A.PrivatePort,"/").concat(A.Type)},L)})})}},{title:"\u6240\u5C5E\u955C\u50CF",search:!1,ellipsis:!0,render:function(g,e,m,T){return(0,s.jsx)(j.Z.Text,{ellipsis:{tooltip:e.Image},children:(0,s.jsx)(t.Link,{to:"/image/detail/".concat(e.ImageID),children:e.Image})})}},{title:"\u72B6\u6001",dataIndex:["container","status"],search:!1,width:120,render:function(g,e,m,T){return[(0,s.jsx)("div",{children:(0,s.jsx)(h.Z,{status:e.State})},"status")]}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:200,render:function(g,e,m,T){return(0,s.jsxs)(D.Z,{split:(0,s.jsx)(l.Z,{type:"vertical"}),children:[(0,s.jsx)(t.Link,{to:"/app/detail/edit/"+e.Id,children:(0,s.jsx)(O.Z,{title:"\u7BA1\u7406\u955C\u50CF",children:(0,s.jsx)(r.Z,{})})},"edit"),e.State=="running"&&(0,s.jsx)(t.Link,{to:"/app/detail/file/"+e.Id+"?tab=file",children:(0,s.jsx)(O.Z,{title:"\u6587\u4EF6\u7BA1\u7406",children:(0,s.jsx)(u.Z,{})})},"file"),e.State=="running"&&(0,s.jsx)(t.Link,{to:"/app/detail/log/"+e.Id+"?tab=log",children:(0,s.jsx)(O.Z,{title:"\u8FD0\u884C\u65E5\u5FD7",children:(0,s.jsx)(d.Z,{})})},"log"),e.State=="running"&&(0,s.jsx)(t.Link,{target:"_blank",to:"/app/detail/console/"+e.Id+"?tab=console",children:(0,s.jsx)(O.Z,{title:"\u7EC8\u7AEF",children:(0,s.jsx)(v.Z,{})})},"console")]})}}],rowKey:"Id",request:function(){var x=c()(_()().mark(function g(e,m,T){return _()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",new Promise(function(y,S){(0,I.IE)({tag:e.Names,siteTitle:e.siteTitle}).then(function(U){var p={data:U.data.list,success:!0,total:U.data.list.length};y(p)})}));case 1:case"end":return L.stop()}},g)}));return function(g,e,m){return x.apply(this,arguments)}}(),pagination:{pageSize:10},search:{collapsed:!1},tableExtraRender:function(){return(0,s.jsx)(a.Z,{mode:"horizontal",selectedKeys:["list"],items:[{label:(0,s.jsx)(t.Link,{to:"/app/list",replace:!0,children:"\u5BB9\u5668\u5217\u8868"}),key:"list"},{label:(0,s.jsx)(t.Link,{to:"/app/list/recycle",replace:!0,children:"\u56DE\u6536\u7AD9"}),key:"recycle"}]})},toolBarRender:function(){return[(0,s.jsx)(R.Z,{action:function(){return(0,I.KK)()},onSuccess:function(){var e,m;return!((e=W.current)===null||e===void 0)&&e.reloadAndRest&&((m=W.current)===null||m===void 0||m.reloadAndRest()),!0},onError:function(){var e,m;return!((e=W.current)===null||e===void 0)&&e.reset&&((m=W.current)===null||m===void 0||m.reset()),!0},messageSuccess:"\u6E05\u9664\u6210\u529F",confirm:"\u662F\u5426\u6E05\u7406\u5DF2\u505C\u6B62\u7684\u5BB9\u5668",children:"\u6E05\u7406\u5DF2\u505C\u6B62\u5BB9\u5668"})]}})}},60335:function(B,f,n){n.d(f,{IE:function(){return j},IW:function(){return D},KK:function(){return r},eE:function(){return t},jV:function(){return O}});var M=n(15009),_=n.n(M),P=n(99289),c=n.n(P),o=n(54006);function D(d){return E.apply(this,arguments)}function E(){return E=c()(_()().mark(function d(v){return _()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,o.request)("/api/app/container/status",{method:"POST",data:v}));case 1:case"end":return i.stop()}},d)})),E.apply(this,arguments)}function j(d){return l.apply(this,arguments)}function l(){return l=c()(_()().mark(function d(v){return _()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,o.request)("/api/app/container/get-list",{data:v,method:"POST"}));case 1:case"end":return i.stop()}},d)})),l.apply(this,arguments)}function O(d){return a.apply(this,arguments)}function a(){return a=c()(_()().mark(function d(v){return _()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,o.request)("/api/app/container/get-detail",{data:v,method:"POST"}));case 1:case"end":return i.stop()}},d)})),a.apply(this,arguments)}function t(d){return C.apply(this,arguments)}function C(){return C=c()(_()().mark(function d(v){return _()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,o.request)("/api/app/container/update",{data:v,method:"POST"}));case 1:case"end":return i.stop()}},d)})),C.apply(this,arguments)}function r(){return u.apply(this,arguments)}function u(){return u=c()(_()().mark(function d(){return _()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",(0,o.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return h.stop()}},d)})),u.apply(this,arguments)}}}]);
