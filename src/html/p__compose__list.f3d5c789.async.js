"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8022],{14313:function(z,I,n){n.d(I,{Z:function(){return B}});var m=n(87462),s=n(62435),U={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},p=U,f=n(84089),L=function(S,M){return s.createElement(f.Z,(0,m.Z)({},S,{ref:M,icon:p}))},b=s.forwardRef(L),B=b},80821:function(z,I,n){n.d(I,{Z:function(){return M}});var m=n(5574),s=n.n(m),U=n(93246),p=n(54006),f=n(31418),L=n(86738),b=n(14726),B=n(83062),D=n(62435),S=n(86074);function M(i){var j=(0,D.useState)(!1),K=s()(j,2),P=K[0],y=K[1],R=f.Z.useApp(),h=(0,p.useIntl)(),v=function(){y(!0),i.action().then(function(o){if(y(!1),typeof i.onSuccess=="function"&&i.onSuccess(o),i.messageSuccess){var l="";i.messageSuccess.indexOf(".")>-1?l=h.formatMessage({id:i.messageSuccess}):l=i.messageSuccess,i.asynced?(0,U.Rk)(R,l):(0,U.$h)(R,l)}}).catch(function(o){y(!1),typeof i.onError=="function"&&i.onError(o)})};return i.confirm?(0,S.jsx)(L.Z,{style:{width:500},title:"\u63D0\u793A",description:i.confirm,onConfirm:v,okText:"Yes",cancelText:"No",children:(0,S.jsx)(b.ZP,{disabled:i.disabled,icon:i.icon,loading:P,danger:i.danger,type:i.type,children:i.children})}):(0,S.jsx)(B.Z,{title:i.tips,children:(0,S.jsx)(b.ZP,{disabled:i.disabled,icon:i.icon,loading:P,onClick:v,danger:i.danger,type:i.type,children:i.children})})}},96781:function(z,I,n){var m=n(62435),s=(0,m.createContext)({});I.Z=s},92922:function(z,I,n){n.r(I),n.d(I,{default:function(){return t}});var m=n(15009),s=n.n(m),U=n(99289),p=n.n(U),f=n(5574),L=n.n(f),b=n(80821),B=n(24910),D=n(14313),S=n(45605),M=n(50888),i=n(43425),j=n(57132),K=n(90639),P=n(54006),y=n(78957),R=n(66309),h=n(96074),v=n(83062),T=n(75891),o=n(62435),l=n(96781),O=n(60335),c=n(86074);function t(){var H=(0,o.useContext)(l.Z),Y=H.createYamlFormRef,Z=H.listTableRef,G=(0,o.useState)([]),V=L()(G,2),e=V[0],_=V[1];return(0,o.useEffect)(function(){(0,O.IE)({}).then(function(d){_(d.data.list)})},[]),(0,c.jsx)(K.Z,{request:function(){var d=p()(s()().mark(function r(a){var E,u,C;return s()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,B.pm)({title:a.title,name:a.name,pageSize:(E=a.pageSize)!==null&&E!==void 0?E:10,page:(u=a.current)!==null&&u!==void 0?u:1});case 2:return C=g.sent,g.abrupt("return",{data:C.data.list,success:!0,total:C.data.total});case 4:case"end":return g.stop()}},r)}));return function(r){return d.apply(this,arguments)}}(),rowKey:"id",columns:[{title:"\u6807\u8BC6",dataIndex:"name",width:200,render:function(r,a,E,u,C){return(0,c.jsx)(P.Link,{to:"/compose/deploy/"+a.id,children:a.name},E)}},{title:"\u540D\u79F0",dataIndex:"title",width:200},{title:"\u5BB9\u5668\u72B6\u6001",render:function(r,a,E,u,C){var W=[];return e.map(function(g){g.Names.map(function(A){A.startsWith("/"+a.name+"-")&&W.push(g)})}),W.length>0?W.map(function(g,A){return(0,c.jsx)(y.Z,{wrap:!0,children:(0,c.jsx)(R.Z,{color:g.State=="running"?"success":"warning",icon:g.State=="running"?(0,c.jsx)(D.Z,{}):(0,c.jsx)(S.Z,{}),children:g.Names[0]})},A)}):(0,c.jsx)(M.Z,{})}},{title:"\u64CD\u4F5C",width:100,valueType:"option",key:"option",render:function(r,a,E,u,C){return(0,c.jsxs)(y.Z,{split:(0,c.jsx)(h.Z,{type:"vertical"}),children:[(0,c.jsx)(P.Link,{to:"/compose/deploy/"+a.id,children:(0,c.jsx)(v.Z,{title:"\u7BA1\u7406",children:(0,c.jsx)(i.Z,{})})},"3"),(0,c.jsx)(P.Link,{to:"#",onClick:function(){var g;(g=Y.current)===null||g===void 0||g.showCopy(a)},children:(0,c.jsx)(v.Z,{title:"\u590D\u5236",children:(0,c.jsx)(j.Z,{})})},"2")]})}}],pagination:{pageSize:10},search:{collapsed:!1},rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},actionRef:Z,tableAlertOptionRender:function(r){var a=r.selectedRowKeys;return(0,c.jsx)(y.Z,{size:16,children:(0,c.jsx)(b.Z,{danger:!0,type:"primary",action:function(){return(0,B.ik)({id:a})},onSuccess:function(){var u,C;return!((u=Z.current)===null||u===void 0)&&u.reloadAndRest&&((C=Z.current)===null||C===void 0||C.reloadAndRest()),!0},onError:function(){var u,C;return!((u=Z.current)===null||u===void 0)&&u.reset&&((C=Z.current)===null||C===void 0||C.reset()),!0},messageSuccess:"\u5220\u9664\u6210\u529F",confirm:(0,c.jsx)(y.Z,{style:{width:280},direction:"vertical",children:(0,c.jsx)(T.Z.Text,{children:"\u5220\u9664\u955C\u50CF\u540E\u65E0\u6CD5\u6062\u590D,\u786E\u8BA4\u5417\uFF1F"})}),children:"\u6279\u91CF\u5220\u9664"})})}})}},24910:function(z,I,n){n.d(I,{GG:function(){return h},Oh:function(){return K},U_:function(){return T},YZ:function(){return S},ik:function(){return i},im:function(){return L},mg:function(){return y},pm:function(){return B}});var m=n(15009),s=n.n(m),U=n(99289),p=n.n(U),f=n(54006);function L(l){return b.apply(this,arguments)}function b(){return b=p()(s()().mark(function l(O){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/app/compose/create",{method:"POST",data:O}));case 1:case"end":return t.stop()}},l)})),b.apply(this,arguments)}function B(l){return D.apply(this,arguments)}function D(){return D=p()(s()().mark(function l(O){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/app/compose/get-list",{method:"POST",data:O}));case 1:case"end":return t.stop()}},l)})),D.apply(this,arguments)}function S(l){return M.apply(this,arguments)}function M(){return M=p()(s()().mark(function l(O){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/app/compose/get-detail",{method:"POST",data:O}));case 1:case"end":return t.stop()}},l)})),M.apply(this,arguments)}function i(l){return j.apply(this,arguments)}function j(){return j=p()(s()().mark(function l(O){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/app/compose/delete",{method:"POST",data:O}));case 1:case"end":return t.stop()}},l)})),j.apply(this,arguments)}function K(l){return P.apply(this,arguments)}function P(){return P=p()(s()().mark(function l(O){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/app/compose/container-deploy",{method:"POST",data:O}));case 1:case"end":return t.stop()}},l)})),P.apply(this,arguments)}function y(l){return R.apply(this,arguments)}function R(){return R=p()(s()().mark(function l(O){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/app/compose/container-destroy",{method:"POST",data:O}));case 1:case"end":return t.stop()}},l)})),R.apply(this,arguments)}function h(l){return v.apply(this,arguments)}function v(){return v=p()(s()().mark(function l(O){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/app/compose/container-ctrl",{method:"POST",data:O}));case 1:case"end":return t.stop()}},l)})),v.apply(this,arguments)}function T(l){return o.apply(this,arguments)}function o(){return o=p()(s()().mark(function l(O){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,f.request)("/api/app/compose/container-process-kill",{method:"POST",data:O}));case 1:case"end":return t.stop()}},l)})),o.apply(this,arguments)}},60335:function(z,I,n){n.d(I,{IE:function(){return B},IW:function(){return L},KK:function(){return K},LJ:function(){return y},eE:function(){return i},jV:function(){return S}});var m=n(15009),s=n.n(m),U=n(99289),p=n.n(U),f=n(54006);function L(h){return b.apply(this,arguments)}function b(){return b=p()(s()().mark(function h(v){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,f.request)("/api/app/container/status",{method:"POST",data:v}));case 1:case"end":return o.stop()}},h)})),b.apply(this,arguments)}function B(h){return D.apply(this,arguments)}function D(){return D=p()(s()().mark(function h(v){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,f.request)("/api/app/container/get-list",{data:v,method:"POST"}));case 1:case"end":return o.stop()}},h)})),D.apply(this,arguments)}function S(h){return M.apply(this,arguments)}function M(){return M=p()(s()().mark(function h(v){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,f.request)("/api/app/container/get-detail",{data:v,method:"POST"}));case 1:case"end":return o.stop()}},h)})),M.apply(this,arguments)}function i(h){return j.apply(this,arguments)}function j(){return j=p()(s()().mark(function h(v){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,f.request)("/api/app/container/update",{data:v,method:"POST"}));case 1:case"end":return o.stop()}},h)})),j.apply(this,arguments)}function K(){return P.apply(this,arguments)}function P(){return P=p()(s()().mark(function h(){return s()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",(0,f.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return T.stop()}},h)})),P.apply(this,arguments)}function y(h){return R.apply(this,arguments)}function R(){return R=p()(s()().mark(function h(v){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,f.request)("/api/app/container/export",{method:"POST",data:v,responseType:"blob"}));case 1:case"end":return o.stop()}},h)})),R.apply(this,arguments)}},66309:function(z,I,n){n.d(I,{Z:function(){return V}});var m=n(62435),s=n(97937),U=n(93967),p=n.n(U),f=n(98787),L=n(69760),b=n(45353),B=n(53124),D=n(54548),S=n(10274),M=n(14747),i=n(45503),j=n(91945);const K=e=>{const{paddingXXS:_,lineWidth:d,tagPaddingHorizontal:r,componentCls:a,calc:E}=e,u=E(r).sub(d).equal(),C=E(_).sub(d).equal();return{[a]:Object.assign(Object.assign({},(0,M.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:u,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,D.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${a}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${a}-close-icon`]:{marginInlineStart:C,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${a}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${a}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:u}}),[`${a}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},P=e=>{const{lineWidth:_,fontSizeIcon:d,calc:r}=e,a=e.fontSizeSM;return(0,i.TS)(e,{tagFontSize:a,tagLineHeight:(0,D.bf)(r(e.lineHeightSM).mul(a).equal()),tagIconSize:r(d).sub(r(_).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},y=e=>({defaultBg:new S.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var R=(0,j.I$)("Tag",e=>{const _=P(e);return K(_)},y),h=function(e,_){var d={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&_.indexOf(r)<0&&(d[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)_.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(d[r[a]]=e[r[a]]);return d},T=m.forwardRef((e,_)=>{const{prefixCls:d,style:r,className:a,checked:E,onChange:u,onClick:C}=e,W=h(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:g,tag:A}=m.useContext(B.E_),X=Q=>{u==null||u(!E),C==null||C(Q)},N=g("tag",d),[w,k,J]=R(N),$=p()(N,`${N}-checkable`,{[`${N}-checkable-checked`]:E},A==null?void 0:A.className,a,k,J);return w(m.createElement("span",Object.assign({},W,{ref:_,style:Object.assign(Object.assign({},r),A==null?void 0:A.style),className:$,onClick:X})))}),o=n(98719);const l=e=>(0,o.Z)(e,(_,d)=>{let{textColor:r,lightBorderColor:a,lightColor:E,darkColor:u}=d;return{[`${e.componentCls}${e.componentCls}-${_}`]:{color:r,background:E,borderColor:a,"&-inverse":{color:e.colorTextLightSolid,background:u,borderColor:u},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var O=(0,j.bk)(["Tag","preset"],e=>{const _=P(e);return l(_)},y);function c(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const t=(e,_,d)=>{const r=c(d);return{[`${e.componentCls}${e.componentCls}-${_}`]:{color:e[`color${d}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var H=(0,j.bk)(["Tag","status"],e=>{const _=P(e);return[t(_,"success","Success"),t(_,"processing","Info"),t(_,"error","Error"),t(_,"warning","Warning")]},y),Y=function(e,_){var d={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&_.indexOf(r)<0&&(d[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)_.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(d[r[a]]=e[r[a]]);return d};const Z=(e,_)=>{const{prefixCls:d,className:r,rootClassName:a,style:E,children:u,icon:C,color:W,onClose:g,closeIcon:A,closable:X,bordered:N=!0}=e,w=Y(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:k,direction:J,tag:$}=m.useContext(B.E_),[Q,ee]=m.useState(!0);m.useEffect(()=>{"visible"in w&&ee(w.visible)},[w.visible]);const ne=(0,f.o2)(W),te=(0,f.yT)(W),q=ne||te,oe=Object.assign(Object.assign({backgroundColor:W&&!q?W:void 0},$==null?void 0:$.style),E),x=k("tag",d),[le,ie,ue]=R(x),ce=p()(x,$==null?void 0:$.className,{[`${x}-${W}`]:q,[`${x}-has-color`]:W&&!q,[`${x}-hidden`]:!Q,[`${x}-rtl`]:J==="rtl",[`${x}-borderless`]:!N},r,a,ie,ue),re=F=>{F.stopPropagation(),g==null||g(F),!F.defaultPrevented&&ee(!1)},[,_e]=(0,L.Z)({closable:X,closeIcon:A!=null?A:$==null?void 0:$.closeIcon,customCloseIconRender:F=>F===null?m.createElement(s.Z,{className:`${x}-close-icon`,onClick:re}):m.createElement("span",{className:`${x}-close-icon`,onClick:re},F),defaultCloseIcon:null,defaultClosable:!1}),de=typeof w.onClick=="function"||u&&u.type==="a",ae=C||null,me=ae?m.createElement(m.Fragment,null,ae,u&&m.createElement("span",null,u)):u,se=m.createElement("span",Object.assign({},w,{ref:_,className:ce,style:oe}),me,_e,ne&&m.createElement(O,{key:"preset",prefixCls:x}),te&&m.createElement(H,{key:"status",prefixCls:x}));return le(de?m.createElement(b.Z,{component:"Tag"},se):se)},G=m.forwardRef(Z);G.CheckableTag=T;var V=G}}]);
