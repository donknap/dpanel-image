"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3985],{44771:function(ee,V,t){t.d(V,{Z:function(){return i}});var z=t(34041),r=t(25449),Y=t(62435),o=t(86074);function i(D){return(0,o.jsx)(r.Z,{name:"restart",initialValue:D.defaultValue?D.defaultValue:"on-failure",children:(0,o.jsx)(z.Z,{options:[{value:"no",label:"\u4E0D\u91CD\u542F"},{value:"on-failure",label:"\u975E\u6B63\u5E38\u9000\u51FA\u65F6,\u6700\u591A5\u6B21 - on failure"},{value:"unless-stopped",label:"\u9000\u51FA\u540E\u91CD\u542F\uFF0C\u4E0D\u5305\u62EC\u624B\u52A8\u505C\u6B62\u7684 - unless stopped"},{value:"always",label:"\u603B\u662F\u9000\u51FA\u540E\u91CD\u542F - always"}]})})}},80821:function(ee,V,t){t.d(V,{Z:function(){return P}});var z=t(5574),r=t.n(z),Y=t(93246),o=t(54006),i=t(31418),D=t(86738),g=t(14726),X=t(62435),U=t(86074);function P(E){var Q=(0,X.useState)(!1),d=r()(Q,2),J=d[0],I=d[1],k=i.Z.useApp(),y=(0,o.useIntl)(),f=function(){I(!0),E.action().then(function(L){if(I(!1),typeof E.onSuccess=="function"&&E.onSuccess(L),E.messageSuccess){var u="";E.messageSuccess.indexOf(".")>-1?u=y.formatMessage({id:E.messageSuccess}):u=E.messageSuccess,E.asynced?(0,Y.Rk)(k,u):(0,Y.$h)(k,u)}}).catch(function(L){I(!1),typeof E.onError=="function"&&E.onError(L)})};return E.confirm?(0,U.jsx)(D.Z,{style:{width:500},title:"\u63D0\u793A",description:E.confirm,onConfirm:f,okText:"Yes",cancelText:"No",children:(0,U.jsx)(g.ZP,{disabled:E.disabled,icon:E.icon,loading:J,danger:E.danger,type:E.type,children:E.children})}):(0,U.jsx)(g.ZP,{disabled:E.disabled,icon:E.icon,loading:J,onClick:f,danger:E.danger,type:E.type,children:E.children})}},35880:function(ee,V,t){var z=t(62435),r=(0,z.createContext)({});V.Z=r},4619:function(ee,V,t){t.r(V),t.d(V,{default:function(){return qe}});var z=t(15009),r=t.n(z),Y=t(99289),o=t.n(Y),i=t(5574),D=t.n(i),g=t(38345),X=t(97269),U=t(2236),P=t(5966),E=t(97462),Q=t(92398),d=t(62435),J=t(35880),I=t(62370),k=t(12010),y=t(78957),f=t(14726),c=t(85576),L=t(75891),u=t(96074),_=t(83062),O=t(3393),T=t(18148),n=t(5251),se=t(64789),ve=t(75162),ge=t(85265),Ee=t(38703),je=t(80821),ie=t(54006),e=t(86074),Fe=(0,d.forwardRef)(function(B,$){var w=(0,d.useState)(!1),S=D()(w,2),R=S[0],x=S[1],F=(0,d.useState)(),A=D()(F,2),b=A[0],j=A[1],h=(0,ie.useModel)("subscriber"),a=(0,d.useRef)();return h.addDataHandler("imageDownload",function(){var p=h.getDataByType("imageDownload"),m=p.pop();m&&j(m.data)}),(0,d.useImperativeHandle)($,function(){return{upgradeImage:function(m){var l;return x(!0),(l=a.current)===null||l===void 0||l.setFieldValue("imageUrl",m),(0,O.Gb)({tag:m,type:"pull"})},setImageName:function(m){var l;console.log(m),x(!0),(l=a.current)===null||l===void 0||l.setFieldValue("imageUrl",m)}}}),[(0,e.jsx)(f.ZP,{type:"primary",danger:!0,onClick:function(){var m;x(!0),(m=a.current)===null||m===void 0||m.resetFields(),j({start:{downloading:0,extracting:0}})},children:"\u4E0B\u8F7D\u65B0\u955C\u50CF"},"remoteBtn"),(0,e.jsxs)(ge.Z,{forceRender:!0,open:R,title:"\u4E0B\u8F7D\u8FDC\u7A0B\u955C\u50CF",width:800,onClose:function(){return x(!1)},footer:!1,children:[(0,e.jsx)(g.Z,{children:(0,e.jsxs)(y.Z,{direction:"vertical",size:"middle",children:[(0,e.jsxs)("div",{children:["1\u3001\u955C\u50CF\u540D\u79F0\u4E2D\u4E0D\u5305\u542B\u4ED3\u5E93\u5730\u5740\u65F6\uFF0C \u9ED8\u8BA4\u4ECE ",(0,e.jsx)("a",{href:"https://hub.docker.com/",target:"_blank",children:"docker hub"})," \u4E2D\u4E0B\u8F7D\uFF0C \u4F60\u53EF\u4EE5\u5728\u4E0A\u9762",(0,e.jsx)("a",{href:"https://hub.docker.com/search?q=",target:"_blank",children:"\u3010\u67E5\u627E\u3011"}),"\u9700\u8981\u7684\u955C\u50CF"]}),(0,e.jsxs)("div",{children:["2\u3001\u955C\u50CF\u4E2D\u5305\u542B\u4ED3\u5E93\u5730\u5740\u65F6\uFF0C\u8BF7\u786E",(0,e.jsx)("a",{href:"/image/registry",target:"_blank",children:"\u3010\u6DFB\u52A0\u3011"}),"\u8FC7\u8BE5\u4ED3\u5E93\uFF0C\u5E76\u6709 Pull \u6743\u9650"]}),(0,e.jsx)("div",{children:"3\u3001\u65E0\u7528\u7684\u955C\u50CF\u53CA\u7F13\u5B58\u6587\u4EF6\u53EF\u4EE5\u5728\u955C\u50CF\u7BA1\u7406\u4E2D\u8FDB\u884C\u5220\u9664\u548C\u6E05\u7406"})]})}),(0,e.jsx)(g.Z,{title:"\u4E0B\u8F7D\u955C\u50CF",headerBordered:!0,children:(0,e.jsxs)(X.A,{submitter:!1,formRef:a,children:[(0,e.jsxs)(y.Z.Compact,{children:[(0,e.jsx)(P.Z,{width:400,name:"imageUrl",placeholder:"\u8BF7\u8F93\u5165\u955C\u50CF\u5730\u5740"}),(0,e.jsx)(je.Z,{action:function(){var m,l,s=(m=(l=a.current)===null||l===void 0?void 0:l.getFieldValue("imageUrl"))!==null&&m!==void 0?m:"";return(0,O.Gb)({tag:s,type:"pull"})},onSuccess:function(){var m,l,s,v;j({finish:{downloading:100,extracting:100}}),x(!1);var G=(m=(l=a.current)===null||l===void 0?void 0:l.getFieldValue("imageUrl"))!==null&&m!==void 0?m:"";(s=B.imageTableSearchFormRef.current)===null||s===void 0||s.setFieldValue("tag",G),(v=B.imageTableSearchFormRef.current)===null||v===void 0||v.submit()},messageSuccess:"\u4E0B\u8F7D\u5B8C\u6210",children:"\u4E0B\u8F7D\u955C\u50CF"})]}),(0,e.jsx)(I.Z,{label:"\u4E0B\u8F7D\u8FDB\u5EA6",children:b&&Object.keys(b).map(function(p){return(0,e.jsx)(Ee.Z,{percent:b[p].downloading,success:{percent:b[p].extracting}},p)})})]})})]},"remoteDrawer")]}),Ce=Fe;function De(B){var $=(0,d.useState)(!1),w=D()($,2),S=w[0],R=w[1],x=(0,d.useRef)(),F=(0,d.useContext)(J.Z),A=F.createFormRef,b=F.volumeListRef,j=F.createEnvRef,h=F.domainRef,a=(0,d.useRef)(),p=function(){var m=o()(r()().mark(function l(s){var v,G,W,Z,H,N,C,M,K,q,oe;return r()().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return R(!1),ne.next=3,(0,O.YU)({md5:s});case 3:Z=ne.sent,B.redeploy||(M=(H=A.current)===null||H===void 0?void 0:H.getFieldsValue(),(N=A.current)===null||N===void 0||N.resetFields(),(C=A.current)===null||C===void 0||C.setFieldsValue({siteName:M.siteName,siteTitle:M.siteTitle})),Z.data.info.Config.Env&&Z.data.info.Config.Env.map(function(de){var ue,_e=de.split("=");(ue=j.current)===null||ue===void 0||ue.addEnvItem(_e[0],_e[1])}),(v=A.current)===null||v===void 0||v.setFieldValue("imageName",Z.data.info.RepoTags[0]),(G=A.current)===null||G===void 0||G.setFieldValue("workDir",Z.data.info.Config.WorkingDir),(W=h.current)===null||W===void 0||W.setExposePort(Z.data.info.Config.ExposedPorts),Z.data.info.Config.Volumes?(q=[],Object.keys(Z.data.info.Config.Volumes).map(function(de,ue){q.push(de)}),(K=b.current)===null||K===void 0||K.setDefaultDestPath(q)):(oe=b.current)===null||oe===void 0||oe.setDefaultDestPath([]);case 10:case"end":return ne.stop()}},l)}));return function(s){return m.apply(this,arguments)}}();return(0,d.useEffect)(function(){B.fromImageId&&p(B.fromImageId)},[B.fromImageId]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(y.Z.Compact,{children:[(0,e.jsx)(P.Z,{label:"\u955C\u50CF",tooltip:B.redeploy?"\u66F4\u65B0\u5BB9\u5668\u65F6,\u53EA\u53EF\u4EE5\u9009\u62E9\u8BE5\u955C\u50CF\u4E0B\u7684\u4E0D\u540Ctag.\u4E5F\u53EF\u4EE5\u5F3A\u5236\u66F4\u65B0\u5DF2\u90E8\u7F72tag,\u66F4\u6B21\u90E8\u7F72":"\u65B0\u5EFA\u5BB9\u5668\u65F6,\u53EF\u4EE5\u4F7F\u7528\u672C\u5730\u955C\u50CF,\u4E5F\u53EF\u4EE5\u4E0B\u8F7D\u5168\u65B0\u7684\u955C\u50CF\u6216\u662F\u66F4\u65B0\u672C\u5730\u955C\u50CF\u7684tag",name:"imageName",width:"lg",disabled:!0,placeholder:"\u8BF7\u9009\u62E9\u955C\u50CF\uFF0C\u5982\u679C\u662F\u8FDC\u7A0B\u955C\u50CF\u8BF7\u5148\u4E0B\u8F7D",rules:[{required:!0}],required:!0}),(0,e.jsx)(I.Z,{label:" ",children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(f.ZP,{type:"primary",onClick:function(){return R(!0)},children:B.redeploy?"\u66F4\u65B0\u955C\u50CF":"\u9009\u62E9\u955C\u50CF"},"showBtn"),(0,e.jsx)(c.Z,{open:S,width:1024,title:"\u9009\u62E9\u955C\u50CF",footer:!1,onCancel:function(){return R(!1)},children:(0,e.jsx)(k.Z,{columns:[{title:"Id",dataIndex:"Id",ellipsis:!0,search:!1,width:150},{title:"\u955C\u50CF\u540D\u79F0",dataIndex:"tag",render:function(l,s,v,G){return(0,e.jsx)(L.Z.Text,{code:!0,copyable:!0,children:s.RepoTags[0]},s.RepoTags[0])}},{title:"\u521B\u5EFA\u65E5\u671F",dataIndex:"Created",ellipsis:!0,search:!1,width:"180px",render:function(l,s,v,G){return(0,e.jsx)("div",{children:(0,n.ZM)(s.Created*1e3)},s.Id)},sorter:function(l,s){return l.Created-s.Created}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:"100px",render:function(l,s,v,G){return(0,e.jsxs)(y.Z,{split:(0,e.jsx)(u.Z,{type:"vertical"}),children:[(0,e.jsx)(f.ZP,{size:"small",onClick:o()(r()().mark(function W(){return r()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.abrupt("return",p(s.Id));case 1:case"end":return H.stop()}},W)})),type:"link",icon:(0,e.jsx)(_.Z,{title:"\u4F7F\u7528\u955C\u50CF",children:(0,e.jsx)(se.Z,{})})},"addImage"),(0,e.jsx)(f.ZP,{size:"small",onClick:o()(r()().mark(function W(){var Z;return r()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:s.RepoTags[0]&&((Z=a.current)===null||Z===void 0||Z.setImageName(s.RepoTags[0]));case 1:case"end":return N.stop()}},W)})),type:"link",icon:(0,e.jsx)(_.Z,{title:"\u66F4\u65B0\u7248\u672C",children:(0,e.jsx)(ve.Z,{})})},"updateImage")]})}}],request:function(){var m=o()(r()().mark(function l(s,v,G){var W,Z,H,N;return r()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return B.redeploy&&(Z=(W=A.current)===null||W===void 0?void 0:W.getFieldValue("imageName"),s.tag=Z?Z.split(":")[0]:s.tag),M.next=3,(0,T.KG)({tag:s.tag});case 3:return H=M.sent,N=[],H.data.list&&(N=H.data.list.flatMap(function(K){return K.RepoTags.map(function(q){return{Id:K.Id,Created:K.Created,RepoTags:[q]}})})),M.abrupt("return",{data:N,success:!0,total:N.length});case 7:case"end":return M.stop()}},l)}));return function(l,s,v){return m.apply(this,arguments)}}(),toolBarRender:function(){return[(0,e.jsx)(Ce,{ref:a,imageTableSearchFormRef:x},"remote")]},formRef:x,rowKey:"Id",pagination:{pageSize:5}})},"imageTableList")]})})]})})}var le=t(60335),Be=t(24969),Pe=t(27496),re=t(24739),ye=t(63434),te=t(17186),ce=t(66309),xe=(0,d.forwardRef)(function(B,$){var w=(0,d.useState)(!1),S=D()(w,2),R=S[0],x=S[1],F=(0,d.useRef)(),A=function(h){var a=(0,d.useState)([]),p=D()(a,2),m=p[0],l=p[1];return(0,d.useEffect)(function(){(0,le.jV)({md5:h.name}).then(function(s){var v;return l((v=s.data.info.Config.Env)!==null&&v!==void 0?v:[]),!0})},[]),(0,e.jsxs)(g.Z,{bordered:!0,extra:h.action,style:{marginBottom:10},children:[(0,e.jsx)(g.Z,{title:"\u5173\u8054\u4FE1\u606F",children:(0,e.jsxs)(re.UW,{children:[(0,e.jsx)(P.Z,{label:"\u5BB9\u5668\u540D\u79F0",name:"name",width:"md",readonly:!0}),(0,e.jsx)(P.Z,{label:"\u8BBF\u95EEHostName",name:"alise",width:"md",tooltip:"\u901A\u8FC7\u914D\u7F6E\u6B64\u540D\u79F0\uFF0C\u5728\u5BB9\u5668\u5185\u90E8\u8FDB\u884C\u8BF7\u6C42\u8BBF\u95EE"}),(0,e.jsx)(ye.Z,{label:"\u5173\u8054\u5B58\u50A8",name:"volume"})]})}),(0,e.jsx)(g.Z,{title:"\u73AF\u5883\u53D8\u91CF",children:(0,e.jsx)(y.Z,{direction:"vertical",children:m&&m.map(function(s,v){return(0,e.jsx)(L.Z.Text,{copyable:{icon:(0,e.jsx)(Be.Z,{}),onCopy:function(){var W=s.split("=");B.onAddEnv(W[0],W[1])},tooltips:["add env","success"]},code:!0,ellipsis:{tooltip:s},style:{width:300},children:s},v)})},"linkEnv")})]})},b=function(h){var a,p,m=!1,l=(a=(p=F.current)===null||p===void 0?void 0:p.getList())!==null&&a!==void 0?a:[];if(l.map(function(v){v.name==h.name&&(m=!0)}),!m){var s;(s=F.current)===null||s===void 0||s.add(h)}};return(0,d.useImperativeHandle)($,function(){return{setDefaultLink:function(h){h&&h.map(function(a){a.name!=""&&b(a)})}}}),(0,e.jsxs)(g.Z,{title:"\u5173\u8054\u5BB9\u5668",headerBordered:!0,children:[(0,e.jsx)(te.u,{name:"links",actionRef:F,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5173\u8054"},actionGuard:{beforeAddRow:function(h,a){return x(!0),!1}},copyIconProps:!1,min:0,itemRender:function(h,a){return(0,e.jsx)(A,{action:h.action,name:a.record.name})}}),(0,e.jsx)(c.Z,{title:"\u9009\u62E9\u5BB9\u5668",width:1024,footer:!1,open:R,onCancel:function(){return x(!1)},children:(0,e.jsx)(k.Z,{columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"names",render:function(h,a,p,m){return(0,e.jsx)(y.Z,{direction:"vertical",style:{textAlign:"left"},children:a==null?void 0:a.Names.map(function(l){return l})},a.Id)}},{title:"\u7AEF\u53E3",dataIndex:"ports",search:!1,render:function(h,a,p,m){return a!=null&&a.Ports?(0,e.jsx)(y.Z,{direction:"vertical",style:{textAlign:"left"},children:a==null?void 0:a.Ports.map(function(l,s){return(0,e.jsx)(ce.Z,{color:"#2db7f5",icon:l.PublicPort?(0,e.jsx)(Pe.Z,{}):"",children:"".concat(l.PublicPort?l.IP+":"+l.PublicPort+"->":"").concat(l.PrivatePort,"/").concat(l.Type)},s)})},a.Id):(0,e.jsx)(e.Fragment,{})}},{title:"\u8FD0\u884C\u5BB9\u5668",search:!1,render:function(h,a,p,m){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(L.Z.Text,{ellipsis:{tooltip:a.Image},children:a.Image},a.Id)})}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",ellipsis:!0,width:100,render:function(h,a,p,m){return[(0,e.jsx)(f.ZP,{type:"link",onClick:function(){(0,le.jV)({md5:a.Id}).then(function(s){return b({name:s.data.info.Name,alise:s.data.info.Config.Hostname,volume:!1}),x(!1),!0})},children:(0,e.jsx)(se.Z,{})},a.Id)]}}],rowKey:"Id",request:function(){var j=o()(r()().mark(function h(a,p,m){return r()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",new Promise(function(v,G){(0,le.IE)({tag:a.names}).then(function(W){var Z={data:W.data.list,success:!0,total:W.data.list.length};v(Z)})}));case 1:case"end":return s.stop()}},h)}));return function(h,a,p){return j.apply(this,arguments)}}(),pagination:{pageSize:5}})})]})}),be=xe,Te=t(89035),we=t(20713),me="docker-image",Re=(0,d.forwardRef)(function(B,$){var w=(0,d.useState)(me),S=D()(w,2),R=S[0],x=S[1],F=(0,d.useRef)(),A=(0,d.useState)(""),b=D()(A,2),j=b[0],h=b[1],a=function(){R!="code"?x("code"):x(me)};(0,d.useImperativeHandle)($,function(){return{addEnvItem:function(s,v){var G,W=(G=F.current)===null||G===void 0?void 0:G.getList(),Z=!1;if(W==null||W.map(function(N){if(N.name==s){Z=!0;return}}),!Z){var H;(H=F.current)===null||H===void 0||H.add({name:s,value:v})}}}});function p(l){try{for(var s,v,G=(s=(v=F.current)===null||v===void 0||(v=v.getList())===null||v===void 0?void 0:v.length)!==null&&s!==void 0?s:0,W=G;W>=0;W--){var Z;(Z=F.current)===null||Z===void 0||Z.remove(W)}var H=l.split(`
`),N=0;H.map(function(C){var M,K=C.split("=");K.length==2&&((M=F.current)===null||M===void 0||M.add({name:K[0],value:K[1]},N),N++)})}catch(C){}}function m(){if(F){var l,s=(l=F.current)===null||l===void 0?void 0:l.getList();if(s){var v=[];return s.map(function(G){v.push("".concat(G.name,"=").concat(G.value))}),v.join(`
`)}else return""}else return""}return(0,e.jsxs)(g.Z,{title:"\u73AF\u5883\u53D8\u91CF",headerBordered:!0,extra:(0,e.jsx)(_.Z,{title:"\u4EE3\u7801\u7F16\u8F91\u6A21\u5F0F",children:(0,e.jsx)(f.ZP,{icon:(0,e.jsx)(Te.Z,{}),type:R=="code"?"primary":"default",onClick:a,children:"\u4EE3\u7801\u6A21\u5F0F"})}),children:[(0,e.jsx)(te.u,{name:"environment",actionRef:F,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u73AF\u5883\u53D8\u91CF"},copyIconProps:!1,min:0,children:(0,e.jsxs)(re.UW,{children:[(0,e.jsx)(P.Z,{width:"md",name:"name",label:"\u53D8\u91CF\u540D",placeholder:""}),(0,e.jsx)(P.Z,{width:"md",name:"value",label:"\u53D8\u91CF\u503C",placeholder:""})]})}),(0,e.jsx)(c.Z,{width:"800px",open:R=="code",onCancel:function(){return x("docker-image")},onOk:function(){p(j),x("docker-image")},children:(0,e.jsx)(we.ZP,{onChange:function(s){return h(s)},value:m(),height:"680px",theme:"light"})})]})}),Ie=Re,Oe=t(86615),Se=t(64317),Ae=(0,d.forwardRef)(function(B,$){var w=(0,d.useRef)();return(0,d.useImperativeHandle)($,function(){return{setDefaultDestPath:function(R){var x,F,A=(x=(F=w.current)===null||F===void 0?void 0:F.getList())!==null&&x!==void 0?x:[];R.length!=0&&R.filter(function(b){return b!=""}).map(function(b){var j=!1;if(A.map(function(a){if(a.dest==b){j=!0;return}}),!j){var h;(h=w.current)===null||h===void 0||h.add({dest:b,permission:"write",inImage:!0,edit:!1})}})}}}),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(g.Z,{title:"\u7AD9\u70B9\u5B58\u50A8\uFF08Volume\uFF09",subTitle:"\u9ED8\u8BA4\u4F1A\u5C06\u5BB9\u5668\u5185\u4F7F\u7528\u7684\u6570\u636E\u5377\u6302\u8F7D\u5230\u9ED8\u8BA4\u5B58\u50A8\u4E2D",headerBordered:!0,children:(0,e.jsx)(te.u,{name:"volumesDefault",creatorButtonProps:{creatorButtonText:"\u7ED1\u5B9A\u76EE\u5F55\u5230\u9ED8\u8BA4\u5B58\u50A8"},actionRef:w,copyIconProps:!1,min:0,children:function(R,x,F){var A=F.getCurrentRowData();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(P.Z,{width:"lg",name:"dest",label:"\u5BB9\u5668\u5185\u8DEF\u5F84",disabled:A.inImage}),(0,e.jsx)(Oe.Z.Group,{hidden:!0,name:"inImage",label:"\u955C\u50CF\u5185\u6302\u8F7D",valueEnum:{1:"\u662F",0:"\u5426"}})]})}})}),(0,e.jsx)(g.Z,{title:"\u6302\u8F7D\u5BBF\u4E3B\u673A\u6587\u4EF6\uFF08Bind\uFF09",subTitle:"\u6302\u8F7D\u5BB9\u5668\u5185\u9700\u8981\u8BBF\u95EE\u5BBF\u4E3B\u673A\u7684\u6587\u4EF6",headerBordered:!0,direction:"column",children:(0,e.jsx)(te.u,{name:"volumes",creatorButtonProps:{creatorButtonText:"\u6302\u8F7D\u76EE\u5F55\u6216\u662F\u5176\u5B83\u5B58\u50A8"},copyIconProps:!1,min:0,children:(0,e.jsxs)(re.UW,{children:[(0,e.jsxs)(y.Z.Compact,{children:[(0,e.jsx)(P.Z,{label:"\u5BBF\u4E3B\u673A\u6587\u4EF6\u6216\u76EE\u5F55",name:"host",width:"md"}),(0,e.jsx)(Se.Z,{label:" ",valueEnum:{write:"\u8BFB\u5199",readonly:"\u53EA\u8BFB"},initialValue:"write",name:"permission"})]}),(0,e.jsx)(P.Z,{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:"md"})]})})})]})}),Ze=Ae,Me=t(2831),ke=t(10418),fe=t(71338);function Ue(){var B=(0,d.useState)(),$=D()(B,2),w=$[0],S=$[1];return(0,d.useEffect)(function(){(0,Me.a)().then(function(R){return S(R.data.info)})},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(I.Z,{label:"\u5171\u4EAB\u5185\u5B58\u5927\u5C0F - /dev/shm",name:"shmsize",initialValue:64,children:(0,e.jsx)(ke.Z,{addonAfter:"MB",min:64})}),(0,e.jsx)(I.Z,{label:"\u6700\u5927Cpu\u914D\u989D",name:"cpus",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(fe.Z,{step:.1,max:w==null?void 0:w.NCPU,marks:{0:"\u4E0D\u9650\u5236",.5:"0.5\u6838",1:"1\u6838",1.5:"1.5\u6838",2:"2\u6838",4:"4\u6838",6:"6\u6838",8:"8\u6838"}})}),(0,e.jsx)(I.Z,{label:"\u6700\u5927\u5185\u5B58\u914D\u989D",name:"memory",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(fe.Z,{step:256,max:Math.round((w==null?void 0:w.MemTotal)/1024/1024),marks:{0:"\u4E0D\u9650\u5236",1024:"1G",2048:"2G",3072:"3G",4096:"2G"}})})]})}function Le(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(te.u,{name:"label",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u6807\u7B7E"},copyIconProps:!1,min:0,children:(0,e.jsxs)(re.UW,{children:[(0,e.jsx)(P.Z,{width:"md",name:"name",label:"\u540D\u79F0",placeholder:""}),(0,e.jsx)(P.Z,{width:"md",name:"value",label:"\u503C",placeholder:""})]})})})}var We=t(52688),Ne=t(69677);function pe(B){var $=(0,d.useState)(""),w=D()($,2),S=w[0],R=w[1],x=(0,d.useState)("default"),F=D()(x,2),A=F[0],b=F[1],j=function(p){return(0,e.jsx)(f.ZP,{type:A==p.type?"primary":"default",onClick:function(){return h(p.type)},children:p.text})},h=function(p){if(b(p),p=="default")R("");else{var m;R((m=B.value)!==null&&m!==void 0?m:"")}};return(0,d.useEffect)(function(){B.value&&(R(B.value),b("user"))},[B.value]),(0,e.jsx)(I.Z,{label:B.label,tooltip:B.tooltip,name:B.name,children:(0,e.jsxs)(y.Z.Compact,{children:[(0,e.jsx)(j,{text:"\u4F7F\u7528\u9ED8\u8BA4",type:"default"}),(0,e.jsx)(j,{text:"\u81EA\u5B9A\u4E49",type:"user"}),(0,e.jsx)(Ne.Z,{disabled:A=="default",value:S,style:{width:"500px"},onChange:function(p){R(p.target.value)}})]})})}pe.defaultProps={};var ae=pe,$e=t(44771);function Ke(){var B,$,w,S,R,x,F,A,b=(0,d.useContext)(J.Z),j=b.createFormRef,h=b.volumeListRef,a=b.domainRef,p=b.createEnvRef,m=b.createLinkRef;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)($e.Z,{}),(0,e.jsx)(We.Z,{name:"privileged",label:"\u8D4B\u4E88\u5BB9\u5668Root\u6743\u9650",initialValue:!1}),(0,e.jsx)(ae,{label:"\u5DE5\u4F5C\u76EE\u5F55",tooltip:"\u9ED8\u8BA4\u4F7F\u7528\u955C\u50CF\u4E2D\u6307\u5B9A\u7684\u5DE5\u4F5C\u76EE\u5F55",name:"workDir",value:(B=($=j.current)===null||$===void 0?void 0:$.getFieldValue("workDir"))!==null&&B!==void 0?B:""}),(0,e.jsx)(ae,{label:"User",tooltip:"\u5728\u5BB9\u5668\u4E2D\u8FD0\u884C\u547D\u4EE4\u7684\u7528\u6237",name:"user",value:(w=(S=j.current)===null||S===void 0?void 0:S.getFieldValue("user"))!==null&&w!==void 0?w:""}),(0,e.jsx)(ae,{label:"Command",tooltip:"\u542F\u52A8\u5BB9\u5668\u65F6\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u4EE5\u7A7A\u683C\u5206\u9694",name:"command",value:(R=(x=j.current)===null||x===void 0?void 0:x.getFieldValue("command"))!==null&&R!==void 0?R:""}),(0,e.jsx)(ae,{label:"Entrypoint",tooltip:"\u65E0\u6CD5\u8986\u76D6\u955C\u50CF\u4E2D\u5DF2\u7ECF\u6307\u5B9A\u7684 Entrypoint \u547D\u4EE4",name:"entrypoint",value:(F=(A=j.current)===null||A===void 0?void 0:A.getFieldValue("entrypoint"))!==null&&F!==void 0?F:""})]})}var Ve=t(91845),he=t(62597),Ge=t(14946),He=t(93246),ze=t(31418),Ye=(0,d.forwardRef)(function(B,$){var w=(0,d.useState)(!1),S=D()(w,2),R=S[0],x=S[1],F=(0,d.useRef)(),A=ze.Z.useApp();(0,d.useImperativeHandle)($,function(){return{}});var b=function(h){var a,p,m=!1,l=(a=(p=F.current)===null||p===void 0?void 0:p.getList())!==null&&a!==void 0?a:[];if(l.map(function(v){v.name==h.name&&(m=!0)}),!m){var s;(s=F.current)===null||s===void 0||s.add(h)}};return(0,e.jsxs)(g.Z,{title:"\u5173\u8054\u7F51\u7EDC",headerBordered:!0,children:[(0,e.jsx)(te.u,{name:"network",actionRef:F,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u7F51\u7EDC"},actionGuard:{beforeAddRow:function(h,a){return!B.siteName||B.siteName==""||typeof B.siteName=="undefined"?((0,He.YZ)(A,"\u8BF7\u8F93\u5165\u7AD9\u70B9\u6807\u8BC6"),!1):(x(!0),!1)}},copyIconProps:!1,min:0,itemRender:function(h,a){return(0,e.jsxs)(re.UW,{children:[(0,e.jsx)(P.Z,{label:"\u7F51\u7EDC\u540D\u79F0",name:"name",width:"md",disabled:!0,fieldProps:{value:a.record.name}}),(0,e.jsx)(I.Z,{label:"\u8BBF\u95EEHostname",name:"alise",children:(0,e.jsx)(L.Z.Text,{code:!0,copyable:!0,children:a.record.alise})}),(0,e.jsx)(I.Z,{label:" ",children:h.action})]})}}),(0,e.jsx)(c.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:1024,footer:!1,open:R,onCancel:function(){return x(!1)},children:(0,e.jsx)(k.Z,{rowKey:"Name",columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(h,a,p,m,l){return a.Name=="none"||a.Name=="bridge"||a.Name=="host"?(0,e.jsxs)(e.Fragment,{children:[a.Name," ",(0,e.jsx)(ce.Z,{color:"blue",children:"System"})]}):(0,e.jsx)(e.Fragment,{children:h})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4 IPAM Subnet",ellipsis:!0,width:150,search:!1,dataIndex:["IPAM","Config",0,"Subnet"]},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(h,a,p,m,l){return[(0,e.jsx)(f.ZP,{type:"link",onClick:function(){var v;b({name:a.Name,alise:[((v=B.siteName)!==null&&v!==void 0?v:"")+".pod.dpanel.local"]}),x(!1)},children:(0,e.jsx)(se.Z,{})},a.Id)]}}],request:function(){var j=o()(r()().mark(function h(a,p,m){var l;return r()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,Ge.jR)({name:a.Name});case 2:return l=v.sent,v.abrupt("return",{data:l.data.list,success:!0,total:l.data.list.length});case 4:case"end":return v.stop()}},h)}));return function(h,a,p){return j.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})}),Xe=Ye,Je=(0,d.forwardRef)(function(B,$){var w=(0,d.useState)(""),S=D()(w,2),R=S[0],x=S[1],F=(0,d.useRef)();return(0,d.useImperativeHandle)($,function(){return{setExposePort:function(b){if(b){var j,h,a=(j=(h=F.current)===null||h===void 0?void 0:h.getList())!==null&&j!==void 0?j:[];Object.keys(b).map(function(p){var m=!1;if(a.map(function(s){s.dest==p&&(m=!0)}),!m){var l;(l=F.current)===null||l===void 0||l.add({host:"",dest:p})}})}},setHostname:function(b){x(b)}}}),(0,e.jsx)(g.Z,{title:"\u66B4\u9732\u7AEF\u53E3",headerBordered:!0,children:(0,e.jsx)(te.u,{name:"ports",actionRef:F,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BF9\u5916\u90E8\u8BBF\u95EE"},min:0,copyIconProps:!1,children:(0,e.jsxs)(re.UW,{children:[(0,e.jsx)(P.Z,{width:"md",name:"host",label:"\u5916\u90E8\u8BBF\u95EE\u57DF\u540D\u6216\u662F\u7AEF\u53E3",tooltip:"\u5BF9\u5916\u8BBF\u95EE\u53EF\u4EE5\u901A\u8FC7\u7ED1\u5B9A\u57DF\u540D\u8F6C\u53D1\u6216\u662F\u76F4\u63A5\u66B4\u9732\u7AEF\u53E3",placeholder:"\u7559\u7A7A\u5C06\u4F7F\u7528\u968F\u673A\u7AEF\u53E3"}),(0,e.jsx)(P.Z,{label:"\u5BB9\u5668\u5185\u7AEF\u53E3",width:"md",name:"dest",placeholder:"\u6784\u5EFA\u65F6 Expose \u6307\u5B9A\u7684\u7AEF\u53E3"})]})})})}),Qe=Je;function qe(){var B,$,w,S=(0,d.useContext)(J.Z),R=S.createFormRef,x=S.volumeListRef,F=S.domainRef,A=S.createEnvRef,b=S.createLinkRef,j=(0,d.useState)(!1),h=D()(j,2),a=h[0],p=h[1],m=(0,ie.useSearchParams)(),l=D()(m,2),s=l[0],v=l[1],G=(0,ie.useNavigate)(),W=parseInt((B=s.get("id"))!==null&&B!==void 0?B:""),Z=($=s.get("md5"))!==null&&$!==void 0?$:"",H=(w=s.get("imageId"))!==null&&w!==void 0?w:"";return(0,d.useEffect)(function(){if(Z||W)(0,he.iE)({md5:Z,id:W}).then(function(C){var M;p(!0),C.data.env.network&&C.data.env.network.map(function(K){return K.alise||(K.alise=[C.data.siteName+".pod.dpanel.local"]),K}),(M=R.current)===null||M===void 0||M.setFieldsValue({siteTitle:C.data.siteTitle,siteName:C.data.siteName,imageName:C.data.env.imageName,privileged:C.data.env.privileged,workDir:C.data.env.workDir,user:C.data.env.user,command:C.data.env.command,entrypoint:C.data.env.entrypoint,shmsize:C.data.env.shmsize,cpus:C.data.env.cpus,memory:C.data.env.memory,environment:C.data.env.environment,label:C.data.env.label,volumesDefault:C.data.env.volumesDefault,volumes:C.data.env.volumes,ports:C.data.env.ports,links:C.data.env.links,network:C.data.env.network,restart:C.data.env.restart})});else{var N;p(!1),(N=R.current)===null||N===void 0||N.resetFields()}},[s]),(0,e.jsx)(g.Z,{direction:"column",gutter:[0,10],children:(0,e.jsxs)(X.A,{submitter:{render:function(C,M){return(0,e.jsx)(U.S,{children:M})}},formRef:R,onFinish:function(){var N=o()(r()().mark(function C(M){return r()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return M.md5=Z,q.next=3,(0,he.$G)(M);case 3:return G("/app/list"),q.abrupt("return",!0);case 5:case"end":return q.stop()}},C)}));return function(C){return N.apply(this,arguments)}}(),children:[(0,e.jsxs)(g.Z,{title:"\u57FA\u7840\u4FE1\u606F",headerBordered:!0,children:[(0,e.jsx)(P.Z,{name:"siteTitle",label:"\u7AD9\u70B9\u540D\u79F0",required:!0,rules:[{required:!0}],fieldProps:{onChange:function(C){var M="";if(C.target.value&&!a){var K,q=(0,Ve.N9)(C.target.value.trim(),{toneType:"none",type:"array"});M=q.join(""),(K=R.current)===null||K===void 0||K.setFieldValue("siteName",M)}}},placeholder:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u540D\u79F0"}),(0,e.jsx)(P.Z,{name:"siteName",label:"\u7AD9\u70B9\u6807\u8BC6",tooltip:"\u7AD9\u70B9\u552F\u4E00\u6807\u8BC6\uFF0C\u7528\u4E8E\u6807\u8BC6\u7AD9\u70B9\u548C\u5185\u90E8\u8BBF\u95EE",required:!0,disabled:a,rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u540D\u79F0"}),(0,e.jsx)(De,{redeploy:a,fromImageId:H})]}),(0,e.jsx)(Qe,{ref:F}),(0,e.jsx)(be,{onAddEnv:function(C,M){var K;(K=A.current)===null||K===void 0||K.addEnvItem(C,M)},ref:b}),(0,e.jsx)(E.Z,{name:["siteName"],children:function(C){var M=C.siteName;return(0,e.jsx)(Xe,{siteName:M})}}),(0,e.jsx)(Ie,{ref:A}),(0,e.jsx)(Ze,{ref:x}),(0,e.jsx)(g.Z,{title:"\u9AD8\u7EA7\u914D\u7F6E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,e.jsx)(Q.Z,{items:[{label:"\u542F\u52A8\u9879",key:"run-command",children:(0,e.jsx)(Ke,{})},{label:"\u8D44\u6E90\u914D\u7F6E",key:"runtime",children:(0,e.jsx)(Ue,{})},{label:"\u6807\u7B7E",key:"label",children:(0,e.jsx)(Le,{})}]})})]},"form")})}},62597:function(ee,V,t){t.d(V,{$G:function(){return D},Ct:function(){return J},Tb:function(){return P},cl:function(){return X},iE:function(){return Q},xb:function(){return k}});var z=t(15009),r=t.n(z),Y=t(99289),o=t.n(Y),i=t(54006);function D(f){return g.apply(this,arguments)}function g(){return g=o()(r()().mark(function f(c){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,i.request)("/api/app/site/create-by-image",{method:"POST",data:c}));case 1:case"end":return u.stop()}},f)})),g.apply(this,arguments)}function X(f){return U.apply(this,arguments)}function U(){return U=o()(r()().mark(function f(c){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,i.request)("/api/app/site/get-list",{method:"POST",data:c}));case 1:case"end":return u.stop()}},f)})),U.apply(this,arguments)}function P(f){return E.apply(this,arguments)}function E(){return E=o()(r()().mark(function f(c){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,i.request)("/api/app/log/run",{method:"POST",data:c});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},f)})),E.apply(this,arguments)}function Q(f){return d.apply(this,arguments)}function d(){return d=o()(r()().mark(function f(c){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,i.request)("/api/app/site/get-detail",{data:c,method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},f)})),d.apply(this,arguments)}function J(f){return I.apply(this,arguments)}function I(){return I=o()(r()().mark(function f(c){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,i.request)("/api/app/container/delete",{method:"POST",data:c}));case 1:case"end":return u.stop()}},f)})),I.apply(this,arguments)}function k(f){return y.apply(this,arguments)}function y(){return y=o()(r()().mark(function f(c){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,i.request)("/api/app/site/delete",{method:"POST",data:c}));case 1:case"end":return u.stop()}},f)})),y.apply(this,arguments)}},2831:function(ee,V,t){t.d(V,{a:function(){return D}});var z=t(15009),r=t.n(z),Y=t(99289),o=t.n(Y),i=t(54006);function D(){return g.apply(this,arguments)}function g(){return g=o()(r()().mark(function X(){return r()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,i.request)("/api/common/home/info",{method:"POST"});case 2:return P.abrupt("return",P.sent);case 3:case"end":return P.stop()}},X)})),g.apply(this,arguments)}},14946:function(ee,V,t){t.d(V,{CI:function(){return P},HY:function(){return f},IS:function(){return D},XY:function(){return J},_3:function(){return L},_x:function(){return Q},jR:function(){return X},t9:function(){return k}});var z=t(15009),r=t.n(z),Y=t(99289),o=t.n(Y),i=t(54006);function D(_){return g.apply(this,arguments)}function g(){return g=o()(r()().mark(function _(O){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/network/get-detail",{method:"POST",data:O}));case 1:case"end":return n.stop()}},_)})),g.apply(this,arguments)}function X(_){return U.apply(this,arguments)}function U(){return U=o()(r()().mark(function _(O){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/network/get-list",{method:"POST",data:O}));case 1:case"end":return n.stop()}},_)})),U.apply(this,arguments)}function P(){return E.apply(this,arguments)}function E(){return E=o()(r()().mark(function _(){return r()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,i.request)("/api/app/network/prune",{method:"POST"});case 2:return T.abrupt("return",T.sent);case 3:case"end":return T.stop()}},_)})),E.apply(this,arguments)}function Q(_){return d.apply(this,arguments)}function d(){return d=o()(r()().mark(function _(O){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.request)("/api/app/network/delete",{method:"POST",data:O});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_)})),d.apply(this,arguments)}function J(_){return I.apply(this,arguments)}function I(){return I=o()(r()().mark(function _(O){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.request)("/api/app/network/create",{method:"POST",data:O});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_)})),I.apply(this,arguments)}function k(_){return y.apply(this,arguments)}function y(){return y=o()(r()().mark(function _(O){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.request)("/api/app/network/disconnect",{method:"POST",data:O});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_)})),y.apply(this,arguments)}function f(_){return c.apply(this,arguments)}function c(){return c=o()(r()().mark(function _(O){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.request)("/api/app/network/connect",{method:"POST",data:O});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_)})),c.apply(this,arguments)}function L(_){return u.apply(this,arguments)}function u(){return u=o()(r()().mark(function _(O){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/network/get-container-list",{method:"POST",data:O}));case 1:case"end":return n.stop()}},_)})),u.apply(this,arguments)}},60335:function(ee,V,t){t.d(V,{IE:function(){return X},IW:function(){return D},KK:function(){return J},LJ:function(){return k},eE:function(){return Q},jV:function(){return P}});var z=t(15009),r=t.n(z),Y=t(99289),o=t.n(Y),i=t(54006);function D(f){return g.apply(this,arguments)}function g(){return g=o()(r()().mark(function f(c){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,i.request)("/api/app/container/status",{method:"POST",data:c}));case 1:case"end":return u.stop()}},f)})),g.apply(this,arguments)}function X(f){return U.apply(this,arguments)}function U(){return U=o()(r()().mark(function f(c){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,i.request)("/api/app/container/get-list",{data:c,method:"POST"}));case 1:case"end":return u.stop()}},f)})),U.apply(this,arguments)}function P(f){return E.apply(this,arguments)}function E(){return E=o()(r()().mark(function f(c){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,i.request)("/api/app/container/get-detail",{data:c,method:"POST"}));case 1:case"end":return u.stop()}},f)})),E.apply(this,arguments)}function Q(f){return d.apply(this,arguments)}function d(){return d=o()(r()().mark(function f(c){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,i.request)("/api/app/container/update",{data:c,method:"POST"}));case 1:case"end":return u.stop()}},f)})),d.apply(this,arguments)}function J(){return I.apply(this,arguments)}function I(){return I=o()(r()().mark(function f(){return r()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",(0,i.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return L.stop()}},f)})),I.apply(this,arguments)}function k(f){return y.apply(this,arguments)}function y(){return y=o()(r()().mark(function f(c){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,i.request)("/api/app/container/export",{method:"POST",data:c,responseType:"blob"}));case 1:case"end":return u.stop()}},f)})),y.apply(this,arguments)}},3393:function(ee,V,t){t.d(V,{Gb:function(){return X},Pn:function(){return Q},Rb:function(){return J},YU:function(){return D},_U:function(){return P}});var z=t(15009),r=t.n(z),Y=t(99289),o=t.n(Y),i=t(54006);function D(k){return g.apply(this,arguments)}function g(){return g=o()(r()().mark(function k(y){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,i.request)("/api/app/image/get-detail",{method:"POST",data:y}));case 1:case"end":return c.stop()}},k)})),g.apply(this,arguments)}function X(k){return U.apply(this,arguments)}function U(){return U=o()(r()().mark(function k(y){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,i.request)("/api/app/image/tag-remote",{method:"POST",data:y}));case 1:case"end":return c.stop()}},k)})),U.apply(this,arguments)}function P(k){return E.apply(this,arguments)}function E(){return E=o()(r()().mark(function k(y){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,i.request)("/api/app/image/tag-add",{method:"POST",data:y}));case 1:case"end":return c.stop()}},k)})),E.apply(this,arguments)}function Q(k){return d.apply(this,arguments)}function d(){return d=o()(r()().mark(function k(y){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,i.request)("/api/app/image/tag-delete",{method:"POST",data:y}));case 1:case"end":return c.stop()}},k)})),d.apply(this,arguments)}function J(k){return I.apply(this,arguments)}function I(){return I=o()(r()().mark(function k(y){return r()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,i.request)("/api/app/image/export",{method:"POST",data:y,responseType:"blob"}));case 1:case"end":return c.stop()}},k)})),I.apply(this,arguments)}},18148:function(ee,V,t){t.d(V,{$q:function(){return J},KG:function(){return D},T8:function(){return Q},Xn:function(){return P},ao:function(){return k},c5:function(){return L},c7:function(){return f}});var z=t(15009),r=t.n(z),Y=t(99289),o=t.n(Y),i=t(54006);function D(_){return g.apply(this,arguments)}function g(){return g=o()(r()().mark(function _(O){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/image/get-list",{method:"POST",data:O}));case 1:case"end":return n.stop()}},_)})),g.apply(this,arguments)}function X(_){return U.apply(this,arguments)}function U(){return U=_asyncToGenerator(_regeneratorRuntime().mark(function _(O){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,request("/api/app/log/image-build",{method:"POST",data:O});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_)})),U.apply(this,arguments)}function P(_){return E.apply(this,arguments)}function E(){return E=o()(r()().mark(function _(O){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/image/get-list-build",{method:"POST",data:O}));case 1:case"end":return n.stop()}},_)})),E.apply(this,arguments)}function Q(_){return d.apply(this,arguments)}function d(){return d=o()(r()().mark(function _(O){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.request)("/api/app/image/get-build-task",{method:"POST",data:O});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_)})),d.apply(this,arguments)}function J(_){return I.apply(this,arguments)}function I(){return I=o()(r()().mark(function _(O){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.request)("/api/app/image/delete-build-task",{method:"POST",data:O});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_)})),I.apply(this,arguments)}function k(_){return y.apply(this,arguments)}function y(){return y=o()(r()().mark(function _(O){return r()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.request)("/api/app/image/image-delete",{method:"POST",data:O});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},_)})),y.apply(this,arguments)}function f(){return c.apply(this,arguments)}function c(){return c=o()(r()().mark(function _(){return r()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,i.request)("/api/app/image/image-prune",{method:"POST"});case 2:return T.abrupt("return",T.sent);case 3:case"end":return T.stop()}},_)})),c.apply(this,arguments)}function L(){return u.apply(this,arguments)}function u(){return u=o()(r()().mark(function _(){return r()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,i.request)("/api/app/image/build-prune",{method:"POST"});case 2:return T.abrupt("return",T.sent);case 3:case"end":return T.stop()}},_)})),u.apply(this,arguments)}},5251:function(ee,V,t){t.d(V,{FI:function(){return r},ZM:function(){return Y}});function z(o){return o.trim()}function r(o){var i="";o<.1*1024?i=o.toFixed(2)+"B":o<.1*1024*1024?i=(o/1024).toFixed(2)+"KB":o<1*1024*1024*1024?i=(o/(1024*1024)).toFixed(2)+"MB":i=(o/(1024*1024*1024)).toFixed(2)+"GB";var D=i+"",g=D.indexOf("."),X=D.substr(g+1,2);return X=="00"?D.substring(0,g)+D.substr(g+3,2):i}function Y(o){if(o){var i=new Date(o),D=i.getFullYear()+"-",g=(i.getMonth()+1<10?"0"+(i.getMonth()+1):i.getMonth()+1)+"-",X=(i.getDate()<10?"0"+i.getDate():i.getDate())+" ",U=(i.getHours()<10?"0"+i.getHours():i.getHours())+":",P=(i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes())+":",E=i.getSeconds()<10?"0"+i.getSeconds():i.getSeconds();return D+g+X+U+P+E}}}}]);
