"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1610],{2830:function(L,p,t){t.d(p,{Z:function(){return g}});var D=t(87462),a=t(62435),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M876.6 239.5c-.5-.9-1.2-1.8-2-2.5-5-5-13.1-5-18.1 0L684.2 409.3l-67.9-67.9L788.7 169c.8-.8 1.4-1.6 2-2.5 3.6-6.1 1.6-13.9-4.5-17.5-98.2-58-226.8-44.7-311.3 39.7-67 67-89.2 162-66.5 247.4l-293 293c-3 3-2.8 7.9.3 11l169.7 169.7c3.1 3.1 8.1 3.3 11 .3l292.9-292.9c85.5 22.8 180.5.7 247.6-66.4 84.4-84.5 97.7-213.1 39.7-311.3zM786 499.8c-58.1 58.1-145.3 69.3-214.6 33.6l-8.8 8.8-.1-.1-274 274.1-79.2-79.2 230.1-230.1s0 .1.1.1l52.8-52.8c-35.7-69.3-24.5-156.5 33.6-214.6a184.2 184.2 0 01144-53.5L537 318.9a32.05 32.05 0 000 45.3l124.5 124.5a32.05 32.05 0 0045.3 0l132.8-132.8c3.7 51.8-14.4 104.8-53.6 143.9z"}}]},name:"tool",theme:"outlined"},l=O,i=t(84089),M=function(c,E){return a.createElement(i.Z,(0,D.Z)({},c,{ref:E,icon:l}))},o=a.forwardRef(M),g=o},80821:function(L,p,t){t.d(p,{Z:function(){return E}});var D=t(5574),a=t.n(D),O=t(93246),l=t(54006),i=t(31418),M=t(86738),o=t(14726),g=t(83062),v=t(62435),c=t(86074);function E(n){var R=(0,v.useState)(!1),T=a()(R,2),P=T[0],j=T[1],s=i.Z.useApp(),r=(0,l.useIntl)(),_=function(){j(!0),n.action().then(function(e){if(j(!1),typeof n.onSuccess=="function"&&n.onSuccess(e),n.messageSuccess){var m="";n.messageSuccess.indexOf(".")>-1?m=r.formatMessage({id:n.messageSuccess}):m=n.messageSuccess,n.asynced?(0,O.Rk)(s,m):(0,O.$h)(s,m)}}).catch(function(e){j(!1),typeof n.onError=="function"&&n.onError(e)})};return n.confirm?(0,c.jsx)(M.Z,{style:{width:500},title:"\u63D0\u793A",description:n.confirm,onConfirm:_,okText:"Yes",cancelText:"No",children:(0,c.jsx)(o.ZP,{disabled:n.disabled,icon:n.icon,loading:P,danger:n.danger,type:n.type,children:n.children})}):(0,c.jsx)(g.Z,{title:n.tips,children:(0,c.jsx)(o.ZP,{disabled:n.disabled,icon:n.icon,loading:P,onClick:_,danger:n.danger,type:n.type,children:n.children})})}},67108:function(L,p,t){t.r(p),t.d(p,{default:function(){return r}});var D=t(15009),a=t.n(D),O=t(99289),l=t.n(O),i=t(6110),M=t(12010),o=t(62597),g=t(14726),v=t(83062),c=t(78957),E=t(68508),n=t(54006),R=t(2830),T=t(62435),P=t(96974),j=t(80821),s=t(86074);function r(){var _=(0,P.UO)(),u=(0,T.useRef)();return(0,T.useEffect)(function(){var e;(e=u.current)===null||e===void 0||e.reload()},[_]),(0,s.jsx)(i._z,{header:{extra:[(0,s.jsx)(g.ZP,{type:"primary",children:(0,s.jsx)(n.Link,{to:"/app/create/image",children:"\u521B\u5EFA\u5BB9\u5668"})},"create")]},children:(0,s.jsx)(M.Z,{actionRef:u,columns:[{title:"\u540D\u79F0",ellipsis:!0,dataIndex:"siteTitle"},{title:"\u6807\u8BC6",ellipsis:!0,dataIndex:"siteName"},{title:"\u5220\u9664\u65E5\u671F",ellipsis:!0,dataIndex:"deletedAt",search:!1,width:180},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:100,render:function(m,f,A,h){return[(0,s.jsx)(n.Link,{to:"/app/create/image?id="+f.id,type:"link",children:(0,s.jsx)(v.Z,{title:"\u518D\u6B21\u6784\u5EFA",children:(0,s.jsx)(R.Z,{})})},"rebuild")]}}],rowKey:"id",request:function(){var e=l()(a()().mark(function m(f,A,h){var d,U,B;return a()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,o.cl)({pageSize:(d=f.pageSize)!==null&&d!==void 0?d:10,page:(U=f.current)!==null&&U!==void 0?U:1,isDelete:!0,siteTitle:f.siteTitle,siteName:f.siteName});case 2:return B=y.sent,y.abrupt("return",{data:B.data.list,success:!0,total:B.data.total});case 4:case"end":return y.stop()}},m)}));return function(m,f,A){return e.apply(this,arguments)}}(),rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},tableAlertOptionRender:function(m){var f=m.selectedRowKeys;return(0,s.jsx)(c.Z,{size:16,children:(0,s.jsx)(j.Z,{danger:!0,type:"primary",action:function(){return(0,o.xb)({id:f})},onSuccess:function(){var h,d;return!((h=u.current)===null||h===void 0)&&h.reloadAndRest&&((d=u.current)===null||d===void 0||d.reloadAndRest()),!0},onError:function(){var h,d;return!((h=u.current)===null||h===void 0)&&h.reset&&((d=u.current)===null||d===void 0||d.reset()),!0},messageSuccess:"\u5220\u9664\u6210\u529F",children:"\u6279\u91CF\u5220\u9664"})})},pagination:{pageSize:10},search:{collapsed:!1},tableExtraRender:function(){return(0,s.jsx)(E.Z,{mode:"horizontal",selectedKeys:["recycle"],items:[{label:(0,s.jsx)(n.Link,{to:"/app/list",replace:!0,children:"\u5BB9\u5668\u5217\u8868"}),key:"all"},{label:(0,s.jsx)(n.Link,{to:"/app/recycle",replace:!0,children:"\u56DE\u6536\u7AD9"}),key:"recycle"}]})}})})}},62597:function(L,p,t){t.d(p,{$G:function(){return M},Ct:function(){return T},Tb:function(){return c},cl:function(){return g},iE:function(){return n},xb:function(){return j}});var D=t(15009),a=t.n(D),O=t(99289),l=t.n(O),i=t(54006);function M(r){return o.apply(this,arguments)}function o(){return o=l()(a()().mark(function r(_){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/app/site/create-by-image",{method:"POST",data:_}));case 1:case"end":return e.stop()}},r)})),o.apply(this,arguments)}function g(r){return v.apply(this,arguments)}function v(){return v=l()(a()().mark(function r(_){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/app/site/get-list",{method:"POST",data:_}));case 1:case"end":return e.stop()}},r)})),v.apply(this,arguments)}function c(r){return E.apply(this,arguments)}function E(){return E=l()(a()().mark(function r(_){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.request)("/api/app/log/run",{method:"POST",data:_});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r)})),E.apply(this,arguments)}function n(r){return R.apply(this,arguments)}function R(){return R=l()(a()().mark(function r(_){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.request)("/api/app/site/get-detail",{data:_,method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r)})),R.apply(this,arguments)}function T(r){return P.apply(this,arguments)}function P(){return P=l()(a()().mark(function r(_){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/app/container/delete",{method:"POST",data:_}));case 1:case"end":return e.stop()}},r)})),P.apply(this,arguments)}function j(r){return s.apply(this,arguments)}function s(){return s=l()(a()().mark(function r(_){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/app/site/delete",{method:"POST",data:_}));case 1:case"end":return e.stop()}},r)})),s.apply(this,arguments)}}}]);
