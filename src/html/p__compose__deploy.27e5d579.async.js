"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7667],{30159:function(A,C,e){e.d(C,{Z:function(){return O}});var s=e(87462),r=e(62435),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"},u=m,p=e(84089),x=function(y,v){return r.createElement(p.Z,(0,s.Z)({},y,{ref:v,icon:u}))},a=r.forwardRef(x),O=a},74842:function(A,C,e){e.d(C,{Z:function(){return O}});var s=e(87462),r=e(62435),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},u=m,p=e(84089),x=function(y,v){return r.createElement(p.Z,(0,s.Z)({},y,{ref:v,icon:u}))},a=r.forwardRef(x),O=a},45742:function(A,C,e){e.d(C,{Z:function(){return O}});var s=e(87462),r=e(62435),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM492 400h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 144h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H492c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zM340 368a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0zm0 144a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"profile",theme:"outlined"},u=m,p=e(84089),x=function(y,v){return r.createElement(p.Z,(0,s.Z)({},y,{ref:v,icon:u}))},a=r.forwardRef(x),O=a},33160:function(A,C,e){e.d(C,{Z:function(){return O}});var s=e(87462),r=e(62435),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},u=m,p=e(84089),x=function(y,v){return r.createElement(p.Z,(0,s.Z)({},y,{ref:v,icon:u}))},a=r.forwardRef(x),O=a},43425:function(A,C,e){var s=e(87462),r=e(62435),m=e(34689),u=e(84089),p=function(O,j){return r.createElement(u.Z,(0,s.Z)({},O,{ref:j,icon:m.Z}))},x=r.forwardRef(p);C.Z=x},87784:function(A,C,e){e.d(C,{Z:function(){return O}});var s=e(87462),r=e(62435),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},u=m,p=e(84089),x=function(y,v){return r.createElement(p.Z,(0,s.Z)({},y,{ref:v,icon:u}))},a=r.forwardRef(x),O=a},80821:function(A,C,e){e.d(C,{Z:function(){return v}});var s=e(5574),r=e.n(s),m=e(93246),u=e(54006),p=e(31418),x=e(86738),a=e(14726),O=e(83062),j=e(62435),y=e(86074);function v(f){var $=(0,j.useState)(!1),N=r()($,2),L=N[0],F=N[1],W=p.Z.useApp(),U=(0,u.useIntl)(),B=function(){F(!0),f.action().then(function(D){if(F(!1),typeof f.onSuccess=="function"&&f.onSuccess(D),f.messageSuccess){var c="";typeof f.messageSuccess=="function"?c=f.messageSuccess(D):c=f.messageSuccess,c.indexOf(".")>-1&&(c=U.formatMessage({id:c})),f.asynced?(0,m.Rk)(W,c):(0,m.$h)(W,c)}}).catch(function(D){F(!1),typeof f.onError=="function"&&f.onError(D)})};return f.confirm?(0,y.jsx)(x.Z,{style:{width:500},title:"\u63D0\u793A",description:f.confirm,onConfirm:B,okText:"Yes",cancelText:"No",children:(0,y.jsx)(a.ZP,{disabled:f.disabled,icon:f.icon,loading:L,danger:f.danger,type:f.type,children:f.children})}):(0,y.jsx)(O.Z,{title:f.tips,children:(0,y.jsx)(a.ZP,{disabled:f.disabled,icon:f.icon,loading:L,onClick:B,danger:f.danger,type:f.type,children:f.children})})}},96781:function(A,C,e){var s=e(62435),r=(0,s.createContext)({});C.Z=r},85221:function(A,C,e){e.r(C),e.d(C,{default:function(){return Q}});var s=e(5574),r=e.n(s),m=e(80821),u=e(62435),p=e(12320),x=e(89629),a=e(86074),O=new p.Terminal({fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,cursorStyle:"block",cursorBlink:!0,theme:{foreground:"#dddddd",cursor:"gray"}}),j=(0,u.forwardRef)(function(Y,X){return(0,u.useEffect)(function(){O.open(document.getElementById("terminal-container"))},[]),(0,u.useImperativeHandle)(X,function(){return{write:function(n){O.write(n)},clear:function(){O.clear()}}}),(0,a.jsx)("div",{id:"terminal-container",style:{width:"100%",height:"200px"}})}),y=j,v=e(24910),f=e(43425),$=e(74842),N=e(87784),L=e(33160),F=e(30159),W=e(45742),U=e(38345),B=e(54006),V=e(78957),D=e(96074),c=e(75891),P=e(84567),_=e(14726),o=e(96781);function Q(){var Y=(0,B.useParams)(),X=(0,u.useState)(),l=r()(X,2),n=l[0],E=l[1],d=(0,u.useState)({deleteImage:!1}),h=r()(d,2),z=h[0],b=h[1],T=(0,u.useContext)(o.Z),M=T.createYamlFormRef,I=T.listTableRef,S=(0,u.useRef)(),K=(0,u.useState)(0),G=r()(K,2),w=G[0],J=G[1],H=(0,B.useModel)("subscriber");return H.addDataHandler("composeUp",function(){var g=H.getDataByType("composeUp"),t=g.pop();if(t){var i;(i=S.current)===null||i===void 0||i.write(t.data)}}),(0,u.useEffect)(function(){var g,t;(g=S.current)===null||g===void 0||g.clear(),(0,v.YZ)({id:parseInt((t=Y.id)!==null&&t!==void 0?t:"")}).then(function(i){E(i.data)})},[w]),(0,a.jsxs)(U.Z,{ghost:!0,direction:"column",gutter:[10,10],children:[(0,a.jsx)(U.Z,{title:(0,a.jsx)(f.Z,{}),subTitle:"\u64CD\u4F5C - "+(n==null?void 0:n.title),headerBordered:!0,children:(0,a.jsxs)(V.Z,{children:[(0,a.jsx)(m.Z,{icon:(0,a.jsx)($.Z,{}),action:function(){var t,i;return(t=S.current)===null||t===void 0||t.clear(),(0,v.GG)({id:(i=n==null?void 0:n.id)!==null&&i!==void 0?i:0,op:"start"})},messageSuccess:"\u542F\u52A8\u6210\u529F",children:"\u542F\u52A8"}),(0,a.jsx)(m.Z,{action:function(){var t,i;return(t=S.current)===null||t===void 0||t.clear(),(0,v.GG)({id:(i=n==null?void 0:n.id)!==null&&i!==void 0?i:0,op:"stop"})},messageSuccess:"\u505C\u6B62\u6210\u529F",icon:(0,a.jsx)(N.Z,{}),children:"\u505C\u6B62"}),(0,a.jsx)(m.Z,{action:function(){var t,i;return(t=S.current)===null||t===void 0||t.clear(),(0,v.GG)({id:(i=n==null?void 0:n.id)!==null&&i!==void 0?i:0,op:"restart"})},messageSuccess:"\u91CD\u542F\u6210\u529F",icon:(0,a.jsx)(L.Z,{}),children:"\u91CD\u542F"}),(0,a.jsx)(m.Z,{action:function(){var t,i;return(t=S.current)===null||t===void 0||t.clear(),(0,v.GG)({id:(i=n==null?void 0:n.id)!==null&&i!==void 0?i:0,op:"pause"})},messageSuccess:"\u6682\u505C\u6210\u529F",icon:(0,a.jsx)(F.Z,{}),children:"\u6682\u505C"}),(0,a.jsx)(m.Z,{action:function(){var t,i;return(t=S.current)===null||t===void 0||t.clear(),(0,v.GG)({id:(i=n==null?void 0:n.id)!==null&&i!==void 0?i:0,op:"unpause"})},messageSuccess:"\u6062\u590D\u6210\u529F",icon:(0,a.jsx)($.Z,{}),children:"\u6062\u590D"}),(0,a.jsx)(m.Z,{action:function(){var t,i;return(t=S.current)===null||t===void 0||t.clear(),(0,v.GG)({id:(i=n==null?void 0:n.id)!==null&&i!==void 0?i:0,op:"logs"})},messageSuccess:"\u83B7\u53D6\u6210\u529F",icon:(0,a.jsx)(W.Z,{}),children:"\u65E5\u5FD7"}),(0,a.jsx)(D.Z,{type:"vertical"}),(0,a.jsx)(m.Z,{type:"primary",action:function(){var t,i;return(t=S.current)===null||t===void 0||t.clear(),(0,v.Oh)({id:(i=n==null?void 0:n.id)!==null&&i!==void 0?i:0})},messageSuccess:"\u90E8\u7F72\u6210\u529F\uFF0C\u8BF7\u5230\u5BB9\u5668\u7BA1\u7406\u4E2D\u67E5\u770B",children:"\u90E8\u7F72\u5BB9\u5668"}),(0,a.jsx)(m.Z,{type:"primary",action:function(){var t,i;return(t=S.current)===null||t===void 0||t.clear(),(0,v.mg)({id:(i=n==null?void 0:n.id)!==null&&i!==void 0?i:0,deleteImage:z.deleteImage})},danger:!0,confirm:(0,a.jsxs)(V.Z,{style:{width:280},direction:"vertical",children:[(0,a.jsx)(c.Z.Text,{children:"\u5220\u9664\u5BB9\u5668\u540E\u65E0\u6CD5\u6062\u590D,\u786E\u8BA4\u5417\uFF1F"}),(0,a.jsx)(P.Z,{name:"deleteImage",onChange:function(t){return b({deleteImage:t.target.checked})},children:"\u5220\u9664\u955C\u50CF\uFF1F"})]}),children:"\u9500\u6BC1\u5BB9\u5668"}),(0,a.jsx)(D.Z,{type:"vertical"}),(0,a.jsx)(_.ZP,{onClick:function(){if(n){var t;(t=M.current)===null||t===void 0||t.showEdit(n)}},children:"\u7F16\u8F91"})]})}),(0,a.jsx)(U.Z,{title:"\u63A7\u5236\u53F0\u8F93\u51FA",style:{height:500},extra:(0,a.jsx)(m.Z,{type:"primary",action:function(){var t;return(t=S.current)===null||t===void 0||t.clear(),(0,v.U_)({})},danger:!0,children:"\u4E2D\u6B62\u6267\u884C"}),children:(0,a.jsx)(y,{ref:S})})]})}},24910:function(A,C,e){e.d(C,{GG:function(){return U},Oh:function(){return N},U_:function(){return V},YZ:function(){return y},ik:function(){return f},im:function(){return x},mg:function(){return F},pm:function(){return O}});var s=e(15009),r=e.n(s),m=e(99289),u=e.n(m),p=e(54006);function x(c){return a.apply(this,arguments)}function a(){return a=u()(r()().mark(function c(P){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,p.request)("/api/app/compose/create",{method:"POST",data:P}));case 1:case"end":return o.stop()}},c)})),a.apply(this,arguments)}function O(c){return j.apply(this,arguments)}function j(){return j=u()(r()().mark(function c(P){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,p.request)("/api/app/compose/get-list",{method:"POST",data:P}));case 1:case"end":return o.stop()}},c)})),j.apply(this,arguments)}function y(c){return v.apply(this,arguments)}function v(){return v=u()(r()().mark(function c(P){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,p.request)("/api/app/compose/get-detail",{method:"POST",data:P}));case 1:case"end":return o.stop()}},c)})),v.apply(this,arguments)}function f(c){return $.apply(this,arguments)}function $(){return $=u()(r()().mark(function c(P){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,p.request)("/api/app/compose/delete",{method:"POST",data:P}));case 1:case"end":return o.stop()}},c)})),$.apply(this,arguments)}function N(c){return L.apply(this,arguments)}function L(){return L=u()(r()().mark(function c(P){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,p.request)("/api/app/compose/container-deploy",{method:"POST",data:P}));case 1:case"end":return o.stop()}},c)})),L.apply(this,arguments)}function F(c){return W.apply(this,arguments)}function W(){return W=u()(r()().mark(function c(P){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,p.request)("/api/app/compose/container-destroy",{method:"POST",data:P}));case 1:case"end":return o.stop()}},c)})),W.apply(this,arguments)}function U(c){return B.apply(this,arguments)}function B(){return B=u()(r()().mark(function c(P){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,p.request)("/api/app/compose/container-ctrl",{method:"POST",data:P}));case 1:case"end":return o.stop()}},c)})),B.apply(this,arguments)}function V(c){return D.apply(this,arguments)}function D(){return D=u()(r()().mark(function c(P){return r()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,p.request)("/api/app/compose/container-process-kill",{method:"POST",data:P}));case 1:case"end":return o.stop()}},c)})),D.apply(this,arguments)}},86738:function(A,C,e){e.d(C,{Z:function(){return X}});var s=e(62435),r=e(21640),m=e(93967),u=e.n(m),p=e(21770),x=e(15105),a=e(98423),O=e(96159),j=e(53124),y=e(55241),v=e(86743),f=e(81643),$=e(14726),N=e(33671),L=e(10110),F=e(24457),W=e(66330),U=e(91945);const B=l=>{const{componentCls:n,iconCls:E,antCls:d,zIndexPopup:h,colorText:z,colorWarning:b,marginXXS:T,marginXS:M,fontSize:I,fontWeightStrong:S,colorTextHeading:K}=l;return{[n]:{zIndex:h,[`&${d}-popover`]:{fontSize:I},[`${n}-message`]:{marginBottom:M,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n}-message-icon ${E}`]:{color:b,fontSize:I,lineHeight:1,marginInlineEnd:M},[`${n}-title`]:{fontWeight:S,color:K,"&:only-child":{fontWeight:"normal"}},[`${n}-description`]:{marginTop:T,color:z}},[`${n}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:M}}}}},V=l=>{const{zIndexPopupBase:n}=l;return{zIndexPopup:n+60}};var D=(0,U.I$)("Popconfirm",l=>B(l),V,{resetStyle:!1}),c=function(l,n){var E={};for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&n.indexOf(d)<0&&(E[d]=l[d]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,d=Object.getOwnPropertySymbols(l);h<d.length;h++)n.indexOf(d[h])<0&&Object.prototype.propertyIsEnumerable.call(l,d[h])&&(E[d[h]]=l[d[h]]);return E};const P=l=>{const{prefixCls:n,okButtonProps:E,cancelButtonProps:d,title:h,description:z,cancelText:b,okText:T,okType:M="primary",icon:I=s.createElement(r.Z,null),showCancel:S=!0,close:K,onConfirm:G,onCancel:w,onPopupClick:J}=l,{getPrefixCls:H}=s.useContext(j.E_),[g]=(0,L.Z)("Popconfirm",F.Z.Popconfirm),t=(0,f.Z)(h),i=(0,f.Z)(z);return s.createElement("div",{className:`${n}-inner-content`,onClick:J},s.createElement("div",{className:`${n}-message`},I&&s.createElement("span",{className:`${n}-message-icon`},I),s.createElement("div",{className:`${n}-message-text`},t&&s.createElement("div",{className:u()(`${n}-title`)},t),i&&s.createElement("div",{className:`${n}-description`},i))),s.createElement("div",{className:`${n}-buttons`},S&&s.createElement($.ZP,Object.assign({onClick:w,size:"small"},d),b||(g==null?void 0:g.cancelText)),s.createElement(v.Z,{buttonProps:Object.assign(Object.assign({size:"small"},(0,N.nx)(M)),E),actionFn:G,close:K,prefixCls:H("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},T||(g==null?void 0:g.okText))))};var o=l=>{const{prefixCls:n,placement:E,className:d,style:h}=l,z=c(l,["prefixCls","placement","className","style"]),{getPrefixCls:b}=s.useContext(j.E_),T=b("popconfirm",n),[M]=D(T);return M(s.createElement(W.ZP,{placement:E,className:u()(T,d),style:h,content:s.createElement(P,Object.assign({prefixCls:T},z))}))},Q=function(l,n){var E={};for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&n.indexOf(d)<0&&(E[d]=l[d]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var h=0,d=Object.getOwnPropertySymbols(l);h<d.length;h++)n.indexOf(d[h])<0&&Object.prototype.propertyIsEnumerable.call(l,d[h])&&(E[d[h]]=l[d[h]]);return E};const Y=s.forwardRef((l,n)=>{var E,d;const{prefixCls:h,placement:z="top",trigger:b="click",okType:T="primary",icon:M=s.createElement(r.Z,null),children:I,overlayClassName:S,onOpenChange:K,onVisibleChange:G}=l,w=Q(l,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),{getPrefixCls:J}=s.useContext(j.E_),[H,g]=(0,p.Z)(!1,{value:(E=l.open)!==null&&E!==void 0?E:l.visible,defaultValue:(d=l.defaultOpen)!==null&&d!==void 0?d:l.defaultVisible}),t=(Z,R)=>{g(Z,!0),G==null||G(Z),K==null||K(Z,R)},i=Z=>{t(!1,Z)},ee=Z=>{var R;return(R=l.onConfirm)===null||R===void 0?void 0:R.call(void 0,Z)},ne=Z=>{var R;t(!1,Z),(R=l.onCancel)===null||R===void 0||R.call(void 0,Z)},te=Z=>{Z.keyCode===x.Z.ESC&&H&&t(!1,Z)},ae=Z=>{const{disabled:R=!1}=l;R||t(Z)},k=J("popconfirm",h),re=u()(k,S),[oe]=D(k);return oe(s.createElement(y.Z,Object.assign({},(0,a.Z)(w,["title"]),{trigger:b,placement:z,onOpenChange:ae,open:H,ref:n,overlayClassName:re,content:s.createElement(P,Object.assign({okType:T,icon:M},l,{prefixCls:k,close:i,onConfirm:ee,onCancel:ne})),"data-popover-inject":!0}),(0,O.Tm)(I,{onKeyDown:Z=>{var R,q;s.isValidElement(I)&&((q=I==null?void 0:(R=I.props).onKeyDown)===null||q===void 0||q.call(R,Z)),te(Z)}})))});Y._InternalPanelDoNotUseOrYouWillBeFired=o;var X=Y}}]);
