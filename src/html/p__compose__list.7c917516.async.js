"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8022],{14313:function(z,j,n){n.d(j,{Z:function(){return W}});var d=n(87462),s=n(62435),A={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},f=A,h=n(84089),B=function(U,l){return s.createElement(h.Z,(0,d.Z)({},U,{ref:l,icon:f}))},T=s.forwardRef(B),W=T},80821:function(z,j,n){n.d(j,{Z:function(){return U}});var d=n(5574),s=n.n(d),A=n(93246),f=n(54006),h=n(31418),B=n(86738),T=n(14726),W=n(62435),y=n(86074);function U(l){var K=(0,W.useState)(!1),D=s()(K,2),x=D[0],E=D[1],M=h.Z.useApp(),R=(0,f.useIntl)(),p=function(){E(!0),l.action().then(function(P){if(E(!1),typeof l.onSuccess=="function"&&l.onSuccess(P),l.messageSuccess){var o="";l.messageSuccess.indexOf(".")>-1?o=R.formatMessage({id:l.messageSuccess}):o=l.messageSuccess,l.asynced?(0,A.Rk)(M,o):(0,A.$h)(M,o)}}).catch(function(P){E(!1),typeof l.onError=="function"&&l.onError(P)})};return l.confirm?(0,y.jsx)(B.Z,{style:{width:500},title:"\u63D0\u793A",description:l.confirm,onConfirm:p,okText:"Yes",cancelText:"No",children:(0,y.jsx)(T.ZP,{disabled:l.disabled,icon:l.icon,loading:x,danger:l.danger,type:l.type,children:l.children})}):(0,y.jsx)(T.ZP,{disabled:l.disabled,icon:l.icon,loading:x,onClick:p,danger:l.danger,type:l.type,children:l.children})}},96781:function(z,j,n){var d=n(62435),s=(0,d.createContext)({});j.Z=s},92922:function(z,j,n){n.r(j),n.d(j,{default:function(){return t}});var d=n(15009),s=n.n(d),A=n(99289),f=n.n(A),h=n(5574),B=n.n(h),T=n(80821),W=n(24910),y=n(14313),U=n(45605),l=n(50888),K=n(43425),D=n(57132),x=n(12010),E=n(54006),M=n(78957),R=n(66309),p=n(96074),O=n(83062),P=n(75891),o=n(62435),m=n(96781),b=n(60335),u=n(86074);function t(){var H=(0,o.useContext)(m.Z),Y=H.createYamlFormRef,Z=H.listTableRef,G=(0,o.useState)([]),V=B()(G,2),e=V[0],c=V[1];return(0,o.useEffect)(function(){(0,b.IE)({}).then(function(_){c(_.data.list)})},[]),(0,u.jsx)(x.Z,{request:function(){var _=f()(s()().mark(function r(a){var v,i,C;return s()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,W.pm)({title:a.title,name:a.name,pageSize:(v=a.pageSize)!==null&&v!==void 0?v:10,page:(i=a.current)!==null&&i!==void 0?i:1});case 2:return C=g.sent,g.abrupt("return",{data:C.data.list,success:!0,total:C.data.total});case 4:case"end":return g.stop()}},r)}));return function(r){return _.apply(this,arguments)}}(),rowKey:"id",columns:[{title:"\u6807\u8BC6",dataIndex:"name",width:200,render:function(r,a,v,i,C){return(0,u.jsx)(E.Link,{to:"/compose/deploy/"+a.id,children:a.name},v)}},{title:"\u540D\u79F0",dataIndex:"title",width:200},{title:"\u5BB9\u5668\u72B6\u6001",render:function(r,a,v,i,C){var I=[];return e.map(function(g){g.Names.map(function(S){S.startsWith("/"+a.name+"-")&&I.push(g)})}),I.length>0?I.map(function(g,S){return(0,u.jsx)(M.Z,{wrap:!0,children:(0,u.jsx)(R.Z,{color:g.State=="running"?"success":"warning",icon:g.State=="running"?(0,u.jsx)(y.Z,{}):(0,u.jsx)(U.Z,{}),children:g.Names[0]})},S)}):(0,u.jsx)(l.Z,{})}},{title:"\u64CD\u4F5C",width:100,valueType:"option",key:"option",render:function(r,a,v,i,C){return(0,u.jsxs)(M.Z,{split:(0,u.jsx)(p.Z,{type:"vertical"}),children:[(0,u.jsx)(E.Link,{to:"/compose/deploy/"+a.id,children:(0,u.jsx)(O.Z,{title:"\u7BA1\u7406",children:(0,u.jsx)(K.Z,{})})},"3"),(0,u.jsx)(E.Link,{to:"#",onClick:function(){var g;(g=Y.current)===null||g===void 0||g.showCopy(a)},children:(0,u.jsx)(O.Z,{title:"\u590D\u5236",children:(0,u.jsx)(D.Z,{})})},"2")]})}}],pagination:{pageSize:10},search:{collapsed:!1},rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},actionRef:Z,tableAlertOptionRender:function(r){var a=r.selectedRowKeys;return(0,u.jsx)(M.Z,{size:16,children:(0,u.jsx)(T.Z,{danger:!0,type:"primary",action:function(){return(0,W.ik)({id:a})},onSuccess:function(){var i,C;return!((i=Z.current)===null||i===void 0)&&i.reloadAndRest&&((C=Z.current)===null||C===void 0||C.reloadAndRest()),!0},onError:function(){var i,C;return!((i=Z.current)===null||i===void 0)&&i.reset&&((C=Z.current)===null||C===void 0||C.reset()),!0},messageSuccess:"\u5220\u9664\u6210\u529F",confirm:(0,u.jsx)(M.Z,{style:{width:280},direction:"vertical",children:(0,u.jsx)(P.Z.Text,{children:"\u5220\u9664\u955C\u50CF\u540E\u65E0\u6CD5\u6062\u590D,\u786E\u8BA4\u5417\uFF1F"})}),children:"\u6279\u91CF\u5220\u9664"})})}})}},24910:function(z,j,n){n.d(j,{GG:function(){return p},Oh:function(){return x},U_:function(){return P},YZ:function(){return U},ik:function(){return K},im:function(){return B},mg:function(){return M},pm:function(){return W}});var d=n(15009),s=n.n(d),A=n(99289),f=n.n(A),h=n(54006);function B(m){return T.apply(this,arguments)}function T(){return T=f()(s()().mark(function m(b){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/app/compose/create",{method:"POST",data:b}));case 1:case"end":return t.stop()}},m)})),T.apply(this,arguments)}function W(m){return y.apply(this,arguments)}function y(){return y=f()(s()().mark(function m(b){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/app/compose/get-list",{method:"POST",data:b}));case 1:case"end":return t.stop()}},m)})),y.apply(this,arguments)}function U(m){return l.apply(this,arguments)}function l(){return l=f()(s()().mark(function m(b){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/app/compose/get-detail",{method:"POST",data:b}));case 1:case"end":return t.stop()}},m)})),l.apply(this,arguments)}function K(m){return D.apply(this,arguments)}function D(){return D=f()(s()().mark(function m(b){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/app/compose/delete",{method:"POST",data:b}));case 1:case"end":return t.stop()}},m)})),D.apply(this,arguments)}function x(m){return E.apply(this,arguments)}function E(){return E=f()(s()().mark(function m(b){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/app/compose/container-deploy",{method:"POST",data:b}));case 1:case"end":return t.stop()}},m)})),E.apply(this,arguments)}function M(m){return R.apply(this,arguments)}function R(){return R=f()(s()().mark(function m(b){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/app/compose/container-destroy",{method:"POST",data:b}));case 1:case"end":return t.stop()}},m)})),R.apply(this,arguments)}function p(m){return O.apply(this,arguments)}function O(){return O=f()(s()().mark(function m(b){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/app/compose/container-ctrl",{method:"POST",data:b}));case 1:case"end":return t.stop()}},m)})),O.apply(this,arguments)}function P(m){return o.apply(this,arguments)}function o(){return o=f()(s()().mark(function m(b){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,h.request)("/api/app/compose/container-process-kill",{method:"POST",data:b}));case 1:case"end":return t.stop()}},m)})),o.apply(this,arguments)}},60335:function(z,j,n){n.d(j,{IE:function(){return W},IW:function(){return B},KK:function(){return x},LJ:function(){return M},eE:function(){return K},jV:function(){return U}});var d=n(15009),s=n.n(d),A=n(99289),f=n.n(A),h=n(54006);function B(p){return T.apply(this,arguments)}function T(){return T=f()(s()().mark(function p(O){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("/api/app/container/status",{method:"POST",data:O}));case 1:case"end":return o.stop()}},p)})),T.apply(this,arguments)}function W(p){return y.apply(this,arguments)}function y(){return y=f()(s()().mark(function p(O){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("/api/app/container/get-list",{data:O,method:"POST"}));case 1:case"end":return o.stop()}},p)})),y.apply(this,arguments)}function U(p){return l.apply(this,arguments)}function l(){return l=f()(s()().mark(function p(O){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("/api/app/container/get-detail",{data:O,method:"POST"}));case 1:case"end":return o.stop()}},p)})),l.apply(this,arguments)}function K(p){return D.apply(this,arguments)}function D(){return D=f()(s()().mark(function p(O){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("/api/app/container/update",{data:O,method:"POST"}));case 1:case"end":return o.stop()}},p)})),D.apply(this,arguments)}function x(){return E.apply(this,arguments)}function E(){return E=f()(s()().mark(function p(){return s()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,h.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return P.stop()}},p)})),E.apply(this,arguments)}function M(p){return R.apply(this,arguments)}function R(){return R=f()(s()().mark(function p(O){return s()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,h.request)("/api/app/container/export",{method:"POST",data:O,responseType:"blob"}));case 1:case"end":return o.stop()}},p)})),R.apply(this,arguments)}},66309:function(z,j,n){n.d(j,{Z:function(){return V}});var d=n(62435),s=n(97937),A=n(93967),f=n.n(A),h=n(98787),B=n(69760),T=n(45353),W=n(53124),y=n(54548),U=n(10274),l=n(14747),K=n(45503),D=n(91945);const x=e=>{const{paddingXXS:c,lineWidth:_,tagPaddingHorizontal:r,componentCls:a,calc:v}=e,i=v(r).sub(_).equal(),C=v(c).sub(_).equal();return{[a]:Object.assign(Object.assign({},(0,l.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:i,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,y.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${a}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${a}-close-icon`]:{marginInlineStart:C,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${a}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${a}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:i}}),[`${a}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},E=e=>{const{lineWidth:c,fontSizeIcon:_,calc:r}=e,a=e.fontSizeSM;return(0,K.TS)(e,{tagFontSize:a,tagLineHeight:(0,y.bf)(r(e.lineHeightSM).mul(a).equal()),tagIconSize:r(_).sub(r(c).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},M=e=>({defaultBg:new U.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var R=(0,D.I$)("Tag",e=>{const c=E(e);return x(c)},M),p=function(e,c){var _={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&c.indexOf(r)<0&&(_[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)c.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(_[r[a]]=e[r[a]]);return _},P=d.forwardRef((e,c)=>{const{prefixCls:_,style:r,className:a,checked:v,onChange:i,onClick:C}=e,I=p(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:g,tag:S}=d.useContext(W.E_),k=Q=>{i==null||i(!v),C==null||C(Q)},N=g("tag",_),[w,X,J]=R(N),L=f()(N,`${N}-checkable`,{[`${N}-checkable-checked`]:v},S==null?void 0:S.className,a,X,J);return w(d.createElement("span",Object.assign({},I,{ref:c,style:Object.assign(Object.assign({},r),S==null?void 0:S.style),className:L,onClick:k})))}),o=n(98719);const m=e=>(0,o.Z)(e,(c,_)=>{let{textColor:r,lightBorderColor:a,lightColor:v,darkColor:i}=_;return{[`${e.componentCls}${e.componentCls}-${c}`]:{color:r,background:v,borderColor:a,"&-inverse":{color:e.colorTextLightSolid,background:i,borderColor:i},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var b=(0,D.bk)(["Tag","preset"],e=>{const c=E(e);return m(c)},M);function u(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const t=(e,c,_)=>{const r=u(_);return{[`${e.componentCls}${e.componentCls}-${c}`]:{color:e[`color${_}`],background:e[`color${r}Bg`],borderColor:e[`color${r}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var H=(0,D.bk)(["Tag","status"],e=>{const c=E(e);return[t(c,"success","Success"),t(c,"processing","Info"),t(c,"error","Error"),t(c,"warning","Warning")]},M),Y=function(e,c){var _={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&c.indexOf(r)<0&&(_[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)c.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(_[r[a]]=e[r[a]]);return _};const Z=(e,c)=>{const{prefixCls:_,className:r,rootClassName:a,style:v,children:i,icon:C,color:I,onClose:g,closeIcon:S,closable:k,bordered:N=!0}=e,w=Y(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:X,direction:J,tag:L}=d.useContext(W.E_),[Q,ee]=d.useState(!0);d.useEffect(()=>{"visible"in w&&ee(w.visible)},[w.visible]);const ne=(0,h.o2)(I),te=(0,h.yT)(I),q=ne||te,oe=Object.assign(Object.assign({backgroundColor:I&&!q?I:void 0},L==null?void 0:L.style),v),$=X("tag",_),[le,ie,ue]=R($),ce=f()($,L==null?void 0:L.className,{[`${$}-${I}`]:q,[`${$}-has-color`]:I&&!q,[`${$}-hidden`]:!Q,[`${$}-rtl`]:J==="rtl",[`${$}-borderless`]:!N},r,a,ie,ue),re=F=>{F.stopPropagation(),g==null||g(F),!F.defaultPrevented&&ee(!1)},[,_e]=(0,B.Z)({closable:k,closeIcon:S!=null?S:L==null?void 0:L.closeIcon,customCloseIconRender:F=>F===null?d.createElement(s.Z,{className:`${$}-close-icon`,onClick:re}):d.createElement("span",{className:`${$}-close-icon`,onClick:re},F),defaultCloseIcon:null,defaultClosable:!1}),de=typeof w.onClick=="function"||i&&i.type==="a",ae=C||null,me=ae?d.createElement(d.Fragment,null,ae,i&&d.createElement("span",null,i)):i,se=d.createElement("span",Object.assign({},w,{ref:c,className:ce,style:oe}),me,_e,ne&&d.createElement(b,{key:"preset",prefixCls:$}),te&&d.createElement(H,{key:"status",prefixCls:$}));return le(de?d.createElement(T.Z,{component:"Tag"},se):se)},G=d.forwardRef(Z);G.CheckableTag=P;var V=G}}]);
