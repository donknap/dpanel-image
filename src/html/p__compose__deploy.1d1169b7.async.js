"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7667],{30159:function(S,f,e){e.d(f,{Z:function(){return l}});var d=e(87462),r=e(62435),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"},c=v,m=e(84089),p=function(y,n){return r.createElement(m.Z,(0,d.Z)({},y,{ref:n,icon:c}))},s=r.forwardRef(p),l=s},74842:function(S,f,e){e.d(f,{Z:function(){return l}});var d=e(87462),r=e(62435),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},c=v,m=e(84089),p=function(y,n){return r.createElement(m.Z,(0,d.Z)({},y,{ref:n,icon:c}))},s=r.forwardRef(p),l=s},87784:function(S,f,e){e.d(f,{Z:function(){return l}});var d=e(87462),r=e(62435),v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},c=v,m=e(84089),p=function(y,n){return r.createElement(m.Z,(0,d.Z)({},y,{ref:n,icon:c}))},s=r.forwardRef(p),l=s},12044:function(S,f,e){e.d(f,{j:function(){return v}});var d=e(34155),r=typeof d!="undefined"&&d.versions!=null&&d.versions.node!=null,v=function(){return typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.matchMedia!="undefined"&&!r}},80821:function(S,f,e){e.d(f,{Z:function(){return y}});var d=e(5574),r=e.n(d),v=e(93246),c=e(54006),m=e(31418),p=e(86738),s=e(14726),l=e(62435),g=e(86074);function y(n){var j=(0,l.useState)(!1),P=r()(j,2),I=P[0],C=P[1],i=m.Z.useApp(),h=(0,c.useIntl)(),E=function(){C(!0),n.action().then(function(B){if(C(!1),typeof n.onSuccess=="function"&&n.onSuccess(B),n.messageSuccess){var D="";n.messageSuccess.indexOf(".")>-1?D=h.formatMessage({id:n.messageSuccess}):D=n.messageSuccess,n.asynced?(0,v.Rk)(i,D):(0,v.$h)(i,D)}}).catch(function(B){C(!1),typeof n.onError=="function"&&n.onError(B)})};return n.confirm?(0,g.jsx)(p.Z,{style:{width:500},title:"\u63D0\u793A",description:n.confirm,onConfirm:E,okText:"Yes",cancelText:"No",children:(0,g.jsx)(s.ZP,{disabled:n.disabled,icon:n.icon,loading:I,danger:n.danger,type:n.type,children:n.children})}):(0,g.jsx)(s.ZP,{disabled:n.disabled,icon:n.icon,loading:I,onClick:E,danger:n.danger,type:n.type,children:n.children})}},85221:function(S,f,e){e.r(f),e.d(f,{default:function(){return Y}});var d=e(15009),r=e.n(d),v=e(99289),c=e.n(v),m=e(5574),p=e.n(m),s=e(80821),l=e(62435),g=e(12320),y=e(89629),n=e(86074),j=new g.Terminal({fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,cursorStyle:"block",cursorBlink:!0,theme:{foreground:"#dddddd",cursor:"gray"}}),P=(0,l.forwardRef)(function(T,A){return(0,l.useEffect)(function(){j.open(document.getElementById("terminal-container"))},[]),(0,l.useImperativeHandle)(A,function(){return{write:function(R){j.write(R)},clear:function(){j.clear()}}}),(0,n.jsx)("div",{id:"terminal-container",style:{width:"100%",height:"200px"}})}),I=P,C=e(24910),i=e(43425),h=e(74842),E=e(87784),a=e(33160),B=e(30159),D=e(6110),M=e(38345),K=e(97269),z=e(62370),L=e(54006),U=e(78957),G=e(96074),N=e(75891),V=e(84567);function Y(){var T=(0,L.useParams)(),A=(0,l.useRef)(),_=(0,l.useState)(),R=p()(_,2),u=R[0],H=R[1],b=(0,l.useState)({deleteImage:!1}),W=p()(b,2),w=W[0],J=W[1],Z=(0,l.useRef)(),$=(0,L.useModel)("subscriber");return $.addDataHandler("composeUp",function(){var o=$.getDataByType("composeUp"),t=o.pop();if(t){var O;(O=Z.current)===null||O===void 0||O.write(t.data)}}),(0,l.useEffect)(function(){var o;(0,C.YZ)({id:parseInt((o=T.id)!==null&&o!==void 0?o:"")}).then(function(t){H(t.data)})},[]),(0,n.jsx)(D._z,{header:{extra:[]},children:(0,n.jsxs)(M.Z,{ghost:!0,direction:"column",gutter:[10,10],children:[(0,n.jsx)(M.Z,{title:(0,n.jsx)(i.Z,{}),subTitle:"\u64CD\u4F5C - "+(u==null?void 0:u.title),headerBordered:!0,children:(0,n.jsxs)(U.Z,{children:[(0,n.jsx)(s.Z,{icon:(0,n.jsx)(h.Z,{}),action:function(){var t;return statusOperate({md5:(t=u==null?void 0:u.Id)!==null&&t!==void 0?t:"",operate:"start"})},messageSuccess:"\u542F\u52A8\u6210\u529F",onSuccess:function(){return setReload(reload+1)},children:"\u542F\u52A8"}),(0,n.jsx)(s.Z,{action:function(){var t;return statusOperate({md5:(t=u==null?void 0:u.Id)!==null&&t!==void 0?t:"",operate:"stop"})},messageSuccess:"\u505C\u6B62\u6210\u529F",icon:(0,n.jsx)(E.Z,{}),onSuccess:function(){return setReload(reload+1)},children:"\u505C\u6B62"}),(0,n.jsx)(s.Z,{action:function(){var t;return statusOperate({md5:(t=u==null?void 0:u.Id)!==null&&t!==void 0?t:"",operate:"restart"})},messageSuccess:"\u91CD\u542F\u6210\u529F",onSuccess:function(){return setReload(reload+1)},icon:(0,n.jsx)(a.Z,{}),children:"\u91CD\u542F"}),(0,n.jsx)(s.Z,{action:function(){var t;return statusOperate({md5:(t=u==null?void 0:u.Id)!==null&&t!==void 0?t:"",operate:"pause"})},messageSuccess:"\u6682\u505C\u6210\u529F",onSuccess:function(){return setReload(reload+1)},icon:(0,n.jsx)(B.Z,{}),children:"\u6682\u505C"}),(0,n.jsx)(s.Z,{action:function(){var t;return statusOperate({md5:(t=u==null?void 0:u.Id)!==null&&t!==void 0?t:"",operate:"unpause"})},messageSuccess:"\u542F\u52A8\u6210\u529F",onSuccess:function(){return setReload(reload+1)},icon:(0,n.jsx)(h.Z,{}),children:"\u6062\u590D"}),(0,n.jsx)(G.Z,{type:"vertical"}),(0,n.jsx)(s.Z,{type:"primary",action:function(){var t,O;return(t=Z.current)===null||t===void 0||t.clear(),(0,C.Am)({id:(O=u==null?void 0:u.id)!==null&&O!==void 0?O:0})},messageSuccess:"\u90E8\u7F72\u6210\u529F\uFF0C\u8BF7\u5230\u5BB9\u5668\u7BA1\u7406\u4E2D\u67E5\u770B",children:"\u90E8\u7F72\u5BB9\u5668"}),(0,n.jsx)(s.Z,{type:"primary",action:function(){var t,O;return(t=Z.current)===null||t===void 0||t.clear(),(0,C.cO)({id:(O=u==null?void 0:u.id)!==null&&O!==void 0?O:0,deleteImage:w.deleteImage})},danger:!0,confirm:(0,n.jsxs)(U.Z,{style:{width:280},direction:"vertical",children:[(0,n.jsx)(N.Z.Text,{children:"\u5220\u9664\u5BB9\u5668\u540E\u65E0\u6CD5\u6062\u590D,\u786E\u8BA4\u5417\uFF1F"}),(0,n.jsx)(V.Z,{name:"deleteImage",onChange:function(t){return J({deleteImage:t.target.checked})},children:"\u5220\u9664\u955C\u50CF\uFF1F"})]}),children:"\u9500\u6BC1\u5BB9\u5668"})]})}),(0,n.jsx)(M.Z,{title:"\u90E8\u7F72\u65E5\u5FD7",children:(0,n.jsx)(K.A,{formRef:A,onFinish:function(){var o=c()(r()().mark(function t(O){var F,Q;return r()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,C.Am)({id:parseInt((F=T.id)!==null&&F!==void 0?F:"")});case 2:return Q=x.sent,x.abrupt("return",!1);case 4:case"end":return x.stop()}},t)}));return function(t){return o.apply(this,arguments)}}(),submitter:!1,children:(0,n.jsx)(z.Z,{name:"runLog",children:(0,n.jsx)(I,{ref:Z})})})})]})})}},24910:function(S,f,e){e.d(f,{Am:function(){return y},YZ:function(){return I},cO:function(){return j},im:function(){return p},pm:function(){return l}});var d=e(15009),r=e.n(d),v=e(99289),c=e.n(v),m=e(54006);function p(i){return s.apply(this,arguments)}function s(){return s=c()(r()().mark(function i(h){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,m.request)("/api/app/compose/create",{method:"POST",data:h}));case 1:case"end":return a.stop()}},i)})),s.apply(this,arguments)}function l(i){return g.apply(this,arguments)}function g(){return g=c()(r()().mark(function i(h){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,m.request)("/api/app/compose/get-list",{method:"POST",data:h}));case 1:case"end":return a.stop()}},i)})),g.apply(this,arguments)}function y(i){return n.apply(this,arguments)}function n(){return n=c()(r()().mark(function i(h){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,m.request)("/api/app/compose/deploy",{method:"POST",data:h}));case 1:case"end":return a.stop()}},i)})),n.apply(this,arguments)}function j(i){return P.apply(this,arguments)}function P(){return P=c()(r()().mark(function i(h){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,m.request)("/api/app/compose/uninstall",{method:"POST",data:h}));case 1:case"end":return a.stop()}},i)})),P.apply(this,arguments)}function I(i){return C.apply(this,arguments)}function C(){return C=c()(r()().mark(function i(h){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,m.request)("/api/app/compose/get-detail",{method:"POST",data:h}));case 1:case"end":return a.stop()}},i)})),C.apply(this,arguments)}}}]);
