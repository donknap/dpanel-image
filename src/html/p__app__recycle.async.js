"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1610],{2830:function(j,E,n){n.d(E,{Z:function(){return P}});var v=n(87462),s=n(62435),p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M876.6 239.5c-.5-.9-1.2-1.8-2-2.5-5-5-13.1-5-18.1 0L684.2 409.3l-67.9-67.9L788.7 169c.8-.8 1.4-1.6 2-2.5 3.6-6.1 1.6-13.9-4.5-17.5-98.2-58-226.8-44.7-311.3 39.7-67 67-89.2 162-66.5 247.4l-293 293c-3 3-2.8 7.9.3 11l169.7 169.7c3.1 3.1 8.1 3.3 11 .3l292.9-292.9c85.5 22.8 180.5.7 247.6-66.4 84.4-84.5 97.7-213.1 39.7-311.3zM786 499.8c-58.1 58.1-145.3 69.3-214.6 33.6l-8.8 8.8-.1-.1-274 274.1-79.2-79.2 230.1-230.1s0 .1.1.1l52.8-52.8c-35.7-69.3-24.5-156.5 33.6-214.6a184.2 184.2 0 01144-53.5L537 318.9a32.05 32.05 0 000 45.3l124.5 124.5a32.05 32.05 0 0045.3 0l132.8-132.8c3.7 51.8-14.4 104.8-53.6 143.9z"}}]},name:"tool",theme:"outlined"},l=p,i=n(84089),h=function(m,t){return s.createElement(i.Z,(0,v.Z)({},m,{ref:t,icon:l}))},d=s.forwardRef(h),P=d},80821:function(j,E,n){n.d(E,{Z:function(){return m}});var v=n(5574),s=n.n(v),p=n(93246),l=n(54006),i=n(31418),h=n(86738),d=n(14726),P=n(62435),c=n(86074);function m(t){var M=(0,P.useState)(!1),O=s()(M,2),g=O[0],_=O[1],R=i.Z.useApp(),D=(0,l.useIntl)(),r=function(){_(!0),t.action().then(function(u){if(_(!1),typeof t.onSuccess=="function"&&t.onSuccess(u),t.messageSuccess){var e="";t.messageSuccess.indexOf(".")>-1?e=D.formatMessage({id:t.messageSuccess}):e=t.messageSuccess,t.asynced?(0,p.Rk)(R,e):(0,p.$h)(R,e)}}).catch(function(u){_(!1),typeof t.onError=="function"&&t.onError(u)})};return t.confirm?(0,c.jsx)(h.Z,{style:{width:500},title:"\u63D0\u793A",description:t.confirm,onConfirm:r,okText:"Yes",cancelText:"No",children:(0,c.jsx)(d.ZP,{disabled:t.disabled,icon:t.icon,loading:g,danger:t.danger,type:t.type,children:t.children})}):(0,c.jsx)(d.ZP,{disabled:t.disabled,icon:t.icon,loading:g,onClick:r,danger:t.danger,type:t.type,children:t.children})}},67108:function(j,E,n){n.r(E),n.d(E,{default:function(){return R}});var v=n(15009),s=n.n(v),p=n(99289),l=n.n(p),i=n(12010),h=n(62597),d=n(83062),P=n(78957),c=n(68508),m=n(54006),t=n(2830),M=n(62435),O=n(96974),g=n(80821),_=n(86074);function R(){var D=(0,O.UO)(),r=(0,M.useRef)();return(0,M.useEffect)(function(){var a;(a=r.current)===null||a===void 0||a.reload()},[D]),(0,_.jsx)(i.Z,{actionRef:r,columns:[{title:"\u540D\u79F0",ellipsis:!0,dataIndex:"siteTitle"},{title:"\u6807\u8BC6",ellipsis:!0,dataIndex:"siteName"},{title:"\u5220\u9664\u65E5\u671F",ellipsis:!0,dataIndex:"deletedAt",search:!1,width:180},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:100,render:function(u,e,y,f){return[(0,_.jsx)(m.Link,{to:"/app/create/image?id="+e.id,type:"link",children:(0,_.jsx)(d.Z,{title:"\u518D\u6B21\u6784\u5EFA",children:(0,_.jsx)(t.Z,{})})},"rebuild")]}}],rowKey:"id",request:function(){var a=l()(s()().mark(function u(e,y,f){var o,b,A;return s()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,(0,h.cl)({pageSize:(o=e.pageSize)!==null&&o!==void 0?o:10,page:(b=e.current)!==null&&b!==void 0?b:1,isDelete:!0,siteTitle:e.siteTitle,siteName:e.siteName});case 2:return A=T.sent,T.abrupt("return",{data:A.data.list,success:!0,total:A.data.total});case 4:case"end":return T.stop()}},u)}));return function(u,e,y){return a.apply(this,arguments)}}(),rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},tableAlertOptionRender:function(u){var e=u.selectedRowKeys;return(0,_.jsx)(P.Z,{size:16,children:(0,_.jsx)(g.Z,{danger:!0,type:"primary",action:function(){return(0,h.xb)({id:e})},onSuccess:function(){var f,o;return!((f=r.current)===null||f===void 0)&&f.reloadAndRest&&((o=r.current)===null||o===void 0||o.reloadAndRest()),!0},onError:function(){var f,o;return!((f=r.current)===null||f===void 0)&&f.reset&&((o=r.current)===null||o===void 0||o.reset()),!0},messageSuccess:"\u5220\u9664\u6210\u529F",children:"\u6279\u91CF\u5220\u9664"})})},pagination:{pageSize:10},search:{collapsed:!1},tableExtraRender:function(){return(0,_.jsx)(c.Z,{mode:"horizontal",selectedKeys:["recycle"],items:[{label:(0,_.jsx)(m.Link,{to:"/app/list",replace:!0,children:"\u5BB9\u5668\u5217\u8868"}),key:"all"},{label:(0,_.jsx)(m.Link,{to:"/app/recycle",replace:!0,children:"\u56DE\u6536\u7AD9"}),key:"recycle"}]})}})}},62597:function(j,E,n){n.d(E,{$G:function(){return h},Ct:function(){return g},Tb:function(){return m},cl:function(){return P},iE:function(){return M},xb:function(){return R}});var v=n(15009),s=n.n(v),p=n(99289),l=n.n(p),i=n(54006);function h(r){return d.apply(this,arguments)}function d(){return d=l()(s()().mark(function r(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/app/site/create-by-image",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),d.apply(this,arguments)}function P(r){return c.apply(this,arguments)}function c(){return c=l()(s()().mark(function r(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/app/site/get-list",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),c.apply(this,arguments)}function m(r){return t.apply(this,arguments)}function t(){return t=l()(s()().mark(function r(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.request)("/api/app/log/run",{method:"POST",data:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r)})),t.apply(this,arguments)}function M(r){return O.apply(this,arguments)}function O(){return O=l()(s()().mark(function r(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.request)("/api/app/site/get-detail",{data:a,method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},r)})),O.apply(this,arguments)}function g(r){return _.apply(this,arguments)}function _(){return _=l()(s()().mark(function r(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/app/container/delete",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),_.apply(this,arguments)}function R(r){return D.apply(this,arguments)}function D(){return D=l()(s()().mark(function r(a){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.request)("/api/app/site/delete",{method:"POST",data:a}));case 1:case"end":return e.stop()}},r)})),D.apply(this,arguments)}}}]);
