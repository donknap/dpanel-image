"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[992],{60933:function(Z,P,o){o.r(P),o.d(P,{default:function(){return I}});var l=o(5574),h=o.n(l),W=o(2831),j=o(38345),M=o(20713),F=o(38925),y=o(62435),_=o(86074);function I(){var b=(0,y.useState)(""),A=h()(b,2),i=A[0],L=A[1];return(0,y.useEffect)(function(){(0,W.d)().then(function(f){var x="";f.data.info.Mounts.map(function(E){E.Type=="volume"&&(x=E.Name)});var T=Object.keys(f.data.info.HostConfig.PortBindings).map(function(E){return f.data.info.HostConfig.PortBindings[E].map(function(N){return"-p ".concat(N.HostPort,":").concat(String(parseInt(E)))})}),R=!1,H=f.data.info.HostConfig.Binds.map(function(E){return E.indexOf(":/dpanel")>-1&&(R=!0),"-v ".concat(E)});if(!R){var x="";f.data.info.Mounts.map(function(N){N.Type=="volume"&&(x=N.Name)}),H.push("-v "+x+":/dpanel")}L("docker stop ".concat(f.data.info.Name," && docker rm ").concat(f.data.info.Name," && docker rmi ").concat(f.data.info.Config.Image,` && \\
docker run -it -d --name `).concat(f.data.info.Name,` --restart=always \\
 `).concat(T.join(" "),` --network dpanel-local \\
 `).concat(H.join(" "),` \\
 `).concat(f.data.info.Config.Image))})},[]),(0,_.jsxs)(j.Z,{title:"\u66F4\u65B0\u811A\u672C",children:[(0,_.jsx)(F.Z,{message:"\u6CE8\u610F",description:`1\u3001\u66F4\u65B0\u547D\u4EE4\u9700\u8981\u5728\u5BBF\u4E3B\u673A\u4E0A\u6267\u884C\u4EE5\u4E0B\u547D\u4EE4\u3002
2\u3001\u4E3A\u4E86\u4FDD\u7559\u65E7\u6570\u636E\u8BF7\u52A1\u5FC5\u7ED1\u5B9A /dpanel \u76EE\u5F55\u5230\u4E4B\u524D\u5B58\u50A8\u5377\u4E2D\u3002
3\u3001\u66F4\u65B0\u547D\u4EE4\u7B49\u4E8E\u5220\u9664\u3001\u91CD\u5EFA\u9762\u677F\u6240\u5C5E\u5BB9\u5668\uFF0C\u8FC7\u7A0B\u4E2D\u4F1A\u9020\u6210\u7AD9\u70B9\u65E0\u6CD5\u8BBF\u95EE\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C\u3002`,type:"error",style:{marginBottom:"20px"}}),(0,_.jsx)(M.ZP,{theme:"dark",height:"300px",value:i})]})}},2831:function(Z,P,o){o.d(P,{a:function(){return F},d:function(){return _}});var l=o(15009),h=o.n(l),W=o(99289),j=o.n(W),M=o(54006);function F(){return y.apply(this,arguments)}function y(){return y=j()(h()().mark(function b(){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,M.request)("/api/common/home/info",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},b)})),y.apply(this,arguments)}function _(){return I.apply(this,arguments)}function I(){return I=j()(h()().mark(function b(){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,M.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}},b)})),I.apply(this,arguments)}},38925:function(Z,P,o){o.d(P,{Z:function(){return se}});var l=o(62435),h=o(89739),W=o(4340),j=o(97937),M=o(21640),F=o(78860),y=o(93967),_=o.n(y),I=o(82225),b=o(64217),A=o(96159),i=o(53124),L=o(54548),f=o(14747),x=o(91945);const T=(n,e,a,t,s)=>({background:n,border:`${(0,L.bf)(t.lineWidth)} ${t.lineType} ${e}`,[`${s}-icon`]:{color:a}}),R=n=>{const{componentCls:e,motionDurationSlow:a,marginXS:t,marginSM:s,fontSize:p,fontSizeLG:d,lineHeight:g,borderRadiusLG:B,motionEaseInOutCirc:v,withDescriptionIconSize:D,colorText:U,colorTextHeading:S,withDescriptionPadding:c,defaultPadding:$}=n;return{[e]:Object.assign(Object.assign({},(0,f.Wf)(n)),{position:"relative",display:"flex",alignItems:"center",padding:$,wordWrap:"break-word",borderRadius:B,[`&${e}-rtl`]:{direction:"rtl"},[`${e}-content`]:{flex:1,minWidth:0},[`${e}-icon`]:{marginInlineEnd:t,lineHeight:0},["&-description"]:{display:"none",fontSize:p,lineHeight:g},"&-message":{color:S},[`&${e}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${a} ${v}, opacity ${a} ${v},
        padding-top ${a} ${v}, padding-bottom ${a} ${v},
        margin-bottom ${a} ${v}`},[`&${e}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${e}-with-description`]:{alignItems:"flex-start",padding:c,[`${e}-icon`]:{marginInlineEnd:s,fontSize:D,lineHeight:0},[`${e}-message`]:{display:"block",marginBottom:t,color:S,fontSize:d},[`${e}-description`]:{display:"block",color:U}},[`${e}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},H=n=>{const{componentCls:e,colorSuccess:a,colorSuccessBorder:t,colorSuccessBg:s,colorWarning:p,colorWarningBorder:d,colorWarningBg:g,colorError:B,colorErrorBorder:v,colorErrorBg:D,colorInfo:U,colorInfoBorder:S,colorInfoBg:c}=n;return{[e]:{"&-success":T(s,t,a,n,e),"&-info":T(c,S,U,n,e),"&-warning":T(g,d,p,n,e),"&-error":Object.assign(Object.assign({},T(D,v,B,n,e)),{[`${e}-description > pre`]:{margin:0,padding:0}})}}},E=n=>{const{componentCls:e,iconCls:a,motionDurationMid:t,marginXS:s,fontSizeIcon:p,colorIcon:d,colorIconHover:g}=n;return{[e]:{["&-action"]:{marginInlineStart:s},[`${e}-close-icon`]:{marginInlineStart:s,padding:0,overflow:"hidden",fontSize:p,lineHeight:(0,L.bf)(p),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${a}-close`]:{color:d,transition:`color ${t}`,"&:hover":{color:g}}},"&-close-text":{color:d,transition:`color ${t}`,"&:hover":{color:g}}}}},N=n=>({withDescriptionIconSize:n.fontSizeHeading3,defaultPadding:`${n.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${n.paddingMD}px ${n.paddingContentHorizontalLG}px`});var Y=(0,x.I$)("Alert",n=>[R(n),H(n),E(n)],N),z=function(n,e){var a={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&e.indexOf(t)<0&&(a[t]=n[t]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,t=Object.getOwnPropertySymbols(n);s<t.length;s++)e.indexOf(t[s])<0&&Object.prototype.propertyIsEnumerable.call(n,t[s])&&(a[t[s]]=n[t[s]]);return a};const k={success:h.Z,info:F.Z,error:W.Z,warning:M.Z},q=n=>{const{icon:e,prefixCls:a,type:t}=n,s=k[t]||null;return e?(0,A.wm)(e,l.createElement("span",{className:`${a}-icon`},e),()=>({className:_()(`${a}-icon`,{[e.props.className]:e.props.className})})):l.createElement(s,{className:`${a}-icon`})},ee=n=>{const{isClosable:e,prefixCls:a,closeIcon:t,handleClose:s,ariaProps:p}=n,d=t===!0||t===void 0?l.createElement(j.Z,null):t;return e?l.createElement("button",Object.assign({type:"button",onClick:s,className:`${a}-close-icon`,tabIndex:0},p),d):null};var K=n=>{const{description:e,prefixCls:a,message:t,banner:s,className:p,rootClassName:d,style:g,onMouseEnter:B,onMouseLeave:v,onClick:D,afterClose:U,showIcon:S,closable:c,closeText:$,closeIcon:O,action:w}=n,le=z(n,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[V,ie]=l.useState(!1),ce=l.useRef(null),{getPrefixCls:ue,direction:de,alert:r}=l.useContext(i.E_),u=ue("alert",a),[me,fe,pe]=Y(u),ge=m=>{var C;ie(!0),(C=n.onClose)===null||C===void 0||C.call(n,m)},X=l.useMemo(()=>n.type!==void 0?n.type:s?"warning":"info",[n.type,s]),ve=l.useMemo(()=>typeof c=="object"&&c.closeIcon||$?!0:typeof c=="boolean"?c:O!==!1&&O!==null&&O!==void 0?!0:!!(r!=null&&r.closable),[$,O,c,r==null?void 0:r.closable]),J=s&&S===void 0?!0:S,Ee=_()(u,`${u}-${X}`,{[`${u}-with-description`]:!!e,[`${u}-no-icon`]:!J,[`${u}-banner`]:!!s,[`${u}-rtl`]:de==="rtl"},r==null?void 0:r.className,p,d,pe,fe),Ce=(0,b.Z)(le,{aria:!0,data:!0}),_e=l.useMemo(()=>{var m,C;return typeof c=="object"&&c.closeIcon?c.closeIcon:$||(O!==void 0?O:typeof(r==null?void 0:r.closable)=="object"&&(!((m=r==null?void 0:r.closable)===null||m===void 0)&&m.closeIcon)?(C=r==null?void 0:r.closable)===null||C===void 0?void 0:C.closeIcon:r==null?void 0:r.closeIcon)},[O,c,$,r==null?void 0:r.closeIcon]),he=l.useMemo(()=>{const m=c!=null?c:r==null?void 0:r.closable;if(typeof m=="object"){const{closeIcon:C}=m;return z(m,["closeIcon"])}return{}},[c,r==null?void 0:r.closable]);return me(l.createElement(I.ZP,{visible:!V,motionName:`${u}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:m=>({maxHeight:m.offsetHeight}),onLeaveEnd:U},m=>{let{className:C,style:Q}=m;return l.createElement("div",Object.assign({ref:ce,"data-show":!V,className:_()(Ee,C),style:Object.assign(Object.assign(Object.assign({},r==null?void 0:r.style),g),Q),onMouseEnter:B,onMouseLeave:v,onClick:D,role:"alert"},Ce),J?l.createElement(q,{description:e,icon:n.icon,prefixCls:u,type:X}):null,l.createElement("div",{className:`${u}-content`},t?l.createElement("div",{className:`${u}-message`},t):null,e?l.createElement("div",{className:`${u}-description`},e):null),w?l.createElement("div",{className:`${u}-action`},w):null,l.createElement(ee,{isClosable:ve,prefixCls:u,closeIcon:_e,handleClose:ge,ariaProps:he}))}))},ne=o(15671),oe=o(43144),te=o(53640),re=o(32531),ae=function(n){(0,re.Z)(e,n);function e(){var a;return(0,ne.Z)(this,e),a=(0,te.Z)(this,e,arguments),a.state={error:void 0,info:{componentStack:""}},a}return(0,oe.Z)(e,[{key:"componentDidCatch",value:function(t,s){this.setState({error:t,info:s})}},{key:"render",value:function(){const{message:t,description:s,children:p}=this.props,{error:d,info:g}=this.state,B=g&&g.componentStack?g.componentStack:null,v=typeof t=="undefined"?(d||"").toString():t,D=typeof s=="undefined"?B:s;return d?l.createElement(K,{type:"error",message:v,description:l.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},D)}):p}}]),e}(l.Component);const G=K;G.ErrorBoundary=ae;var se=G}}]);
