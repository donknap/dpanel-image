"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8878],{58638:function(W,f,t){t.d(f,{Z:function(){return I}});var h=t(87462),r=t(62435),g={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},i=g,o=t(84089),c=function(E,m){return r.createElement(o.Z,(0,h.Z)({},E,{ref:m,icon:i}))},d=r.forwardRef(c),I=d},238:function(W,f,t){t.d(f,{Z:function(){return I}});var h=t(87462),r=t(62435),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM496 208H312c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 544h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H312c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm328 244a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"hdd",theme:"outlined"},i=g,o=t(84089),c=function(E,m){return r.createElement(o.Z,(0,h.Z)({},E,{ref:m,icon:i}))},d=r.forwardRef(c),I=d},30159:function(W,f,t){t.d(f,{Z:function(){return I}});var h=t(87462),r=t(62435),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"},i=g,o=t(84089),c=function(E,m){return r.createElement(o.Z,(0,h.Z)({},E,{ref:m,icon:i}))},d=r.forwardRef(c),I=d},74842:function(W,f,t){t.d(f,{Z:function(){return I}});var h=t(87462),r=t(62435),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},i=g,o=t(84089),c=function(E,m){return r.createElement(o.Z,(0,h.Z)({},E,{ref:m,icon:i}))},d=r.forwardRef(c),I=d},64789:function(W,f,t){t.d(f,{Z:function(){return I}});var h=t(87462),r=t(62435),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},i=g,o=t(84089),c=function(E,m){return r.createElement(o.Z,(0,h.Z)({},E,{ref:m,icon:i}))},d=r.forwardRef(c),I=d},87784:function(W,f,t){t.d(f,{Z:function(){return I}});var h=t(87462),r=t(62435),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},i=g,o=t(84089),c=function(E,m){return r.createElement(o.Z,(0,h.Z)({},E,{ref:m,icon:i}))},d=r.forwardRef(c),I=d},16664:function(W,f,t){t.d(f,{Z:function(){return I}});var h=t(87462),r=t(62435),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"},i=g,o=t(84089),c=function(E,m){return r.createElement(o.Z,(0,h.Z)({},E,{ref:m,icon:i}))},d=r.forwardRef(c),I=d},44771:function(W,f,t){t.d(f,{Z:function(){return o}});var h=t(34041),r=t(25449),g=t(62435),i=t(86074);function o(c){return(0,i.jsx)(r.Z,{name:"restart",initialValue:c.defaultValue?c.defaultValue:"on-failure",children:(0,i.jsx)(h.Z,{options:[{value:"no",label:"\u4E0D\u91CD\u542F"},{value:"on-failure",label:"\u975E\u6B63\u5E38\u9000\u51FA\u65F6,\u6700\u591A5\u6B21 - on failure"},{value:"unless-stopped",label:"\u9000\u51FA\u540E\u91CD\u542F\uFF0C\u4E0D\u5305\u62EC\u624B\u52A8\u505C\u6B62\u7684 - unless stopped"},{value:"always",label:"\u603B\u662F\u9000\u51FA\u540E\u91CD\u542F - always"}]})})}},78498:function(W,f,t){t.d(f,{Z:function(){return c}});var h=t(25035),r=t(78957),g=t(83062),i=t(62435),o=t(86074);function c(d){return(0,o.jsxs)(r.Z,{children:[d.title,(0,o.jsx)(g.Z,{title:d.help,children:(0,o.jsx)(h.Z,{})})]})}},97394:function(W,f,t){t.r(f),t.d(f,{default:function(){return Ke}});var h=t(15009),r=t.n(h),g=t(99289),i=t.n(g),o=t(5574),c=t.n(o),d=t(14946),I=t(29158),P=t(25035),E=t(48689),m=t(38345),Z=t(90639),K=t(83062),H=t(78957),M=t(75891),F=t(62435),B=t(80821),$=t(60335),Y=t(87462),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 680h-54V540H546v-92h238c8.8 0 16-7.2 16-16V168c0-8.8-7.2-16-16-16H240c-8.8 0-16 7.2-16 16v264c0 8.8 7.2 16 16 16h238v92H190v140h-54c-4.4 0-8 3.6-8 8v176c0 4.4 3.6 8 8 8h176c4.4 0 8-3.6 8-8V688c0-4.4-3.6-8-8-8h-54v-72h220v72h-54c-4.4 0-8 3.6-8 8v176c0 4.4 3.6 8 8 8h176c4.4 0 8-3.6 8-8V688c0-4.4-3.6-8-8-8h-54v-72h220v72h-54c-4.4 0-8 3.6-8 8v176c0 4.4 3.6 8 8 8h176c4.4 0 8-3.6 8-8V688c0-4.4-3.6-8-8-8zM256 805.3c0 1.5-1.2 2.7-2.7 2.7h-58.7c-1.5 0-2.7-1.2-2.7-2.7v-58.7c0-1.5 1.2-2.7 2.7-2.7h58.7c1.5 0 2.7 1.2 2.7 2.7v58.7zm288 0c0 1.5-1.2 2.7-2.7 2.7h-58.7c-1.5 0-2.7-1.2-2.7-2.7v-58.7c0-1.5 1.2-2.7 2.7-2.7h58.7c1.5 0 2.7 1.2 2.7 2.7v58.7zM288 384V216h448v168H288zm544 421.3c0 1.5-1.2 2.7-2.7 2.7h-58.7c-1.5 0-2.7-1.2-2.7-2.7v-58.7c0-1.5 1.2-2.7 2.7-2.7h58.7c1.5 0 2.7 1.2 2.7 2.7v58.7zM360 300a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"cluster",theme:"outlined"},y=j,p=t(84089),u=function(w,R){return F.createElement(p.Z,(0,Y.Z)({},w,{ref:R,icon:y}))},N=F.forwardRef(u),l=N,fe=t(64789),re=t(14726),he=t(85265),oe=t(66309),ne=t(96074),n=t(86074);function ge(b){var w=(0,F.useState)(!1),R=c()(w,2),_=R[0],C=R[1];return[(0,n.jsx)(re.ZP,{icon:(0,n.jsx)(l,{}),onClick:function(){return C(!0)},children:"\u52A0\u5165\u5DF2\u6709\u7F51\u7EDC"},"button"),(0,n.jsx)(he.Z,{width:800,onClose:function(){return C(!1)},open:_,title:"\u914D\u7F6E\u7F51\u7EDC",children:(0,n.jsx)(Z.Z,{rowKey:"Name",columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(e,O,V,T,v){return O.Name=="none"||O.Name=="bridge"||O.Name=="host"?(0,n.jsxs)(n.Fragment,{children:[O.Name," ",(0,n.jsx)(oe.Z,{color:"blue",children:"System"})]}):(0,n.jsx)(n.Fragment,{children:e})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4 IPAM Subnet",ellipsis:!0,width:150,search:!1,dataIndex:["IPAM","Config",0,"Subnet"]},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(e,O,V,T,v){return(0,n.jsx)(H.Z,{split:(0,n.jsx)(ne.Z,{type:"vertical"}),children:(0,n.jsx)(B.Z,{type:"link",action:function(){var S;return(0,d.HY)({name:O.Name,containerName:(S=b.containerName)!==null&&S!==void 0?S:"",containerAlise:(b.containerName?b.containerName:"")+".pod.dpanel.local"})},messageSuccess:"\u52A0\u5165\u7F51\u7EDC\u6210\u529F",onSuccess:function(){C(!1),b.onSuccess&&b.onSuccess()},children:(0,n.jsx)(K.Z,{title:"\u52A0\u5165",children:(0,n.jsx)(fe.Z,{})})})})}}],request:function(){var D=i()(r()().mark(function e(O,V,T){var v;return r()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,(0,d.jR)({name:O.Name});case 2:return v=S.sent,S.abrupt("return",{data:v.data.list,success:!0,total:v.data.list.length});case 4:case"end":return S.stop()}},e)}));return function(e,O,V){return D.apply(this,arguments)}}(),pagination:{pageSize:10}})},"form")]}function je(b){var w=(0,F.useRef)();return(0,n.jsx)(m.Z,{title:(0,n.jsx)(I.Z,{}),subTitle:"\u5BB9\u5668\u5173\u8054\u4FE1\u606F",headerBordered:!0,bordered:!0,children:(0,n.jsx)(Z.Z,{rowKey:"key",actionRef:w,pagination:!1,columns:[{title:"\u6240\u5C5E\u7F51\u7EDC",key:"name",dataIndex:"networkName",width:300},{title:"\u5BB9\u5668\u540D\u79F0",key:"containerName",dataIndex:"containerName"},{title:(0,n.jsxs)(n.Fragment,{children:["Hostname ",(0,n.jsx)(K.Z,{title:"Hostname \u63D0\u4F9B\u5BB9\u5668\u5185\u90E8\u8BBF\u95EE",children:(0,n.jsx)(P.Z,{})})]}),key:"hostName",render:function(_,C,D){return C.hostName?(0,n.jsx)(H.Z,{direction:"vertical",children:C.hostName.map(function(e){if(e)return(0,n.jsx)(M.Z.Text,{copyable:!0,keyboard:!0,children:e},e)})}):(0,n.jsx)(n.Fragment,{})}},{title:"Ip",key:"ip",dataIndex:["networkInfo","IPv4Address"]},{title:"MAC",key:"mac",dataIndex:["networkInfo","MacAddress"]},{title:"\u64CD\u4F5C",key:"option",render:function(_,C,D,e,O){return(0,n.jsx)(H.Z,{children:C.key!="bridge"&&C.key!="none"&&C.key!="host"&&C.networkName!=""&&(0,n.jsx)(K.Z,{title:"\u9000\u51FA\u7F51\u7EDC",children:(0,n.jsx)(B.Z,{confirm:"\u786E\u8BA4\u9000\u51FA\u8BE5\u7F51\u7EDC\uFF1F",type:"link",action:function(){var T;return(0,d.t9)({name:C.networkName,containerName:(T=b.containerName)!==null&&T!==void 0?T:""})},messageSuccess:"\u9000\u51FA\u6210\u529F",onSuccess:function(){var T,v;!((T=w.current)===null||T===void 0)&&T.reloadAndRest&&((v=w.current)===null||v===void 0||v.reloadAndRest())},children:(0,n.jsx)(E.Z,{})})})})}}],request:function(){var R=i()(r()().mark(function _(C,D,e){var O,V;return r()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,$.jV)({md5:b.containerName});case 2:return O=v.sent,v.next=5,(0,d._3)({name:Object.keys(O.data.info.NetworkSettings.Networks)});case 5:return V=v.sent,v.abrupt("return",{data:V.data.list,success:!0,total:V.data.list.length});case 7:case"end":return v.stop()}},_)}));return function(_,C,D){return R.apply(this,arguments)}}(),search:!1,expandable:{defaultExpandAllRows:!0,expandRowByClick:!1,defaultExpandedRowKeys:["bridge"]},toolBarRender:function(){return[(0,n.jsx)(ge,{onSuccess:function(){var C,D;!((C=w.current)===null||C===void 0)&&C.reloadAndRest&&((D=w.current)===null||D===void 0||D.reloadAndRest())},containerName:b.containerName})]}})})}var xe=t(44771);function de(b){return(0,n.jsx)(M.Z.Text,{copyable:!0,children:b.title})}var Ee=t(78498),Ie=t(62597),ce=t(93246),Ce=t(43425),me=t(74842),pe=t(87784),Oe=t(33160),Se=t(30159),Pe=t(58638),Ze=t(86548),ye=t(45605),be=t(16664),De=t(238),Fe=t(32319),Be=t(97269),q=t(54006),Te=t(31418),ae=t(84567),x=t(26412),Re=t(93162),Ae=t(87662),Me=t(75516),Ne=t(28031),we=t(66659),ke=t(85576),Le=t(63490),$e=t(37476),Ue=t(86615),He=t(97462),Ve=t(5966),We=t(2831);function ze(b){var w=ke.Z.useModal(),R=c()(w,2),_=R[0],C=R[1],D=(0,F.useState)(),e=c()(D,2),O=e[0],V=e[1],T=(0,F.useRef)(),v="";return(0,F.useEffect)(function(){var A,S;(0,We.a)().then(function(z){V(z.data.dpanel.containerInfo)}),v=(A=localStorage.getItem("backupPath"))!==null&&A!==void 0?A:"",(S=T.current)===null||S===void 0||S.setFieldValue("backupPath",v)},[]),(0,n.jsxs)(n.Fragment,{children:[C,(0,n.jsxs)($e.Y,{modalProps:{forceRender:!0},formRef:T,title:"\u5907\u4EFD\u5BB9\u5668\u5B58\u50A8\u5377",trigger:(0,n.jsxs)(re.ZP,{children:[(0,n.jsx)(we.Z,{})," \u5907\u4EFD\u5B58\u50A8"]}),onFinish:function(){var A=i()(r()().mark(function S(z){var Q,te;return r()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return z.backupPath&&localStorage.setItem("backupPath",z.backupPath),Q={containerMd5:b.container.Id,backupTargetType:z.backupTargetType,backupPath:z.backupPath},z.backupTargetType=="dpanel"&&O&&O.Mounts.map(function(G){G.Destination=="/dpanel"&&(Q.backupPath=G.Type=="volume"?G.Name:Q.backupPath=G.Source)}),k.next=5,(0,Ne.vp)(Q);case 5:return te=k.sent,_.info({title:"\u6B63\u5728\u5907\u4EFD\u5B58\u50A8\u4E2D",content:(0,n.jsx)(m.Z,{ghost:!0,style:{paddingTop:30},children:(0,n.jsx)(Le.Z,{columns:[{title:"\u5907\u4EFD\u6587\u4EF6",key:"backup",dataIndex:"backup",width:300,render:function(se,ee,le){return(0,n.jsx)(M.Z.Paragraph,{ellipsis:{rows:5,expandable:!0},children:ee.backupTar})}},{title:"\u5907\u4EFD\u76EE\u5F55",key:"pathList",dataIndex:"pathList",render:function(se,ee,le){return ee.pathList.map(function(ie,s){return(0,n.jsx)("div",{children:ie},s)})}}],dataSource:[{key:1,backupTar:te.data.backupTar,pathList:te.data.pathList}],rowKey:"key",pagination:!1})}),closable:!0,width:800}),k.abrupt("return",!0);case 8:case"end":return k.stop()}},S)}));return function(S){return A.apply(this,arguments)}}(),children:[(0,n.jsx)(Ue.Z.Group,{label:"\u5907\u4EFD\u76EE\u6807\u4F4D\u7F6E",name:"backupTargetType",initialValue:"dpanel",fieldProps:{defaultValue:"dpanel"},options:[{label:"DPanel \u5907\u4EFD\u76EE\u5F55\u4E2D",value:"dpanel"},{label:"\u5BBF\u4E3B\u673A\u76EE\u5F55\u4E2D",value:"host"}]}),(0,n.jsx)(He.Z,{name:["backupTargetType"],children:function(S){var z=S.backupTargetType;return z=="host"?(0,n.jsx)(Ve.Z,{label:"\u6307\u5B9A\u5BBF\u4E3B\u673A\u76EE\u5F55",tooltip:"\u8BF7\u586B\u5199\u5BBF\u4E3B\u673A\u76EE\u5F55\uFF0C\u4E0D\u5B58\u65F6\u4F1A\u65B0\u5EFA",name:"backupPath",placeholder:"/home/backup",initialValue:"/home/backup"}):(0,n.jsxs)(n.Fragment,{children:["\u5907\u4EFD\u4F4D\u4E8E DPanel \u5BB9\u5668\u4E2D\u7684 /dpanel/backup \u8DEF\u5F84 ",(0,n.jsx)(q.Link,{target:"_blank",to:"/app/detail/file/".concat(O==null?void 0:O.Id,"?tab=file&path=").concat(encodeURIComponent("/dpanel/backup")),children:"\u67E5\u770B"})]})}})]})]})}function Ke(){var b,w,R,_=(0,q.useParams)(),C=(0,F.useState)(),D=c()(C,2),e=D[0],O=D[1],V=(0,F.useState)(1),T=c()(V,2),v=T[0],A=T[1],S=(0,q.useNavigate)(),z=Te.Z.useApp(),Q=(0,F.useRef)(),te=(0,F.useState)({deleteImage:!1,deleteVolume:!1,deleteLink:!1}),ue=c()(te,2),k=ue[0],G=ue[1],se=(0,F.useState)("127.0.0.1"),ee=c()(se,2),le=ee[0],ie=ee[1];return(0,F.useEffect)(function(){var s;(0,$.jV)({md5:(s=_.id)!==null&&s!==void 0?s:""}).then(function(a){var L;a.data&&(a.data.info.HostConfig.NetworkMode=="host"&&Object.keys(a.data.info.Config.ExposedPorts).map(function(U){a.data.info.NetworkSettings.Ports[U]=[{HostIp:"0.0.0.0",HostPort:U.substring(0,U.indexOf("/"))}]}),O(a.data.info)),(L=Q.current)===null||L===void 0||L.setFieldValue("restart",a.data.info.HostConfig.RestartPolicy.Name)}),(0,Ae.pe)({groupName:"setting",name:"server"}).then(function(a){a.data.setting.value.serverIp&&ie(a.data.setting.value.serverIp)})},[v]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(m.Z,{direction:"column",gutter:[0,10],children:[(0,n.jsx)(m.Z,{title:(0,n.jsx)(Ce.Z,{}),subTitle:"\u5E38\u7528\u64CD\u4F5C",headerBordered:!0,bordered:!0,children:(0,n.jsxs)(H.Z,{children:[(0,n.jsx)(B.Z,{icon:(0,n.jsx)(me.Z,{}),action:function(){var a;return(0,$.IW)({md5:(a=e==null?void 0:e.Id)!==null&&a!==void 0?a:"",operate:"start"})},messageSuccess:"\u542F\u52A8\u6210\u529F",onSuccess:function(){return A(v+1)},disabled:e&&e.State.Running||e&&e.State.Paused,children:"\u542F\u52A8"}),(0,n.jsx)(B.Z,{action:function(){var a;return(0,$.IW)({md5:(a=e==null?void 0:e.Id)!==null&&a!==void 0?a:"",operate:"stop"})},messageSuccess:"\u505C\u6B62\u6210\u529F",icon:(0,n.jsx)(pe.Z,{}),onSuccess:function(){return A(v+1)},disabled:e&&e.State.Dead,children:"\u505C\u6B62"}),(0,n.jsx)(B.Z,{action:function(){var a;return(0,$.IW)({md5:(a=e==null?void 0:e.Id)!==null&&a!==void 0?a:"",operate:"restart"})},messageSuccess:"\u91CD\u542F\u6210\u529F",onSuccess:function(){return A(v+1)},icon:(0,n.jsx)(Oe.Z,{}),children:"\u91CD\u542F"}),(0,n.jsx)(B.Z,{action:function(){var a;return(0,$.IW)({md5:(a=e==null?void 0:e.Id)!==null&&a!==void 0?a:"",operate:"pause"})},messageSuccess:"\u6682\u505C\u6210\u529F",onSuccess:function(){return A(v+1)},icon:(0,n.jsx)(Se.Z,{}),disabled:e&&!e.State.Running,children:"\u6682\u505C"}),(0,n.jsx)(B.Z,{action:function(){var a;return(0,$.IW)({md5:(a=e==null?void 0:e.Id)!==null&&a!==void 0?a:"",operate:"unpause"})},messageSuccess:"\u542F\u52A8\u6210\u529F",onSuccess:function(){return A(v+1)},icon:(0,n.jsx)(me.Z,{}),disabled:e&&!e.State.Paused,children:"\u6062\u590D"}),(0,n.jsx)(ne.Z,{type:"vertical"}),(0,n.jsx)(B.Z,{action:function(){var a;return(0,Ie.Ct)({md5:(a=e==null?void 0:e.Id)!==null&&a!==void 0?a:"",deleteImage:k.deleteImage,deleteVolume:k.deleteVolume})},messageSuccess:"\u5220\u9664\u6210\u529F",danger:!0,type:"primary",icon:(0,n.jsx)(pe.Z,{}),onSuccess:function(){return S("/app/list")},confirm:(0,n.jsxs)(H.Z,{style:{width:280},direction:"vertical",children:[(0,n.jsx)(M.Z.Text,{children:"\u5220\u9664\u5BB9\u5668\u540E\u65E0\u6CD5\u6062\u590D,\u786E\u8BA4\u5417\uFF1F"}),(0,n.jsx)(ae.Z,{name:"deleteVolume",onChange:function(a){return G({deleteImage:k.deleteImage,deleteVolume:a.target.checked,deleteLink:k.deleteLink})},children:"\u5220\u9664\u5B58\u50A8\uFF1F"}),(0,n.jsx)(ae.Z,{name:"deleteImage",onChange:function(a){return G({deleteImage:a.target.checked,deleteVolume:k.deleteVolume,deleteLink:k.deleteLink})},children:"\u5220\u9664\u955C\u50CF\uFF1F"}),(0,n.jsx)(ae.Z,{name:"deleteLink",onChange:function(a){return G({deleteImage:k.deleteVolume,deleteVolume:k.deleteVolume,deleteLink:a.target.checked})},children:"\u5220\u9664\u5173\u8054\u5BB9\u5668\uFF1F"})]}),children:"\u5220\u9664"}),(0,n.jsx)(B.Z,{icon:(0,n.jsx)(Pe.Z,{}),action:function(){var a;return(0,$.LJ)({md5:(a=e==null?void 0:e.Id)!==null&&a!==void 0?a:""})},onSuccess:function(a){var L=new Blob([a],{type:"application/tar"});(0,Re.saveAs)(L,(e==null?void 0:e.Id)+".tar")},messageSuccess:"\u5BFC\u51FA\u6210\u529F",children:"\u5BFC\u51FA"}),e&&(0,n.jsx)(ze,{container:e}),(0,n.jsx)(ne.Z,{type:"vertical"}),(0,n.jsx)(re.ZP,{type:"primary",icon:(0,n.jsx)(Ze.Z,{}),children:(0,n.jsx)(q.Link,{to:"/app/create/image?md5=".concat(e==null?void 0:e.Id),children:"\u66F4\u65B0&\u91CD\u5EFA"})}),(0,n.jsx)(ne.Z,{type:"vertical"}),e&&(0,n.jsx)(Me.Z,{container:e})]})}),(0,n.jsx)(m.Z,{title:(0,n.jsx)(ye.Z,{}),subTitle:"\u5BB9\u5668\u72B6\u6001",headerBordered:!0,bordered:!0,children:(0,n.jsxs)(x.Z,{labelStyle:{width:"200px"},column:1,bordered:!0,children:[(0,n.jsx)(x.Z.Item,{label:"ID",children:(0,n.jsx)(de,{title:e==null?void 0:e.Id})}),(0,n.jsx)(x.Z.Item,{label:"Name",children:(0,n.jsx)(M.Z.Text,{editable:{tooltip:"\u4FEE\u6539\u5BB9\u5668\u540D\u79F0",onChange:function(){var s=i()(r()().mark(function L(U){var ve;return r()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(e!=null&&e.Id){X.next=2;break}return X.abrupt("return");case 2:return X.next=4,(0,$.eE)({md5:e.Id,name:U});case 4:ve=X.sent,A(v+1),(0,ce.$h)(z,"\u4FEE\u6539\u5BB9\u5668\u540D\u79F0");case 7:case"end":return X.stop()}},L)}));function a(L){return s.apply(this,arguments)}return a}()},children:e&&e.Name})}),(0,n.jsx)(x.Z.Item,{label:(0,n.jsx)(Ee.Z,{title:"Default Network",help:"\u9ED8\u8BA4\u7F51\u7EDC\u53EA\u652F\u6301\u901A\u8FC7ip\u8BBF\u95EE,ip\u4F1A\u968F\u7740\u5BB9\u5668\u542F\u52A8\u505C\u6B62\u6539\u53D8.\u5982\u679C\u9700\u8981\u5728\u5BB9\u5668\u5185\u4E92\u8054,\u8BF7\u901A\u8FC7\u3010\u7F16\u8F91\u7AD9\u70B9\u3011-\u3010\u6DFB\u52A0\u5173\u8054\u3011"}),children:(e==null?void 0:e.State.Running)&&(0,n.jsx)(x.Z,{column:1,bordered:!0,children:e.NetworkSettings.Networks&&Object.keys(e.NetworkSettings.Networks).map(function(s,a){return(0,n.jsx)(x.Z.Item,{label:s,children:s=="host"?" Host \u7F51\u7EDC\uFF0C\u4E0E\u5BBF\u4E3B\u673A\u5171\u7528\u540C\u4E00\u7F51\u7EDC":(0,n.jsxs)(H.Z,{split:"/",children:[(0,n.jsx)(de,{title:e==null?void 0:e.NetworkSettings.Networks[s].IPAddress}),e==null?void 0:e.NetworkSettings.Networks[s].Gateway,e==null?void 0:e.NetworkSettings.Networks[s].MacAddress]})},"1")})})}),(0,n.jsx)(x.Z.Item,{label:"Status",children:e==null?void 0:e.State.Status}),(0,n.jsx)(x.Z.Item,{label:"Create Time",children:new Date((b=e==null?void 0:e.Created)!==null&&b!==void 0?b:"").toLocaleString()}),(0,n.jsx)(x.Z.Item,{label:"Start Time",children:new Date((w=e==null?void 0:e.State.StartedAt)!==null&&w!==void 0?w:"").toLocaleString()}),(0,n.jsx)(x.Z.Item,{label:"\u91CD\u542F\u7B56\u7565",children:(0,n.jsx)(Be.A,{onFinish:function(){var s=i()(r()().mark(function a(L){var U;return r()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(e!=null&&e.Id){J.next=2;break}return J.abrupt("return");case 2:return J.next=4,(0,$.eE)({md5:e.Id,restart:L.restart});case 4:return U=J.sent,(0,ce.$h)(z,"\u4FEE\u6539\u91CD\u542F\u7B56\u7565\u6210\u529F"),J.abrupt("return");case 7:case"end":return J.stop()}},a)}));return function(a){return s.apply(this,arguments)}}(),formRef:Q,children:(0,n.jsx)(xe.Z,{defaultValue:e==null?void 0:e.HostConfig.RestartPolicy.Name})})})]})}),(0,n.jsx)(m.Z,{title:(0,n.jsx)(be.Z,{}),subTitle:"\u955C\u50CF\u8BE6\u60C5",headerBordered:!0,bordered:!0,children:(0,n.jsxs)(x.Z,{labelStyle:{width:"200px"},column:1,bordered:!0,children:[(0,n.jsx)(x.Z.Item,{label:"Image Tag",children:(0,n.jsx)(q.Link,{target:"_blank",to:"/image/detail/"+(e==null?void 0:e.Image),children:e==null?void 0:e.Config.Image})}),(0,n.jsx)(x.Z.Item,{label:"Image",children:e==null?void 0:e.Image}),(0,n.jsx)(x.Z.Item,{label:"Port",children:(0,n.jsx)(H.Z,{direction:"vertical",children:(e==null?void 0:e.NetworkSettings.Ports)&&Object.keys(e.NetworkSettings.Ports).map(function(s){var a,L=(a=e==null?void 0:e.NetworkSettings.Ports[s])!==null&&a!==void 0?a:[{HostPort:null,HostIp:""}];return L.map(function(U){return(0,n.jsxs)(H.Z.Compact,{children:[(0,n.jsxs)(oe.Z,{color:U.HostPort?"success":"",children:[U.HostPort?"".concat(U.HostIp,":").concat(U.HostPort," ->"):"",s]},s),U.HostPort?(0,n.jsx)("a",{href:"http://".concat(le,":").concat(U.HostPort),target:"_blank",children:(0,n.jsx)(I.Z,{})}):""]})})})})}),(0,n.jsx)(x.Z.Item,{label:"CMD",children:(e==null?void 0:e.Config.Cmd)&&(e==null?void 0:e.Config.Cmd.join(" "))}),(0,n.jsx)(x.Z.Item,{label:"ENTRYPOINT",children:e==null?void 0:e.Config.Entrypoint}),(0,n.jsx)(x.Z.Item,{label:"ENV",children:(0,n.jsx)(x.Z,{column:1,bordered:!0,children:(e==null?void 0:e.Config.Env)&&e.Config.Env.map(function(s,a){var L=s.split("=");return(0,n.jsx)(x.Z.Item,{label:L[0],children:(0,n.jsx)(M.Z.Text,{style:{width:"400px"},ellipsis:{tooltip:""},children:L[1]})},a)})})}),(0,n.jsx)(x.Z.Item,{label:"Labels",children:(0,n.jsx)(x.Z,{column:1,bordered:!0,children:e&&Object.keys(e.Config.Labels).map(function(s){return(0,n.jsx)(x.Z.Item,{label:s,children:(0,n.jsx)(M.Z.Text,{style:{width:"400px"},ellipsis:{tooltip:e.Config.Labels[s]},children:e.Config.Labels[s]})},s)})})})]})}),e&&e.Mounts&&e.Mounts.length>0&&(0,n.jsx)(m.Z,{title:(0,n.jsx)(De.Z,{}),subTitle:"\u6301\u4E45\u5B58\u50A8\u8BE6\u60C5",headerBordered:!0,bordered:!0,children:(0,n.jsx)(x.Z,{labelStyle:{width:"500px"},column:1,bordered:!0,children:e==null?void 0:e.Mounts.map(function(s,a){return(0,n.jsx)(x.Z.Item,{label:s.Type=="volume"?s.Name.indexOf(e.Name)==0?(0,n.jsx)(H.Z,{children:s.Name}):(0,n.jsx)("span",{children:s.Name}):s.Source,children:(0,n.jsxs)(q.Link,{target:"_blank",to:"/app/detail/file/".concat(e.Id,"?tab=file&path=").concat(encodeURIComponent(s.Destination)),children:[s.Destination," ",(0,n.jsx)(Fe.Z,{})]})},a)})})}),(e==null?void 0:e.Name)&&(0,n.jsx)(je,{containerName:(R=e==null?void 0:e.Name)!==null&&R!==void 0?R:""})]})})}},62597:function(W,f,t){t.d(f,{$G:function(){return c},Ct:function(){return H},Tb:function(){return E},cl:function(){return I},iE:function(){return Z},lK:function(){return $},xb:function(){return F}});var h=t(15009),r=t.n(h),g=t(99289),i=t.n(g),o=t(54006);function c(j){return d.apply(this,arguments)}function d(){return d=i()(r()().mark(function j(y){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,o.request)("/api/app/site/create-by-image",{method:"POST",data:y}));case 1:case"end":return u.stop()}},j)})),d.apply(this,arguments)}function I(j){return P.apply(this,arguments)}function P(){return P=i()(r()().mark(function j(y){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,o.request)("/api/app/site/get-list",{method:"POST",data:y}));case 1:case"end":return u.stop()}},j)})),P.apply(this,arguments)}function E(j){return m.apply(this,arguments)}function m(){return m=i()(r()().mark(function j(y){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,o.request)("/api/app/log/run",{method:"POST",data:y});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},j)})),m.apply(this,arguments)}function Z(j){return K.apply(this,arguments)}function K(){return K=i()(r()().mark(function j(y){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,o.request)("/api/app/site/get-detail",{data:y,method:"POST"});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},j)})),K.apply(this,arguments)}function H(j){return M.apply(this,arguments)}function M(){return M=i()(r()().mark(function j(y){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,o.request)("/api/app/container/delete",{method:"POST",data:y}));case 1:case"end":return u.stop()}},j)})),M.apply(this,arguments)}function F(j){return B.apply(this,arguments)}function B(){return B=i()(r()().mark(function j(y){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,o.request)("/api/app/site/delete",{method:"POST",data:y}));case 1:case"end":return u.stop()}},j)})),B.apply(this,arguments)}function $(j){return Y.apply(this,arguments)}function Y(){return Y=i()(r()().mark(function j(y){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,o.request)("/api/app/site/update-title",{method:"POST",data:y});case 2:return u.abrupt("return",u.sent);case 3:case"end":return u.stop()}},j)})),Y.apply(this,arguments)}},2831:function(W,f,t){t.d(f,{a:function(){return c},d:function(){return I}});var h=t(15009),r=t.n(h),g=t(99289),i=t.n(g),o=t(54006);function c(){return d.apply(this,arguments)}function d(){return d=i()(r()().mark(function E(){return r()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,o.request)("/api/common/home/info",{method:"POST"});case 2:return Z.abrupt("return",Z.sent);case 3:case"end":return Z.stop()}},E)})),d.apply(this,arguments)}function I(){return P.apply(this,arguments)}function P(){return P=i()(r()().mark(function E(){return r()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,(0,o.request)("/api/common/home/upgrade-script",{method:"POST"});case 2:return Z.abrupt("return",Z.sent);case 3:case"end":return Z.stop()}},E)})),P.apply(this,arguments)}},14946:function(W,f,t){t.d(f,{CI:function(){return E},HY:function(){return $},IS:function(){return c},XY:function(){return H},_3:function(){return j},_x:function(){return Z},jR:function(){return I},t9:function(){return F}});var h=t(15009),r=t.n(h),g=t(99289),i=t.n(g),o=t(54006);function c(p){return d.apply(this,arguments)}function d(){return d=i()(r()().mark(function p(u){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,o.request)("/api/app/network/get-detail",{method:"POST",data:u}));case 1:case"end":return l.stop()}},p)})),d.apply(this,arguments)}function I(p){return P.apply(this,arguments)}function P(){return P=i()(r()().mark(function p(u){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,o.request)("/api/app/network/get-list",{method:"POST",data:u}));case 1:case"end":return l.stop()}},p)})),P.apply(this,arguments)}function E(){return m.apply(this,arguments)}function m(){return m=i()(r()().mark(function p(){return r()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,(0,o.request)("/api/app/network/prune",{method:"POST"});case 2:return N.abrupt("return",N.sent);case 3:case"end":return N.stop()}},p)})),m.apply(this,arguments)}function Z(p){return K.apply(this,arguments)}function K(){return K=i()(r()().mark(function p(u){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,o.request)("/api/app/network/delete",{method:"POST",data:u});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},p)})),K.apply(this,arguments)}function H(p){return M.apply(this,arguments)}function M(){return M=i()(r()().mark(function p(u){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,o.request)("/api/app/network/create",{method:"POST",data:u});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},p)})),M.apply(this,arguments)}function F(p){return B.apply(this,arguments)}function B(){return B=i()(r()().mark(function p(u){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,o.request)("/api/app/network/disconnect",{method:"POST",data:u});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},p)})),B.apply(this,arguments)}function $(p){return Y.apply(this,arguments)}function Y(){return Y=i()(r()().mark(function p(u){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,o.request)("/api/app/network/connect",{method:"POST",data:u});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},p)})),Y.apply(this,arguments)}function j(p){return y.apply(this,arguments)}function y(){return y=i()(r()().mark(function p(u){return r()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,o.request)("/api/app/network/get-container-list",{method:"POST",data:u}));case 1:case"end":return l.stop()}},p)})),y.apply(this,arguments)}}}]);
