"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[550],{98165:function(I,f,e){e.d(f,{Z:function(){return O}});var m=e(87462),i=e(62435),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},h=y,S=e(84089),g=function(d,D){return i.createElement(S.Z,(0,m.Z)({},d,{ref:D,icon:h}))},P=i.forwardRef(g),O=P},80821:function(I,f,e){e.d(f,{Z:function(){return D}});var m=e(5574),i=e.n(m),y=e(93246),h=e(54006),S=e(31418),g=e(86738),P=e(14726),O=e(83062),A=e(62435),d=e(86074);function D(t){var B=(0,A.useState)(!1),M=i()(B,2),T=M[0],j=M[1],R=S.Z.useApp(),Z=(0,h.useIntl)(),C=function(){j(!0),t.action().then(function(a){if(j(!1),typeof t.onSuccess=="function"&&t.onSuccess(a),t.messageSuccess){var o="";typeof t.messageSuccess=="function"?o=t.messageSuccess(a):o=t.messageSuccess,o.indexOf(".")>-1&&(o=Z.formatMessage({id:o})),t.asynced?(0,y.Rk)(R,o):(0,y.$h)(R,o)}}).catch(function(a){j(!1),typeof t.onError=="function"&&t.onError(a)})};return t.confirm?(0,d.jsx)(g.Z,{style:{width:500},title:"\u63D0\u793A",description:t.confirm,onConfirm:C,okText:"Yes",cancelText:"No",children:(0,d.jsx)(P.ZP,{disabled:t.disabled,icon:t.icon,loading:T,danger:t.danger,type:t.type,children:t.children})}):(0,d.jsx)(O.Z,{title:t.tips,children:(0,d.jsx)(P.ZP,{disabled:t.disabled,icon:t.icon,loading:T,onClick:C,danger:t.danger,type:t.type,children:t.children})})}},72340:function(I,f,e){e.r(f),e.d(f,{default:function(){return o}});var m=e(15009),i=e.n(m),y=e(99289),h=e.n(y),S=e(80821),g=e(54006);function P(u){return O.apply(this,arguments)}function O(){return O=h()(i()().mark(function u(s){return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.request)("/api/app/volume/get-backup-list",{method:"POST",data:s}));case 1:case"end":return n.stop()}},u)})),O.apply(this,arguments)}function A(u){return d.apply(this,arguments)}function d(){return d=h()(i()().mark(function u(s){return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.request)("/api/app/volume/delete-backup",{method:"POST",data:s}));case 1:case"end":return n.stop()}},u)})),d.apply(this,arguments)}function D(u){return t.apply(this,arguments)}function t(){return t=h()(i()().mark(function u(s){return i()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.request)("/api/app/volume/restore",{method:"POST",data:s}));case 1:case"end":return n.stop()}},u)})),t.apply(this,arguments)}var B=e(6409),M=e(98165),T=e(6110),j=e(90639),R=e(78957),Z=e(96074),C=e(83062),p=e(62435),a=e(86074);function o(){var u=(0,p.useRef)();return(0,a.jsx)(T._z,{header:{extra:[]},children:(0,a.jsx)(j.Z,{rowKey:"id",columns:[{title:"\u6240\u5C5E\u5BB9\u5668",dataIndex:"containerId",width:150,ellipsis:!0},{title:"\u5B58\u50A8\u8DEF\u5F84",search:!1,dataIndex:["setting","backupPath"],width:200,ellipsis:!0},{title:"\u6587\u4EF6\u540D\u79F0",search:!1,render:function(l,n,v,c,r){var E=n.setting.backupTar;return E.substring(E.lastIndexOf("/",E.lastIndexOf("/")-1))}},{title:"\u5B58\u50A8\u5377\u8DEF\u5F84",search:!1,render:function(l,n,v,c,r){return(0,a.jsx)(R.Z,{wrap:!0,children:n.setting.volumePathList.map(function(E){return E})})}},{title:"\u5907\u4EFD\u65F6\u95F4",search:!1,width:200,render:function(l,n,v,c,r){return new Date(n.createdAt).toLocaleString()}},{title:"\u64CD\u4F5C",search:!1,width:100,render:function(l,n,v,c,r){return(0,a.jsx)(R.Z,{split:(0,a.jsx)(Z.Z,{}),children:(0,a.jsx)(C.Z,{title:"\u6062\u590D",children:(0,a.jsx)(S.Z,{type:"link",action:function(){return D({id:n.id,containerMd5:n.containerId})},messageSuccess:"\u6062\u590D\u5907\u4EFD\u6210\u529F",children:(0,a.jsx)(M.Z,{})})})})}}],request:function(){var s=h()(i()().mark(function l(n,v,c){var r;return i()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,P({containerId:n.containerId,page:n.current,pageSize:n.pageSize});case 2:return r=x.sent,x.abrupt("return",{data:r.data.list,success:!0,total:r.data.list.length});case 4:case"end":return x.stop()}},l)}));return function(l,n,v){return s.apply(this,arguments)}}(),rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},actionRef:u,tableAlertOptionRender:function(l){var n=l.selectedRowKeys;return(0,a.jsx)(R.Z,{size:16,children:(0,a.jsx)(S.Z,{danger:!0,type:"primary",action:function(){return A({id:n})},onSuccess:function(){var c,r;return!((c=u.current)===null||c===void 0)&&c.reloadAndRest&&((r=u.current)===null||r===void 0||r.reloadAndRest()),!0},onError:function(){var c,r;return!((c=u.current)===null||c===void 0)&&c.reset&&((r=u.current)===null||r===void 0||r.reset()),!0},messageSuccess:"\u5220\u9664\u6210\u529F",children:"\u6279\u91CF\u5220\u9664"})})},pagination:(0,B.O)()})})}},6409:function(I,f,e){e.d(f,{O:function(){return m}});function m(){return{showSizeChanger:!0,defaultPageSize:20}}}}]);
