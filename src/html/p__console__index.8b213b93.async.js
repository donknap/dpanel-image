(self.webpackChunk=self.webpackChunk||[]).push([[3805],{19305:function(u,r,t){"use strict";t.r(r),t.d(r,{default:function(){return m}});var e=t(52626),n=t(54006),l=t(78267),s=t(31418),d=t(62435),c=t(12320),i=t(86074);function m(){var h=s.Z.useApp(),g=(0,n.useParams)(),p=new l.FitAddon,a=new c.Terminal({fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,cursorStyle:"block",cursorBlink:!0,theme:{foreground:"#dddddd",cursor:"gray"}}),f=new WebSocket((0,e.R)("/console/"+g.id));return a.onData(function(o){var v={content:{command:o},type:"console"};f.send(JSON.stringify(v))}),(0,d.useEffect)(function(){a.loadAddon(p),a.open(document.getElementById("terminal-container")),p.fit(),f.addEventListener("message",function(o){if(o.data){if(o.data.indexOf('{"type":')>-1)return;a.write(o.data)}})},[]),(0,i.jsx)("div",{id:"terminal-container",style:{width:"100%",height:"100vh"}})}},78267:function(u){(function(r,t){u.exports=t()})(self,()=>(()=>{"use strict";var r={};return(()=>{var t=r;Object.defineProperty(t,"__esModule",{value:!0}),t.FitAddon=void 0,t.FitAddon=class{activate(e){this._terminal=e}dispose(){}fit(){const e=this.proposeDimensions();if(!e||!this._terminal||isNaN(e.cols)||isNaN(e.rows))return;const n=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(n._renderService.clear(),this._terminal.resize(e.cols,e.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const e=this._terminal._core,n=e._renderService.dimensions;if(n.css.cell.width===0||n.css.cell.height===0)return;const l=this._terminal.options.scrollback===0?0:e.viewport.scrollBarWidth,s=window.getComputedStyle(this._terminal.element.parentElement),d=parseInt(s.getPropertyValue("height")),c=Math.max(0,parseInt(s.getPropertyValue("width"))),i=window.getComputedStyle(this._terminal.element),m=d-(parseInt(i.getPropertyValue("padding-top"))+parseInt(i.getPropertyValue("padding-bottom"))),h=c-(parseInt(i.getPropertyValue("padding-right"))+parseInt(i.getPropertyValue("padding-left")))-l;return{cols:Math.max(2,Math.floor(h/n.css.cell.width)),rows:Math.max(1,Math.floor(m/n.css.cell.height))}}}})(),r})())}}]);
