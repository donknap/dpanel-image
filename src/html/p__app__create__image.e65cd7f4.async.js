"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3985],{44771:function(re,G,t){t.d(G,{Z:function(){return s}});var X=t(34041),r=t(25449),J=t(62435),l=t(86074);function s(P){return(0,l.jsx)(r.Z,{name:"restart",initialValue:P.defaultValue?P.defaultValue:"on-failure",children:(0,l.jsx)(X.Z,{options:[{value:"no",label:"\u4E0D\u91CD\u542F"},{value:"on-failure",label:"\u975E\u6B63\u5E38\u9000\u51FA\u65F6,\u6700\u591A5\u6B21 - on failure"},{value:"unless-stopped",label:"\u9000\u51FA\u540E\u91CD\u542F\uFF0C\u4E0D\u5305\u62EC\u624B\u52A8\u505C\u6B62\u7684 - unless stopped"},{value:"always",label:"\u603B\u662F\u9000\u51FA\u540E\u91CD\u542F - always"}]})})}},80821:function(re,G,t){t.d(G,{Z:function(){return y}});var X=t(5574),r=t.n(X),J=t(93246),l=t(54006),s=t(31418),P=t(86738),v=t(14726),Q=t(62435),U=t(86074);function y(g){var ee=(0,Q.useState)(!1),o=r()(ee,2),q=o[0],I=o[1],M=s.Z.useApp(),b=(0,l.useIntl)(),f=function(){I(!0),g.action().then(function(L){if(I(!1),typeof g.onSuccess=="function"&&g.onSuccess(L),g.messageSuccess){var a="";g.messageSuccess.indexOf(".")>-1?a=b.formatMessage({id:g.messageSuccess}):a=g.messageSuccess,g.asynced?(0,J.Rk)(M,a):(0,J.$h)(M,a)}}).catch(function(L){I(!1),typeof g.onError=="function"&&g.onError(L)})};return g.confirm?(0,U.jsx)(P.Z,{style:{width:500},title:"\u63D0\u793A",description:g.confirm,onConfirm:f,okText:"Yes",cancelText:"No",children:(0,U.jsx)(v.ZP,{disabled:g.disabled,icon:g.icon,loading:q,danger:g.danger,type:g.type,children:g.children})}):(0,U.jsx)(v.ZP,{disabled:g.disabled,icon:g.icon,loading:q,onClick:f,danger:g.danger,type:g.type,children:g.children})}},35880:function(re,G,t){var X=t(62435),r=(0,X.createContext)({});G.Z=r},4619:function(re,G,t){t.r(G),t.d(G,{default:function(){return qe}});var X=t(15009),r=t.n(X),J=t(99289),l=t.n(J),s=t(5574),P=t.n(s),v=t(38345),Q=t(97269),U=t(2236),y=t(5966),g=t(97462),ee=t(92398),o=t(62435),q=t(35880),I=t(62370),M=t(12010),b=t(78957),f=t(14726),d=t(85576),L=t(75891),a=t(96074),W=t(83062),H=t(3393),D=t(18148),m=t(5251),V=t(64789),E=t(75162),ge=t(85265),Ee=t(38703),je=t(80821),le=t(54006),e=t(86074),Fe=(0,o.forwardRef)(function(B,K){var w=(0,o.useState)(!1),O=P()(w,2),R=O[0],x=O[1],C=(0,o.useState)(),S=P()(C,2),T=S[0],j=S[1],h=(0,le.useModel)("subscriber"),n=(0,o.useRef)();return h.addDataHandler("imageDownload",function(){var p=h.getDataByType("imageDownload"),c=p.pop();c&&j(c.data)}),(0,o.useImperativeHandle)(K,function(){return{upgradeImage:function(c){var i;return x(!0),(i=n.current)===null||i===void 0||i.setFieldValue("imageUrl",c),(0,H.Gb)({tag:c,type:"pull"})},setImageName:function(c){var i;console.log(c),x(!0),(i=n.current)===null||i===void 0||i.setFieldValue("imageUrl",c)}}}),[(0,e.jsx)(f.ZP,{type:"primary",danger:!0,onClick:function(){var c;x(!0),(c=n.current)===null||c===void 0||c.resetFields(),j({start:{downloading:0,extracting:0}})},children:"\u4E0B\u8F7D\u65B0\u955C\u50CF"},"remoteBtn"),(0,e.jsxs)(ge.Z,{forceRender:!0,open:R,title:"\u4E0B\u8F7D\u8FDC\u7A0B\u955C\u50CF",width:800,onClose:function(){return x(!1)},footer:!1,children:[(0,e.jsx)(v.Z,{children:(0,e.jsxs)(b.Z,{direction:"vertical",size:"middle",children:[(0,e.jsxs)("div",{children:["1\u3001\u955C\u50CF\u540D\u79F0\u4E2D\u4E0D\u5305\u542B\u4ED3\u5E93\u5730\u5740\u65F6\uFF0C \u9ED8\u8BA4\u4ECE ",(0,e.jsx)("a",{href:"https://hub.docker.com/",target:"_blank",children:"docker hub"})," \u4E2D\u4E0B\u8F7D\uFF0C \u4F60\u53EF\u4EE5\u5728\u4E0A\u9762",(0,e.jsx)("a",{href:"https://hub.docker.com/search?q=",target:"_blank",children:"\u3010\u67E5\u627E\u3011"}),"\u9700\u8981\u7684\u955C\u50CF"]}),(0,e.jsxs)("div",{children:["2\u3001\u955C\u50CF\u4E2D\u5305\u542B\u4ED3\u5E93\u5730\u5740\u65F6\uFF0C\u8BF7\u786E",(0,e.jsx)("a",{href:"/image/registry",target:"_blank",children:"\u3010\u6DFB\u52A0\u3011"}),"\u8FC7\u8BE5\u4ED3\u5E93\uFF0C\u5E76\u6709 Pull \u6743\u9650"]}),(0,e.jsx)("div",{children:"3\u3001\u65E0\u7528\u7684\u955C\u50CF\u53CA\u7F13\u5B58\u6587\u4EF6\u53EF\u4EE5\u5728\u955C\u50CF\u7BA1\u7406\u4E2D\u8FDB\u884C\u5220\u9664\u548C\u6E05\u7406"})]})}),(0,e.jsx)(v.Z,{title:"\u4E0B\u8F7D\u955C\u50CF",headerBordered:!0,children:(0,e.jsxs)(Q.A,{submitter:!1,formRef:n,children:[(0,e.jsxs)(b.Z.Compact,{children:[(0,e.jsx)(y.Z,{width:400,name:"imageUrl",placeholder:"\u8BF7\u8F93\u5165\u955C\u50CF\u5730\u5740"}),(0,e.jsx)(je.Z,{action:function(){var c,i,u=(c=(i=n.current)===null||i===void 0?void 0:i.getFieldValue("imageUrl"))!==null&&c!==void 0?c:"";return(0,H.Gb)({tag:u,type:"pull"})},onSuccess:function(){var c,i,u,_;j({finish:{downloading:100,extracting:100}}),x(!1);var z=(c=(i=n.current)===null||i===void 0?void 0:i.getFieldValue("imageUrl"))!==null&&c!==void 0?c:"";(u=B.imageTableSearchFormRef.current)===null||u===void 0||u.setFieldValue("tag",z),(_=B.imageTableSearchFormRef.current)===null||_===void 0||_.submit()},messageSuccess:"\u4E0B\u8F7D\u5B8C\u6210",children:"\u4E0B\u8F7D\u955C\u50CF"})]}),(0,e.jsx)(I.Z,{label:"\u4E0B\u8F7D\u8FDB\u5EA6",children:T&&Object.keys(T).map(function(p){return(0,e.jsx)(Ee.Z,{percent:T[p].downloading,success:{percent:T[p].extracting}},p)})})]})})]},"remoteDrawer")]}),Ce=Fe;function De(B){var K=(0,o.useState)(!1),w=P()(K,2),O=w[0],R=w[1],x=(0,o.useRef)(),C=(0,o.useContext)(q.Z),S=C.createFormRef,T=C.volumeListRef,j=C.createEnvRef,h=C.domainRef,n=(0,o.useRef)(),p=function(){var c=l()(r()().mark(function i(u){var _,z,N,A,Y,$,F,Z,k,te,de;return r()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return R(!1),ue.next=3,(0,H.YU)({md5:u});case 3:A=ue.sent,B.redeploy||(Z=(Y=S.current)===null||Y===void 0?void 0:Y.getFieldsValue(),($=S.current)===null||$===void 0||$.resetFields(),(F=S.current)===null||F===void 0||F.setFieldsValue({siteName:Z.siteName,siteTitle:Z.siteTitle})),A.data.info.Config.Env&&A.data.info.Config.Env.map(function(ce){var ie,ve=ce.split("=");(ie=j.current)===null||ie===void 0||ie.addEnvItem(ve[0],ve[1])}),(_=S.current)===null||_===void 0||_.setFieldValue("imageName",A.data.info.RepoTags[0]),(z=S.current)===null||z===void 0||z.setFieldValue("workDir",A.data.info.Config.WorkingDir),(N=h.current)===null||N===void 0||N.setExposePort(A.data.info.Config.ExposedPorts),A.data.info.Config.Volumes?(te=[],Object.keys(A.data.info.Config.Volumes).map(function(ce,ie){te.push(ce)}),(k=T.current)===null||k===void 0||k.setDefaultDestPath(te)):(de=T.current)===null||de===void 0||de.setDefaultDestPath([]);case 10:case"end":return ue.stop()}},i)}));return function(u){return c.apply(this,arguments)}}();return(0,o.useEffect)(function(){B.fromImageId&&p(B.fromImageId)},[B.fromImageId]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(b.Z.Compact,{children:[(0,e.jsx)(y.Z,{label:"\u955C\u50CF",tooltip:B.redeploy?"\u66F4\u65B0\u5BB9\u5668\u65F6,\u53EA\u53EF\u4EE5\u9009\u62E9\u8BE5\u955C\u50CF\u4E0B\u7684\u4E0D\u540Ctag.\u4E5F\u53EF\u4EE5\u5F3A\u5236\u66F4\u65B0\u5DF2\u90E8\u7F72tag,\u66F4\u6B21\u90E8\u7F72":"\u65B0\u5EFA\u5BB9\u5668\u65F6,\u53EF\u4EE5\u4F7F\u7528\u672C\u5730\u955C\u50CF,\u4E5F\u53EF\u4EE5\u4E0B\u8F7D\u5168\u65B0\u7684\u955C\u50CF\u6216\u662F\u66F4\u65B0\u672C\u5730\u955C\u50CF\u7684tag",name:"imageName",width:"lg",disabled:!0,placeholder:"\u8BF7\u9009\u62E9\u955C\u50CF\uFF0C\u5982\u679C\u662F\u8FDC\u7A0B\u955C\u50CF\u8BF7\u5148\u4E0B\u8F7D",rules:[{required:!0}],required:!0}),(0,e.jsx)(I.Z,{label:" ",children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(f.ZP,{type:"primary",onClick:function(){return R(!0)},children:B.redeploy?"\u66F4\u65B0\u955C\u50CF":"\u9009\u62E9\u955C\u50CF"},"showBtn"),(0,e.jsx)(d.Z,{open:O,width:1024,title:"\u9009\u62E9\u955C\u50CF",footer:!1,onCancel:function(){return R(!1)},children:(0,e.jsx)(M.Z,{columns:[{title:"Id",dataIndex:"Id",ellipsis:!0,search:!1,width:150},{title:"\u955C\u50CF\u540D\u79F0",dataIndex:"tag",render:function(i,u,_,z){return(0,e.jsx)(L.Z.Text,{code:!0,copyable:!0,children:u.RepoTags[0]},u.RepoTags[0])}},{title:"\u521B\u5EFA\u65E5\u671F",dataIndex:"Created",ellipsis:!0,search:!1,width:"180px",render:function(i,u,_,z){return(0,e.jsx)("div",{children:(0,m.ZM)(u.Created*1e3)},u.Id)},sorter:function(i,u){return i.Created-u.Created}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:"100px",render:function(i,u,_,z){return(0,e.jsxs)(b.Z,{split:(0,e.jsx)(a.Z,{type:"vertical"}),children:[(0,e.jsx)(f.ZP,{size:"small",onClick:l()(r()().mark(function N(){return r()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.abrupt("return",p(u.Id));case 1:case"end":return Y.stop()}},N)})),type:"link",icon:(0,e.jsx)(W.Z,{title:"\u4F7F\u7528\u955C\u50CF",children:(0,e.jsx)(V.Z,{})})},"addImage"),(0,e.jsx)(f.ZP,{size:"small",onClick:l()(r()().mark(function N(){var A;return r()().wrap(function($){for(;;)switch($.prev=$.next){case 0:u.RepoTags[0]&&((A=n.current)===null||A===void 0||A.setImageName(u.RepoTags[0]));case 1:case"end":return $.stop()}},N)})),type:"link",icon:(0,e.jsx)(W.Z,{title:"\u66F4\u65B0\u7248\u672C",children:(0,e.jsx)(E.Z,{})})},"updateImage")]})}}],request:function(){var c=l()(r()().mark(function i(u,_,z){var N,A,Y,$;return r()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return B.redeploy&&(A=(N=S.current)===null||N===void 0?void 0:N.getFieldValue("imageName"),u.tag=A?A.split(":")[0]:u.tag),Z.next=3,(0,D.KG)({tag:u.tag});case 3:return Y=Z.sent,$=[],Y.data.list&&($=Y.data.list.flatMap(function(k){return k.RepoTags.map(function(te){return{Id:k.Id,Created:k.Created,RepoTags:[te]}})})),Z.abrupt("return",{data:$,success:!0,total:$.length});case 7:case"end":return Z.stop()}},i)}));return function(i,u,_){return c.apply(this,arguments)}}(),toolBarRender:function(){return[(0,e.jsx)(Ce,{ref:n,imageTableSearchFormRef:x},"remote")]},formRef:x,rowKey:"Id",pagination:{pageSize:5}})},"imageTableList")]})})]})})}var oe=t(60335),Pe=t(24969),Be=t(27496),ae=t(24739),ye=t(63434),ne=t(17186),me=t(66309),be=(0,o.forwardRef)(function(B,K){var w=(0,o.useState)(!1),O=P()(w,2),R=O[0],x=O[1],C=(0,o.useRef)(),S=function(h){var n=(0,o.useState)([]),p=P()(n,2),c=p[0],i=p[1];return(0,o.useEffect)(function(){(0,oe.jV)({md5:h.name}).then(function(u){var _;return i((_=u.data.info.Config.Env)!==null&&_!==void 0?_:[]),!0})},[]),(0,e.jsxs)(v.Z,{bordered:!0,extra:h.action,style:{marginBottom:10},children:[(0,e.jsx)(v.Z,{title:"\u5173\u8054\u4FE1\u606F",children:(0,e.jsxs)(ae.UW,{children:[(0,e.jsx)(y.Z,{label:"\u5BB9\u5668\u540D\u79F0",name:"name",width:"md",readonly:!0}),(0,e.jsx)(y.Z,{label:"\u8BBF\u95EEHostName",name:"alise",width:"md",tooltip:"\u901A\u8FC7\u914D\u7F6E\u6B64\u540D\u79F0\uFF0C\u5728\u5BB9\u5668\u5185\u90E8\u8FDB\u884C\u8BF7\u6C42\u8BBF\u95EE"}),(0,e.jsx)(ye.Z,{label:"\u5173\u8054\u5B58\u50A8",name:"volume"})]})}),(0,e.jsx)(v.Z,{title:"\u73AF\u5883\u53D8\u91CF",children:(0,e.jsx)(b.Z,{direction:"vertical",children:c&&c.map(function(u,_){return(0,e.jsx)(L.Z.Text,{copyable:{icon:(0,e.jsx)(Pe.Z,{}),onCopy:function(){var N=u.split("=");B.onAddEnv(N[0],N[1])},tooltips:["add env","success"]},code:!0,ellipsis:{tooltip:u},style:{width:300},children:u},_)})},"linkEnv")})]})},T=function(h){var n,p,c=!1,i=(n=(p=C.current)===null||p===void 0?void 0:p.getList())!==null&&n!==void 0?n:[];if(i.map(function(_){_.name==h.name&&(c=!0)}),!c){var u;(u=C.current)===null||u===void 0||u.add(h)}};return(0,o.useImperativeHandle)(K,function(){return{setDefaultLink:function(h){h&&h.map(function(n){n.name!=""&&T(n)})}}}),(0,e.jsxs)(v.Z,{title:"\u5173\u8054\u5BB9\u5668",headerBordered:!0,children:[(0,e.jsx)(ne.u,{name:"links",actionRef:C,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5173\u8054"},actionGuard:{beforeAddRow:function(h,n){return x(!0),!1}},copyIconProps:!1,min:0,itemRender:function(h,n){return(0,e.jsx)(S,{action:h.action,name:n.record.name})}}),(0,e.jsx)(d.Z,{title:"\u9009\u62E9\u5BB9\u5668",width:1024,footer:!1,open:R,onCancel:function(){return x(!1)},children:(0,e.jsx)(M.Z,{columns:[{title:"\u5BB9\u5668\u540D\u79F0",dataIndex:"names",render:function(h,n,p,c){return(0,e.jsx)(b.Z,{direction:"vertical",style:{textAlign:"left"},children:n==null?void 0:n.Names.map(function(i){return i})},n.Id)}},{title:"\u7AEF\u53E3",dataIndex:"ports",search:!1,render:function(h,n,p,c){return n!=null&&n.Ports?(0,e.jsx)(b.Z,{direction:"vertical",style:{textAlign:"left"},children:n==null?void 0:n.Ports.map(function(i,u){return(0,e.jsx)(me.Z,{color:"#2db7f5",icon:i.PublicPort?(0,e.jsx)(Be.Z,{}):"",children:"".concat(i.PublicPort?i.IP+":"+i.PublicPort+"->":"").concat(i.PrivatePort,"/").concat(i.Type)},u)})},n.Id):(0,e.jsx)(e.Fragment,{})}},{title:"\u8FD0\u884C\u5BB9\u5668",search:!1,render:function(h,n,p,c){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(L.Z.Text,{ellipsis:{tooltip:n.Image},children:n.Image},n.Id)})}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",ellipsis:!0,width:100,render:function(h,n,p,c){return[(0,e.jsx)(f.ZP,{type:"link",onClick:function(){(0,oe.jV)({md5:n.Id}).then(function(u){return T({name:u.data.info.Name,alise:u.data.info.Config.Hostname,volume:!1}),x(!1),!0})},children:(0,e.jsx)(V.Z,{})},n.Id)]}}],rowKey:"Id",request:function(){var j=l()(r()().mark(function h(n,p,c){return r()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",new Promise(function(_,z){(0,oe.IE)({tag:n.names}).then(function(N){var A={data:N.data.list,success:!0,total:N.data.list.length};_(A)})}));case 1:case"end":return u.stop()}},h)}));return function(h,n,p){return j.apply(this,arguments)}}(),pagination:{pageSize:5}})})]})}),xe=be,Te=t(89035),we=t(20713),fe="docker-image",Re=(0,o.forwardRef)(function(B,K){var w=(0,o.useState)(fe),O=P()(w,2),R=O[0],x=O[1],C=(0,o.useRef)(),S=(0,o.useState)(""),T=P()(S,2),j=T[0],h=T[1],n=function(){R!="code"?x("code"):x(fe)};(0,o.useImperativeHandle)(K,function(){return{addEnvItem:function(u,_){var z,N=(z=C.current)===null||z===void 0?void 0:z.getList(),A=!1;if(N==null||N.map(function($){if($.name==u){A=!0;return}}),!A){var Y;(Y=C.current)===null||Y===void 0||Y.add({name:u,value:_})}}}});function p(i){try{for(var u,_,z=(u=(_=C.current)===null||_===void 0||(_=_.getList())===null||_===void 0?void 0:_.length)!==null&&u!==void 0?u:0,N=z;N>=0;N--){var A;(A=C.current)===null||A===void 0||A.remove(N)}var Y=i.split(`
`),$=0;Y.map(function(F){var Z,k=F.split("=");k.length==2&&((Z=C.current)===null||Z===void 0||Z.add({name:k[0],value:k[1]},$),$++)})}catch(F){}}function c(){if(C){var i,u=(i=C.current)===null||i===void 0?void 0:i.getList();if(u){var _=[];return u.map(function(z){_.push("".concat(z.name,"=").concat(z.value))}),_.join(`
`)}else return""}else return""}return(0,e.jsxs)(v.Z,{title:"\u73AF\u5883\u53D8\u91CF",headerBordered:!0,extra:(0,e.jsx)(W.Z,{title:"\u4EE3\u7801\u7F16\u8F91\u6A21\u5F0F",children:(0,e.jsx)(f.ZP,{icon:(0,e.jsx)(Te.Z,{}),type:R=="code"?"primary":"default",onClick:n,children:"\u4EE3\u7801\u6A21\u5F0F"})}),children:[(0,e.jsx)(ne.u,{name:"environment",actionRef:C,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u73AF\u5883\u53D8\u91CF"},copyIconProps:!1,min:0,children:(0,e.jsxs)(ae.UW,{children:[(0,e.jsx)(y.Z,{width:"md",name:"name",label:"\u53D8\u91CF\u540D",placeholder:""}),(0,e.jsx)(y.Z,{width:"md",name:"value",label:"\u53D8\u91CF\u503C",placeholder:""})]})}),(0,e.jsx)(d.Z,{width:"800px",open:R=="code",onCancel:function(){return x("docker-image")},onOk:function(){p(j),x("docker-image")},children:(0,e.jsx)(we.ZP,{onChange:function(u){return h(u)},value:c(),height:"680px",theme:"light"})})]})}),Ie=Re,Oe=t(86615),Se=t(64317),Ae=(0,o.forwardRef)(function(B,K){var w=(0,o.useRef)();return(0,o.useImperativeHandle)(K,function(){return{setDefaultDestPath:function(R){var x,C,S=(x=(C=w.current)===null||C===void 0?void 0:C.getList())!==null&&x!==void 0?x:[];R.length!=0&&R.filter(function(T){return T!=""}).map(function(T){var j=!1;if(S.map(function(n){if(n.dest==T){j=!0;return}}),!j){var h;(h=w.current)===null||h===void 0||h.add({dest:T,permission:"write",inImage:!0,edit:!1})}})}}}),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v.Z,{title:"\u7AD9\u70B9\u5B58\u50A8\uFF08Volume\uFF09",subTitle:"\u9ED8\u8BA4\u4F1A\u5C06\u5BB9\u5668\u5185\u4F7F\u7528\u7684\u6570\u636E\u5377\u6302\u8F7D\u5230\u9ED8\u8BA4\u5B58\u50A8\u4E2D",headerBordered:!0,children:(0,e.jsx)(ne.u,{name:"volumesDefault",creatorButtonProps:{creatorButtonText:"\u7ED1\u5B9A\u76EE\u5F55\u5230\u9ED8\u8BA4\u5B58\u50A8"},actionRef:w,copyIconProps:!1,min:0,children:function(R,x,C){var S=C.getCurrentRowData();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(y.Z,{width:"lg",name:"dest",label:"\u5BB9\u5668\u5185\u8DEF\u5F84",disabled:S.inImage}),(0,e.jsx)(Oe.Z.Group,{hidden:!0,name:"inImage",label:"\u955C\u50CF\u5185\u6302\u8F7D",valueEnum:{1:"\u662F",0:"\u5426"}})]})}})}),(0,e.jsx)(v.Z,{title:"\u6302\u8F7D\u5BBF\u4E3B\u673A\u6587\u4EF6\uFF08Bind\uFF09",subTitle:"\u6302\u8F7D\u5BB9\u5668\u5185\u9700\u8981\u8BBF\u95EE\u5BBF\u4E3B\u673A\u7684\u6587\u4EF6",headerBordered:!0,direction:"column",children:(0,e.jsx)(ne.u,{name:"volumes",creatorButtonProps:{creatorButtonText:"\u6302\u8F7D\u76EE\u5F55\u6216\u662F\u5176\u5B83\u5B58\u50A8"},copyIconProps:!1,min:0,children:(0,e.jsxs)(ae.UW,{children:[(0,e.jsxs)(b.Z.Compact,{children:[(0,e.jsx)(y.Z,{label:"\u5BBF\u4E3B\u673A\u6587\u4EF6\u6216\u76EE\u5F55",name:"host",width:"md"}),(0,e.jsx)(Se.Z,{label:" ",valueEnum:{write:"\u8BFB\u5199",readonly:"\u53EA\u8BFB"},initialValue:"write",name:"permission"})]}),(0,e.jsx)(y.Z,{label:"\u5BB9\u5668\u5185\u8DEF\u5F84",name:"dest",width:"md"})]})})})]})}),Ze=Ae,Me=t(2831),ke=t(10418),pe=t(71338);function Ue(){var B=(0,o.useState)(),K=P()(B,2),w=K[0],O=K[1];return(0,o.useEffect)(function(){(0,Me.a)().then(function(R){return O(R.data.info)})},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(I.Z,{label:"\u5171\u4EAB\u5185\u5B58\u5927\u5C0F - /dev/shm",name:"shmsize",initialValue:64,children:(0,e.jsx)(ke.Z,{addonAfter:"MB",min:64})}),(0,e.jsx)(I.Z,{label:"\u6700\u5927Cpu\u914D\u989D",name:"cpus",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(pe.Z,{step:.1,max:w==null?void 0:w.NCPU,marks:{0:"\u4E0D\u9650\u5236",.5:"0.5\u6838",1:"1\u6838",1.5:"1.5\u6838",2:"2\u6838",4:"4\u6838",6:"6\u6838",8:"8\u6838"}})}),(0,e.jsx)(I.Z,{label:"\u6700\u5927\u5185\u5B58\u914D\u989D",name:"memory",tooltip:"0 \u4E3A\u4E0D\u9650\u5236",children:(0,e.jsx)(pe.Z,{step:256,max:Math.round((w==null?void 0:w.MemTotal)/1024/1024),marks:{0:"\u4E0D\u9650\u5236",1024:"1G",2048:"2G",3072:"3G",4096:"2G"}})})]})}function Le(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ne.u,{name:"label",creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BB9\u5668\u6807\u7B7E"},copyIconProps:!1,min:0,children:(0,e.jsxs)(ae.UW,{children:[(0,e.jsx)(y.Z,{width:"md",name:"name",label:"\u540D\u79F0",placeholder:""}),(0,e.jsx)(y.Z,{width:"md",name:"value",label:"\u503C",placeholder:""})]})})})}var We=t(52688),Ne=t(69677);function he(B){var K=(0,o.useState)(""),w=P()(K,2),O=w[0],R=w[1],x=(0,o.useState)("default"),C=P()(x,2),S=C[0],T=C[1],j=function(p){return(0,e.jsx)(f.ZP,{type:S==p.type?"primary":"default",onClick:function(){return h(p.type)},children:p.text})},h=function(p){if(T(p),p=="default")R("");else{var c;R((c=B.value)!==null&&c!==void 0?c:"")}};return(0,o.useEffect)(function(){B.value&&(R(B.value),T("user"))},[B.value]),(0,e.jsx)(I.Z,{label:B.label,tooltip:B.tooltip,name:B.name,children:(0,e.jsxs)(b.Z.Compact,{children:[(0,e.jsx)(j,{text:"\u4F7F\u7528\u9ED8\u8BA4",type:"default"}),(0,e.jsx)(j,{text:"\u81EA\u5B9A\u4E49",type:"user"}),(0,e.jsx)(Ne.Z,{disabled:S=="default",value:O,style:{width:"500px"},onChange:function(p){R(p.target.value)}})]})})}he.defaultProps={};var se=he,$e=t(44771);function Ke(){var B,K,w,O,R,x,C,S,T=(0,o.useContext)(q.Z),j=T.createFormRef,h=T.volumeListRef,n=T.domainRef,p=T.createEnvRef,c=T.createLinkRef;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)($e.Z,{}),(0,e.jsx)(We.Z,{name:"privileged",label:"\u8D4B\u4E88\u5BB9\u5668Root\u6743\u9650",initialValue:!1}),(0,e.jsx)(se,{label:"\u5DE5\u4F5C\u76EE\u5F55",tooltip:"\u9ED8\u8BA4\u4F7F\u7528\u955C\u50CF\u4E2D\u6307\u5B9A\u7684\u5DE5\u4F5C\u76EE\u5F55",name:"workDir",value:(B=(K=j.current)===null||K===void 0?void 0:K.getFieldValue("workDir"))!==null&&B!==void 0?B:""}),(0,e.jsx)(se,{label:"User",tooltip:"\u5728\u5BB9\u5668\u4E2D\u8FD0\u884C\u547D\u4EE4\u7684\u7528\u6237",name:"user",value:(w=(O=j.current)===null||O===void 0?void 0:O.getFieldValue("user"))!==null&&w!==void 0?w:""}),(0,e.jsx)(se,{label:"Command",tooltip:"\u542F\u52A8\u5BB9\u5668\u65F6\u8FD0\u884C\u7684\u547D\u4EE4\uFF0C\u4EE5\u7A7A\u683C\u5206\u9694",name:"command",value:(R=(x=j.current)===null||x===void 0?void 0:x.getFieldValue("command"))!==null&&R!==void 0?R:""}),(0,e.jsx)(se,{label:"Entrypoint",tooltip:"\u65E0\u6CD5\u8986\u76D6\u955C\u50CF\u4E2D\u5DF2\u7ECF\u6307\u5B9A\u7684 Entrypoint \u547D\u4EE4",name:"entrypoint",value:(C=(S=j.current)===null||S===void 0?void 0:S.getFieldValue("entrypoint"))!==null&&C!==void 0?C:""})]})}var Ve=t(91845),_e=t(62597),Ge=t(14946),He=t(93246),ze=t(31418),Ye=(0,o.forwardRef)(function(B,K){var w=(0,o.useState)(!1),O=P()(w,2),R=O[0],x=O[1],C=(0,o.useRef)(),S=ze.Z.useApp();(0,o.useImperativeHandle)(K,function(){return{}});var T=function(h){var n,p,c=!1,i=(n=(p=C.current)===null||p===void 0?void 0:p.getList())!==null&&n!==void 0?n:[];if(i.map(function(_){_.name==h.name&&(c=!0)}),!c){var u;(u=C.current)===null||u===void 0||u.add(h)}};return(0,e.jsxs)(v.Z,{title:"\u5173\u8054\u7F51\u7EDC",headerBordered:!0,children:[(0,e.jsx)(ne.u,{name:"network",actionRef:C,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u7F51\u7EDC"},actionGuard:{beforeAddRow:function(h,n){return!B.siteName||B.siteName==""||typeof B.siteName=="undefined"?((0,He.YZ)(S,"\u8BF7\u8F93\u5165\u7AD9\u70B9\u6807\u8BC6"),!1):(x(!0),!1)}},copyIconProps:!1,min:0,itemRender:function(h,n){return(0,e.jsxs)(ae.UW,{children:[(0,e.jsx)(y.Z,{label:"\u7F51\u7EDC\u540D\u79F0",name:"name",width:"md",disabled:!0,fieldProps:{value:n.record.name}}),(0,e.jsx)(I.Z,{label:"\u8BBF\u95EEHostname",name:"alise",children:(0,e.jsx)(L.Z.Text,{code:!0,copyable:!0,children:n.record.alise})}),(0,e.jsx)(I.Z,{label:" ",children:h.action})]})}}),(0,e.jsx)(d.Z,{title:"\u9009\u62E9\u7F51\u7EDC",width:1024,footer:!1,open:R,onCancel:function(){return x(!1)},children:(0,e.jsx)(M.Z,{rowKey:"Name",columns:[{title:"\u540D\u79F0",dataIndex:"Name",render:function(h,n,p,c,i){return n.Name=="none"||n.Name=="bridge"||n.Name=="host"?(0,e.jsxs)(e.Fragment,{children:[n.Name," ",(0,e.jsx)(me.Z,{color:"blue",children:"System"})]}):(0,e.jsx)(e.Fragment,{children:h})}},{title:"\u7C7B\u578B",ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4 IPAM Subnet",ellipsis:!0,width:150,search:!1,dataIndex:["IPAM","Config",0,"Subnet"]},{title:"\u64CD\u4F5C",width:100,search:!1,render:function(h,n,p,c,i){return[(0,e.jsx)(f.ZP,{type:"link",onClick:function(){var _;T({name:n.Name,alise:[((_=B.siteName)!==null&&_!==void 0?_:"")+".pod.dpanel.local"]}),x(!1)},children:(0,e.jsx)(V.Z,{})},n.Id)]}}],request:function(){var j=l()(r()().mark(function h(n,p,c){var i;return r()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,Ge.jR)({name:n.Name});case 2:return i=_.sent,_.abrupt("return",{data:i.data.list,success:!0,total:i.data.list.length});case 4:case"end":return _.stop()}},h)}));return function(h,n,p){return j.apply(this,arguments)}}(),pagination:{pageSize:10}})})]})}),Xe=Ye,Je=(0,o.forwardRef)(function(B,K){var w=(0,o.useState)(""),O=P()(w,2),R=O[0],x=O[1],C=(0,o.useRef)();return(0,o.useImperativeHandle)(K,function(){return{setExposePort:function(T){if(T){var j,h,n=(j=(h=C.current)===null||h===void 0?void 0:h.getList())!==null&&j!==void 0?j:[];Object.keys(T).map(function(p){var c=!1;if(n.map(function(u){u.dest==p&&(c=!0)}),!c){var i;(i=C.current)===null||i===void 0||i.add({host:"",dest:p})}})}},setHostname:function(T){x(T)}}}),(0,e.jsx)(v.Z,{title:"\u66B4\u9732\u7AEF\u53E3",headerBordered:!0,children:(0,e.jsx)(ne.u,{name:"ports",actionRef:C,creatorButtonProps:{creatorButtonText:"\u6DFB\u52A0\u5BF9\u5916\u90E8\u8BBF\u95EE"},min:0,copyIconProps:!1,children:(0,e.jsxs)(ae.UW,{children:[(0,e.jsx)(y.Z,{width:"md",name:"host",label:"\u5916\u90E8\u8BBF\u95EE\u57DF\u540D\u6216\u662F\u7AEF\u53E3",tooltip:"\u5BF9\u5916\u8BBF\u95EE\u53EF\u4EE5\u901A\u8FC7\u7ED1\u5B9A\u57DF\u540D\u8F6C\u53D1\u6216\u662F\u76F4\u63A5\u66B4\u9732\u7AEF\u53E3",placeholder:"\u7559\u7A7A\u5C06\u4F7F\u7528\u968F\u673A\u7AEF\u53E3"}),(0,e.jsx)(y.Z,{label:"\u5BB9\u5668\u5185\u7AEF\u53E3",width:"md",name:"dest",placeholder:"\u6784\u5EFA\u65F6 Expose \u6307\u5B9A\u7684\u7AEF\u53E3"})]})})})}),Qe=Je;function qe(){var B,K,w,O=(0,o.useContext)(q.Z),R=O.createFormRef,x=O.volumeListRef,C=O.domainRef,S=O.createEnvRef,T=O.createLinkRef,j=(0,o.useState)(!1),h=P()(j,2),n=h[0],p=h[1],c=(0,le.useSearchParams)(),i=P()(c,2),u=i[0],_=i[1],z=(0,le.useNavigate)(),N=parseInt((B=u.get("id"))!==null&&B!==void 0?B:""),A=(K=u.get("md5"))!==null&&K!==void 0?K:"",Y=(w=u.get("imageId"))!==null&&w!==void 0?w:"";return(0,o.useEffect)(function(){if(A||N)(0,_e.iE)({md5:A,id:N}).then(function(F){var Z;p(!0),F.data.env.network&&F.data.env.network.map(function(k){return!k.alise&&k.name!="bridge"&&(k.alise=[F.data.siteName+".pod.dpanel.local"]),k}),F.data.env.ports&&F.data.env.ports.map(function(k){return k.host=="0"&&(k.host=""),k}),(Z=R.current)===null||Z===void 0||Z.setFieldsValue({siteTitle:F.data.siteTitle,siteName:F.data.siteName,imageName:F.data.env.imageName,privileged:F.data.env.privileged,workDir:F.data.env.workDir,user:F.data.env.user,command:F.data.env.command,entrypoint:F.data.env.entrypoint,shmsize:F.data.env.shmsize,cpus:F.data.env.cpus,memory:F.data.env.memory,environment:F.data.env.environment,label:F.data.env.label,volumesDefault:F.data.env.volumesDefault,volumes:F.data.env.volumes,ports:F.data.env.ports,links:F.data.env.links,network:F.data.env.network,restart:F.data.env.restart})});else{var $;p(!1),($=R.current)===null||$===void 0||$.resetFields()}},[u]),(0,e.jsx)(v.Z,{direction:"column",gutter:[0,10],children:(0,e.jsxs)(Q.A,{submitter:{render:function(F,Z){return(0,e.jsx)(U.S,{children:Z})}},formRef:R,onFinish:function(){var $=l()(r()().mark(function F(Z){return r()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return Z.md5=A,te.next=3,(0,_e.$G)(Z);case 3:return z("/app/list"),te.abrupt("return",!0);case 5:case"end":return te.stop()}},F)}));return function(F){return $.apply(this,arguments)}}(),children:[(0,e.jsxs)(v.Z,{title:"\u57FA\u7840\u4FE1\u606F",headerBordered:!0,children:[(0,e.jsx)(y.Z,{name:"siteTitle",label:"\u7AD9\u70B9\u540D\u79F0",required:!0,rules:[{required:!0}],fieldProps:{onChange:function(F){var Z="";if(F.target.value&&!n){var k,te=(0,Ve.N9)(F.target.value.trim(),{toneType:"none",type:"array"});Z=te.join(""),(k=R.current)===null||k===void 0||k.setFieldValue("siteName",Z)}}},placeholder:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u540D\u79F0"}),(0,e.jsx)(y.Z,{name:"siteName",label:"\u7AD9\u70B9\u6807\u8BC6",tooltip:"\u7AD9\u70B9\u552F\u4E00\u6807\u8BC6\uFF0C\u7528\u4E8E\u6807\u8BC6\u7AD9\u70B9\u548C\u5185\u90E8\u8BBF\u95EE",required:!0,disabled:n,rules:[{required:!0}],placeholder:"\u8BF7\u8F93\u5165\u7AD9\u70B9\u540D\u79F0"}),(0,e.jsx)(De,{redeploy:n,fromImageId:Y})]}),(0,e.jsx)(Qe,{ref:C}),(0,e.jsx)(xe,{onAddEnv:function(F,Z){var k;(k=S.current)===null||k===void 0||k.addEnvItem(F,Z)},ref:T}),(0,e.jsx)(g.Z,{name:["siteName"],children:function(F){var Z=F.siteName;return(0,e.jsx)(Xe,{siteName:Z})}}),(0,e.jsx)(Ie,{ref:S}),(0,e.jsx)(Ze,{ref:x}),(0,e.jsx)(v.Z,{title:"\u9AD8\u7EA7\u914D\u7F6E",headerBordered:!0,collapsible:!0,defaultCollapsed:!0,children:(0,e.jsx)(ee.Z,{items:[{label:"\u542F\u52A8\u9879",key:"run-command",children:(0,e.jsx)(Ke,{})},{label:"\u8D44\u6E90\u914D\u7F6E",key:"runtime",children:(0,e.jsx)(Ue,{})},{label:"\u6807\u7B7E",key:"label",children:(0,e.jsx)(Le,{})}]})})]},"form")})}},62597:function(re,G,t){t.d(G,{$G:function(){return P},Ct:function(){return q},Tb:function(){return y},cl:function(){return Q},iE:function(){return ee},xb:function(){return M}});var X=t(15009),r=t.n(X),J=t(99289),l=t.n(J),s=t(54006);function P(f){return v.apply(this,arguments)}function v(){return v=l()(r()().mark(function f(d){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,s.request)("/api/app/site/create-by-image",{method:"POST",data:d}));case 1:case"end":return a.stop()}},f)})),v.apply(this,arguments)}function Q(f){return U.apply(this,arguments)}function U(){return U=l()(r()().mark(function f(d){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,s.request)("/api/app/site/get-list",{method:"POST",data:d}));case 1:case"end":return a.stop()}},f)})),U.apply(this,arguments)}function y(f){return g.apply(this,arguments)}function g(){return g=l()(r()().mark(function f(d){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,s.request)("/api/app/log/run",{method:"POST",data:d});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},f)})),g.apply(this,arguments)}function ee(f){return o.apply(this,arguments)}function o(){return o=l()(r()().mark(function f(d){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,s.request)("/api/app/site/get-detail",{data:d,method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},f)})),o.apply(this,arguments)}function q(f){return I.apply(this,arguments)}function I(){return I=l()(r()().mark(function f(d){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,s.request)("/api/app/container/delete",{method:"POST",data:d}));case 1:case"end":return a.stop()}},f)})),I.apply(this,arguments)}function M(f){return b.apply(this,arguments)}function b(){return b=l()(r()().mark(function f(d){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,s.request)("/api/app/site/delete",{method:"POST",data:d}));case 1:case"end":return a.stop()}},f)})),b.apply(this,arguments)}},2831:function(re,G,t){t.d(G,{a:function(){return P}});var X=t(15009),r=t.n(X),J=t(99289),l=t.n(J),s=t(54006);function P(){return v.apply(this,arguments)}function v(){return v=l()(r()().mark(function Q(){return r()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,(0,s.request)("/api/common/home/info",{method:"POST"});case 2:return y.abrupt("return",y.sent);case 3:case"end":return y.stop()}},Q)})),v.apply(this,arguments)}},14946:function(re,G,t){t.d(G,{CI:function(){return y},HY:function(){return f},IS:function(){return P},XY:function(){return q},_3:function(){return L},_x:function(){return ee},jR:function(){return Q},t9:function(){return M}});var X=t(15009),r=t.n(X),J=t(99289),l=t.n(J),s=t(54006);function P(W){return v.apply(this,arguments)}function v(){return v=l()(r()().mark(function W(H){return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,s.request)("/api/app/network/get-detail",{method:"POST",data:H}));case 1:case"end":return m.stop()}},W)})),v.apply(this,arguments)}function Q(W){return U.apply(this,arguments)}function U(){return U=l()(r()().mark(function W(H){return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,s.request)("/api/app/network/get-list",{method:"POST",data:H}));case 1:case"end":return m.stop()}},W)})),U.apply(this,arguments)}function y(){return g.apply(this,arguments)}function g(){return g=l()(r()().mark(function W(){return r()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,s.request)("/api/app/network/prune",{method:"POST"});case 2:return D.abrupt("return",D.sent);case 3:case"end":return D.stop()}},W)})),g.apply(this,arguments)}function ee(W){return o.apply(this,arguments)}function o(){return o=l()(r()().mark(function W(H){return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,s.request)("/api/app/network/delete",{method:"POST",data:H});case 2:return m.abrupt("return",m.sent);case 3:case"end":return m.stop()}},W)})),o.apply(this,arguments)}function q(W){return I.apply(this,arguments)}function I(){return I=l()(r()().mark(function W(H){return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,s.request)("/api/app/network/create",{method:"POST",data:H});case 2:return m.abrupt("return",m.sent);case 3:case"end":return m.stop()}},W)})),I.apply(this,arguments)}function M(W){return b.apply(this,arguments)}function b(){return b=l()(r()().mark(function W(H){return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,s.request)("/api/app/network/disconnect",{method:"POST",data:H});case 2:return m.abrupt("return",m.sent);case 3:case"end":return m.stop()}},W)})),b.apply(this,arguments)}function f(W){return d.apply(this,arguments)}function d(){return d=l()(r()().mark(function W(H){return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,s.request)("/api/app/network/connect",{method:"POST",data:H});case 2:return m.abrupt("return",m.sent);case 3:case"end":return m.stop()}},W)})),d.apply(this,arguments)}function L(W){return a.apply(this,arguments)}function a(){return a=l()(r()().mark(function W(H){return r()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,s.request)("/api/app/network/get-container-list",{method:"POST",data:H}));case 1:case"end":return m.stop()}},W)})),a.apply(this,arguments)}},60335:function(re,G,t){t.d(G,{IE:function(){return Q},IW:function(){return P},KK:function(){return q},LJ:function(){return M},eE:function(){return ee},jV:function(){return y}});var X=t(15009),r=t.n(X),J=t(99289),l=t.n(J),s=t(54006);function P(f){return v.apply(this,arguments)}function v(){return v=l()(r()().mark(function f(d){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,s.request)("/api/app/container/status",{method:"POST",data:d}));case 1:case"end":return a.stop()}},f)})),v.apply(this,arguments)}function Q(f){return U.apply(this,arguments)}function U(){return U=l()(r()().mark(function f(d){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,s.request)("/api/app/container/get-list",{data:d,method:"POST"}));case 1:case"end":return a.stop()}},f)})),U.apply(this,arguments)}function y(f){return g.apply(this,arguments)}function g(){return g=l()(r()().mark(function f(d){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,s.request)("/api/app/container/get-detail",{data:d,method:"POST"}));case 1:case"end":return a.stop()}},f)})),g.apply(this,arguments)}function ee(f){return o.apply(this,arguments)}function o(){return o=l()(r()().mark(function f(d){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,s.request)("/api/app/container/update",{data:d,method:"POST"}));case 1:case"end":return a.stop()}},f)})),o.apply(this,arguments)}function q(){return I.apply(this,arguments)}function I(){return I=l()(r()().mark(function f(){return r()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",(0,s.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return L.stop()}},f)})),I.apply(this,arguments)}function M(f){return b.apply(this,arguments)}function b(){return b=l()(r()().mark(function f(d){return r()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,s.request)("/api/app/container/export",{method:"POST",data:d,responseType:"blob"}));case 1:case"end":return a.stop()}},f)})),b.apply(this,arguments)}},3393:function(re,G,t){t.d(G,{Gb:function(){return Q},Pn:function(){return ee},Rb:function(){return q},YU:function(){return P},_U:function(){return y}});var X=t(15009),r=t.n(X),J=t(99289),l=t.n(J),s=t(54006);function P(M){return v.apply(this,arguments)}function v(){return v=l()(r()().mark(function M(b){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,s.request)("/api/app/image/get-detail",{method:"POST",data:b}));case 1:case"end":return d.stop()}},M)})),v.apply(this,arguments)}function Q(M){return U.apply(this,arguments)}function U(){return U=l()(r()().mark(function M(b){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,s.request)("/api/app/image/tag-remote",{method:"POST",data:b}));case 1:case"end":return d.stop()}},M)})),U.apply(this,arguments)}function y(M){return g.apply(this,arguments)}function g(){return g=l()(r()().mark(function M(b){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,s.request)("/api/app/image/tag-add",{method:"POST",data:b}));case 1:case"end":return d.stop()}},M)})),g.apply(this,arguments)}function ee(M){return o.apply(this,arguments)}function o(){return o=l()(r()().mark(function M(b){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,s.request)("/api/app/image/tag-delete",{method:"POST",data:b}));case 1:case"end":return d.stop()}},M)})),o.apply(this,arguments)}function q(M){return I.apply(this,arguments)}function I(){return I=l()(r()().mark(function M(b){return r()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,s.request)("/api/app/image/export",{method:"POST",data:b,responseType:"blob"}));case 1:case"end":return d.stop()}},M)})),I.apply(this,arguments)}},18148:function(re,G,t){t.d(G,{$q:function(){return q},Fj:function(){return W},KG:function(){return P},T8:function(){return ee},Xn:function(){return y},ao:function(){return M},c5:function(){return L},c7:function(){return f}});var X=t(15009),r=t.n(X),J=t(99289),l=t.n(J),s=t(54006);function P(D){return v.apply(this,arguments)}function v(){return v=l()(r()().mark(function D(m){return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,s.request)("/api/app/image/get-list",{method:"POST",data:m}));case 1:case"end":return E.stop()}},D)})),v.apply(this,arguments)}function Q(D){return U.apply(this,arguments)}function U(){return U=_asyncToGenerator(_regeneratorRuntime().mark(function D(m){return _regeneratorRuntime().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,request("/api/app/log/image-build",{method:"POST",data:m});case 2:return E.abrupt("return",E.sent);case 3:case"end":return E.stop()}},D)})),U.apply(this,arguments)}function y(D){return g.apply(this,arguments)}function g(){return g=l()(r()().mark(function D(m){return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,s.request)("/api/app/image/get-list-build",{method:"POST",data:m}));case 1:case"end":return E.stop()}},D)})),g.apply(this,arguments)}function ee(D){return o.apply(this,arguments)}function o(){return o=l()(r()().mark(function D(m){return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,s.request)("/api/app/image/get-build-task",{method:"POST",data:m});case 2:return E.abrupt("return",E.sent);case 3:case"end":return E.stop()}},D)})),o.apply(this,arguments)}function q(D){return I.apply(this,arguments)}function I(){return I=l()(r()().mark(function D(m){return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,s.request)("/api/app/image/delete-build-task",{method:"POST",data:m});case 2:return E.abrupt("return",E.sent);case 3:case"end":return E.stop()}},D)})),I.apply(this,arguments)}function M(D){return b.apply(this,arguments)}function b(){return b=l()(r()().mark(function D(m){return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,s.request)("/api/app/image/image-delete",{method:"POST",data:m});case 2:return E.abrupt("return",E.sent);case 3:case"end":return E.stop()}},D)})),b.apply(this,arguments)}function f(){return d.apply(this,arguments)}function d(){return d=l()(r()().mark(function D(){return r()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,s.request)("/api/app/image/image-prune",{method:"POST"});case 2:return V.abrupt("return",V.sent);case 3:case"end":return V.stop()}},D)})),d.apply(this,arguments)}function L(){return a.apply(this,arguments)}function a(){return a=l()(r()().mark(function D(){return r()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,s.request)("/api/app/image/build-prune",{method:"POST"});case 2:return V.abrupt("return",V.sent);case 3:case"end":return V.stop()}},D)})),a.apply(this,arguments)}function W(D){return H.apply(this,arguments)}function H(){return H=l()(r()().mark(function D(m){return r()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,s.request)("/api/app/image/update-title",{method:"POST",data:m});case 2:return E.abrupt("return",E.sent);case 3:case"end":return E.stop()}},D)})),H.apply(this,arguments)}},5251:function(re,G,t){t.d(G,{FI:function(){return r},ZM:function(){return J}});function X(l){return l.trim()}function r(l){var s="";l<.1*1024?s=l.toFixed(2)+"B":l<.1*1024*1024?s=(l/1024).toFixed(2)+"KB":l<1*1024*1024*1024?s=(l/(1024*1024)).toFixed(2)+"MB":s=(l/(1024*1024*1024)).toFixed(2)+"GB";var P=s+"",v=P.indexOf("."),Q=P.substr(v+1,2);return Q=="00"?P.substring(0,v)+P.substr(v+3,2):s}function J(l){if(l){var s=new Date(l),P=s.getFullYear()+"-",v=(s.getMonth()+1<10?"0"+(s.getMonth()+1):s.getMonth()+1)+"-",Q=(s.getDate()<10?"0"+s.getDate():s.getDate())+" ",U=(s.getHours()<10?"0"+s.getHours():s.getHours())+":",y=(s.getMinutes()<10?"0"+s.getMinutes():s.getMinutes())+":",g=s.getSeconds()<10?"0"+s.getSeconds():s.getSeconds();return P+v+Q+U+y+g}}}}]);
