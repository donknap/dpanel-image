"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4316],{89035:function(B,P,e){e.d(P,{Z:function(){return C}});var g=e(87462),a=e(62435),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 00308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 00-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"code",theme:"outlined"},l=O,i=e(84089),M=function(m,h){return a.createElement(i.Z,(0,g.Z)({},m,{ref:h,icon:l}))},d=a.forwardRef(M),C=d},29158:function(B,P,e){e.d(P,{Z:function(){return C}});var g=e(87462),a=e(62435),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"},l=O,i=e(84089),M=function(m,h){return a.createElement(i.Z,(0,g.Z)({},m,{ref:h,icon:l}))},d=a.forwardRef(M),C=d},27496:function(B,P,e){e.d(P,{Z:function(){return C}});var g=e(87462),a=e(62435),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},l=O,i=e(84089),M=function(m,h){return a.createElement(i.Z,(0,g.Z)({},m,{ref:h,icon:l}))},d=a.forwardRef(M),C=d},80821:function(B,P,e){e.d(P,{Z:function(){return h}});var g=e(5574),a=e.n(g),O=e(93246),l=e(54006),i=e(31418),M=e(86738),d=e(14726),C=e(83062),E=e(62435),m=e(86074);function h(t){var R=(0,E.useState)(!1),_=a()(R,2),c=_[0],v=_[1],A=i.Z.useApp(),u=(0,l.useIntl)(),o=function(){v(!0),t.action().then(function(n){if(v(!1),typeof t.onSuccess=="function"&&t.onSuccess(n),t.messageSuccess){var W="";t.messageSuccess.indexOf(".")>-1?W=u.formatMessage({id:t.messageSuccess}):W=t.messageSuccess,t.asynced?(0,O.Rk)(A,W):(0,O.$h)(A,W)}}).catch(function(n){v(!1),typeof t.onError=="function"&&t.onError(n)})};return t.confirm?(0,m.jsx)(M.Z,{style:{width:500},title:"\u63D0\u793A",description:t.confirm,onConfirm:o,okText:"Yes",cancelText:"No",children:(0,m.jsx)(d.ZP,{disabled:t.disabled,icon:t.icon,loading:c,danger:t.danger,type:t.type,children:t.children})}):(0,m.jsx)(C.Z,{title:t.tips,children:(0,m.jsx)(d.ZP,{disabled:t.disabled,icon:t.icon,loading:c,onClick:o,danger:t.danger,type:t.type,children:t.children})})}},94359:function(B,P,e){e.d(P,{Z:function(){return R}});var g=e(62435),a=e(3089),O=e(98165),l=e(18429),i=e(8751),M=e(14313),d=e(30159),C=e(87740),E=e(66309),m=e(83062),h=e(54006),t=e(86074);function R(_){var c=(0,t.jsx)(t.Fragment,{});return _.status=="0"&&(c=(0,t.jsx)(E.Z,{icon:(0,t.jsx)(a.Z,{}),color:"default",children:"waiting"})),_.status=="10"&&(c=(0,t.jsx)(E.Z,{icon:(0,t.jsx)(O.Z,{spin:!0}),color:"processing",children:"processing"})),_.status=="20"&&(c=(0,t.jsx)(E.Z,{icon:(0,t.jsx)(l.Z,{}),color:"error",children:"error"})),_.status=="30"&&(c=(0,t.jsx)(E.Z,{icon:(0,t.jsx)(i.Z,{}),color:"success",children:"success"})),_.status=="running"&&(c=(0,t.jsx)(E.Z,{icon:(0,t.jsx)(M.Z,{}),color:"success",children:_.status})),_.status=="paused"&&(c=(0,t.jsx)(E.Z,{icon:(0,t.jsx)(d.Z,{}),children:_.status})),_.status=="restarting"&&(c=(0,t.jsx)(E.Z,{icon:(0,t.jsx)(C.Z,{}),children:_.status})),(_.status=="exited"||_.status=="dead"||_.status=="removing")&&(c=(0,t.jsx)(E.Z,{icon:(0,t.jsx)(l.Z,{}),color:"warning",children:_.status})),_.link&&(c=(0,t.jsx)(h.Link,{to:_.link,children:c})),_.message&&(c=(0,t.jsx)(m.Z,{placement:"left",title:_.message,children:c})),(0,t.jsx)(t.Fragment,{children:c})}},78498:function(B,P,e){e.d(P,{Z:function(){return M}});var g=e(25035),a=e(78957),O=e(83062),l=e(62435),i=e(86074);function M(d){return(0,i.jsxs)(a.Z,{children:[d.title,(0,i.jsx)(O.Z,{title:d.help,children:(0,i.jsx)(g.Z,{})})]})}},67933:function(B,P,e){e.r(P),e.d(P,{default:function(){return G}});var g=e(15009),a=e.n(g),O=e(99289),l=e.n(O),i=e(5574),M=e.n(i),d=e(6110),C=e(12010),E=e(14726),m=e(78957),h=e(66309),t=e(75891),R=e(96074),_=e(83062),c=e(68508),v=e(54006),A=e(27496),u=e(29158),o=e(43425),D=e(95591),n=e(45742),W=e(89035),F=e(94359),$=e(78498),y=e(60335),Z=e(80821),U=e(62435),z=e(62597),N=e(87662),r=e(86074);function G(){var X=(0,v.useParams)(),T=(0,U.useRef)(),V=(0,U.useState)("127.0.0.1"),S=M()(V,2),H=S[0],J=S[1];return(0,U.useEffect)(function(){(0,N.pe)({groupName:"setting",name:"server"}).then(function(I){I.data.setting.value.serverIp&&J(I.data.setting.value.serverIp)})}),(0,r.jsx)(d._z,{header:{extra:[(0,r.jsx)(E.ZP,{type:"primary",children:(0,r.jsx)(v.Link,{to:"/app/create/image",children:"\u521B\u5EFA\u5BB9\u5668"})},"create")]},children:(0,r.jsx)(C.Z,{actionRef:T,columns:[{title:"Id",ellipsis:!0,dataIndex:"Id",width:100},{title:"\u5BB9\u5668\u540D\u79F0",ellipsis:!0,dataIndex:"Names",render:function(L,s,p,j){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(v.Link,{to:s.Id?"/app/detail/edit/".concat(s.Id):"#",children:s.Names[0]})})}},{title:"\u7AD9\u70B9\u540D\u79F0",ellipsis:!0,dataIndex:"siteTitle",render:function(L,s,p,j,f){return(0,r.jsx)(r.Fragment,{children:s.Names.length>1?s.Names[s.Names.length-1]:"-"})}},{title:(0,r.jsx)($.Z,{title:"\u5F00\u653E\u7AEF\u53E3",help:"\u5BF9\u5916\u66B4\u9732\u7AEF\u53E3\u65F6\u53EF\u4EE5\u76F4\u63A5\u901A\u8FC7\u670D\u52A1\u5668ip(\u516C\u7F51,\u5185\u7F51,127.0.0.1)\u52A0\u7AEF\u53E3\u7684\u5F62\u5F0F\u8FDB\u884C\u8BBF\u95EE\u3002\u5982\u679C\u9700\u8981\u7ED1\u5B9A\u57DF\u540D,\u8BF7\u6DFB\u52A0\u7AD9\u70B9\u7ED1\u5B9A\u57DF\u540D\u8F6C\u53D1."}),dataIndex:"ports",search:!1,render:function(L,s,p,j){return(0,r.jsx)(m.Z,{direction:"vertical",style:{textAlign:"left"},children:s==null?void 0:s.Ports.map(function(f,x){return(0,r.jsxs)(m.Z.Compact,{children:[(0,r.jsx)(h.Z,{color:f.PublicPort?"#2db7f5":"warning",icon:f.PublicPort?(0,r.jsx)(A.Z,{}):"",children:"".concat(f.PublicPort?f.IP+":"+f.PublicPort+"->":"").concat(f.PrivatePort,"/").concat(f.Type)}),f.PublicPort?(0,r.jsx)("a",{href:"http://".concat(H,":").concat(f.PublicPort),target:"_blank",children:(0,r.jsx)(u.Z,{})},"link".concat(x)):""]},"space".concat(x))})})}},{title:"\u6240\u5C5E\u955C\u50CF",search:!1,ellipsis:!0,render:function(L,s,p,j){return(0,r.jsx)(t.Z.Text,{ellipsis:{tooltip:s.Image},children:(0,r.jsx)(v.Link,{to:"/image/detail/".concat(s.ImageID),children:s.Image})})}},{title:"\u72B6\u6001",dataIndex:["container","status"],search:!1,width:120,render:function(L,s,p,j){return[(0,r.jsx)("div",{children:(0,r.jsx)(F.Z,{status:s.State})},"status")]}},{title:"\u64CD\u4F5C",valueType:"option",key:"option",width:200,render:function(L,s,p,j){return(0,r.jsxs)(m.Z,{split:(0,r.jsx)(R.Z,{type:"vertical"}),children:[(0,r.jsx)(v.Link,{to:"/app/detail/edit/"+s.Id,children:(0,r.jsx)(_.Z,{title:"\u7BA1\u7406\u955C\u50CF",children:(0,r.jsx)(o.Z,{})})},"edit"),s.State=="running"&&(0,r.jsx)(v.Link,{to:"/app/detail/file/"+s.Id+"?tab=file",children:(0,r.jsx)(_.Z,{title:"\u6587\u4EF6\u7BA1\u7406",children:(0,r.jsx)(D.Z,{})})},"file"),s.State=="running"&&(0,r.jsx)(v.Link,{to:"/app/detail/log/"+s.Id+"?tab=log",children:(0,r.jsx)(_.Z,{title:"\u8FD0\u884C\u65E5\u5FD7",children:(0,r.jsx)(n.Z,{})})},"log"),s.State=="running"&&(0,r.jsx)(v.Link,{target:"_blank",to:"/console/"+s.Id,children:(0,r.jsx)(_.Z,{title:"\u7EC8\u7AEF",children:(0,r.jsx)(W.Z,{})})},"console")]})}}],rowKey:"Id",request:function(){var I=l()(a()().mark(function L(s,p,j){return a()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",new Promise(function(Y,w){(0,y.IE)({tag:s.Names,siteTitle:s.siteTitle,md5:s.Id}).then(function(b){var K,Q={data:(K=b.data.list)!==null&&K!==void 0?K:[],success:!0,total:b.data.list.length};Y(Q)})}));case 1:case"end":return x.stop()}},L)}));return function(L,s,p){return I.apply(this,arguments)}}(),rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},tableAlertOptionRender:function(L){var s=L.selectedRowKeys;return(0,r.jsx)(m.Z,{size:16,children:(0,r.jsx)(Z.Z,{danger:!0,type:"primary",action:function(){var j=s.map(function(f){return(0,z.Ct)({md5:f,deleteImage:!1,deleteVolume:!1})});return Promise.all(j)},onSuccess:function(){var j,f;return!((j=T.current)===null||j===void 0)&&j.reloadAndRest&&((f=T.current)===null||f===void 0||f.reloadAndRest()),!0},onError:function(){var j,f;return!((j=T.current)===null||j===void 0)&&j.reset&&((f=T.current)===null||f===void 0||f.reset()),!0},messageSuccess:"\u5220\u9664\u6210\u529F",children:"\u6279\u91CF\u5220\u9664"})})},pagination:{pageSize:10},search:{collapsed:!1},tableExtraRender:function(){return(0,r.jsx)(c.Z,{mode:"horizontal",selectedKeys:["list"],items:[{label:(0,r.jsx)(v.Link,{to:"/app/list",replace:!0,children:"\u5BB9\u5668\u5217\u8868"}),key:"list"},{label:(0,r.jsx)(v.Link,{to:"/app/list/recycle",replace:!0,children:"\u56DE\u6536\u7AD9"}),key:"recycle"}]})},toolBarRender:function(){return[(0,r.jsx)(Z.Z,{action:function(){return(0,y.KK)()},onSuccess:function(){var s,p;return!((s=T.current)===null||s===void 0)&&s.reloadAndRest&&((p=T.current)===null||p===void 0||p.reloadAndRest()),!0},onError:function(){var s,p;return!((s=T.current)===null||s===void 0)&&s.reset&&((p=T.current)===null||p===void 0||p.reset()),!0},messageSuccess:"\u6E05\u9664\u6210\u529F",confirm:"\u662F\u5426\u6E05\u7406\u5DF2\u505C\u6B62\u7684\u5BB9\u5668",children:"\u6E05\u7406\u5DF2\u505C\u6B62\u5BB9\u5668"})]}})})}},62597:function(B,P,e){e.d(P,{$G:function(){return M},Ct:function(){return _},Tb:function(){return m},cl:function(){return C},iE:function(){return t},xb:function(){return v}});var g=e(15009),a=e.n(g),O=e(99289),l=e.n(O),i=e(54006);function M(u){return d.apply(this,arguments)}function d(){return d=l()(a()().mark(function u(o){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/site/create-by-image",{method:"POST",data:o}));case 1:case"end":return n.stop()}},u)})),d.apply(this,arguments)}function C(u){return E.apply(this,arguments)}function E(){return E=l()(a()().mark(function u(o){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/site/get-list",{method:"POST",data:o}));case 1:case"end":return n.stop()}},u)})),E.apply(this,arguments)}function m(u){return h.apply(this,arguments)}function h(){return h=l()(a()().mark(function u(o){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.request)("/api/app/log/run",{method:"POST",data:o});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},u)})),h.apply(this,arguments)}function t(u){return R.apply(this,arguments)}function R(){return R=l()(a()().mark(function u(o){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,i.request)("/api/app/site/get-detail",{data:o,method:"POST"});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},u)})),R.apply(this,arguments)}function _(u){return c.apply(this,arguments)}function c(){return c=l()(a()().mark(function u(o){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/container/delete",{method:"POST",data:o}));case 1:case"end":return n.stop()}},u)})),c.apply(this,arguments)}function v(u){return A.apply(this,arguments)}function A(){return A=l()(a()().mark(function u(o){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/site/delete",{method:"POST",data:o}));case 1:case"end":return n.stop()}},u)})),A.apply(this,arguments)}},60335:function(B,P,e){e.d(P,{IE:function(){return C},IW:function(){return M},KK:function(){return _},LJ:function(){return v},eE:function(){return t},jV:function(){return m}});var g=e(15009),a=e.n(g),O=e(99289),l=e.n(O),i=e(54006);function M(u){return d.apply(this,arguments)}function d(){return d=l()(a()().mark(function u(o){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/container/status",{method:"POST",data:o}));case 1:case"end":return n.stop()}},u)})),d.apply(this,arguments)}function C(u){return E.apply(this,arguments)}function E(){return E=l()(a()().mark(function u(o){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/container/get-list",{data:o,method:"POST"}));case 1:case"end":return n.stop()}},u)})),E.apply(this,arguments)}function m(u){return h.apply(this,arguments)}function h(){return h=l()(a()().mark(function u(o){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/container/get-detail",{data:o,method:"POST"}));case 1:case"end":return n.stop()}},u)})),h.apply(this,arguments)}function t(u){return R.apply(this,arguments)}function R(){return R=l()(a()().mark(function u(o){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/container/update",{data:o,method:"POST"}));case 1:case"end":return n.stop()}},u)})),R.apply(this,arguments)}function _(){return c.apply(this,arguments)}function c(){return c=l()(a()().mark(function u(){return a()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",(0,i.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return D.stop()}},u)})),c.apply(this,arguments)}function v(u){return A.apply(this,arguments)}function A(){return A=l()(a()().mark(function u(o){return a()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.request)("/api/app/container/export",{method:"POST",data:o,responseType:"blob"}));case 1:case"end":return n.stop()}},u)})),A.apply(this,arguments)}}}]);
