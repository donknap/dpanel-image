"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3146],{52688:function(re,L,r){var d=r(1413),f=r(45987),I=r(62435),j=r(33468),S=r(86074),z=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],B=I.forwardRef(function(T,b){var x=T.fieldProps,s=T.unCheckedChildren,H=T.checkedChildren,O=T.proFieldProps,N=(0,f.Z)(T,z);return(0,S.jsx)(j.Z,(0,d.Z)({valueType:"switch",fieldProps:(0,d.Z)({unCheckedChildren:s,checkedChildren:H},x),ref:b,valuePropName:"checked",proFieldProps:O,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},N))});L.Z=B},5966:function(re,L,r){var d=r(97685),f=r(1413),I=r(45987),j=r(21770),S=r(72723),z=r(55241),B=r(97435),T=r(62435),b=r(33468),x=r(86074),s=["fieldProps","proFieldProps"],H=["fieldProps","proFieldProps"],O="text",N=function(n){var l=n.fieldProps,D=n.proFieldProps,A=(0,I.Z)(n,s);return(0,x.jsx)(b.Z,(0,f.Z)({valueType:O,fieldProps:l,filedConfig:{valueType:O},proFieldProps:D},A))},R=function(n){var l=(0,j.Z)(n.open||!1,{value:n.open,onChange:n.onOpenChange}),D=(0,d.Z)(l,2),A=D[0],G=D[1];return(0,x.jsx)(S.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(F){var $,Y=F.getFieldValue(n.name||[]);return(0,x.jsx)(z.Z,(0,f.Z)((0,f.Z)({getPopupContainer:function(E){return E&&E.parentNode?E.parentNode:E},onOpenChange:G,content:(0,x.jsxs)("div",{style:{padding:"4px 0"},children:[($=n.statusRender)===null||$===void 0?void 0:$.call(n,Y),n.strengthText?(0,x.jsx)("div",{style:{marginTop:10},children:(0,x.jsx)("span",{children:n.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},n.popoverProps),{},{open:A,children:n.children}))}})},K=function(n){var l=n.fieldProps,D=n.proFieldProps,A=(0,I.Z)(n,H),G=(0,T.useState)(!1),Q=(0,d.Z)(G,2),F=Q[0],$=Q[1];return l!=null&&l.statusRender&&A.name?(0,x.jsx)(R,{name:A.name,statusRender:l==null?void 0:l.statusRender,popoverProps:l==null?void 0:l.popoverProps,strengthText:l==null?void 0:l.strengthText,open:F,onOpenChange:$,children:(0,x.jsx)("div",{children:(0,x.jsx)(b.Z,(0,f.Z)({valueType:"password",fieldProps:(0,f.Z)((0,f.Z)({},(0,B.Z)(l,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(X){var E;l==null||(E=l.onBlur)===null||E===void 0||E.call(l,X),$(!1)},onClick:function(X){var E;l==null||(E=l.onClick)===null||E===void 0||E.call(l,X),$(!0)}}),proFieldProps:D,filedConfig:{valueType:O}},A))})}):(0,x.jsx)(b.Z,(0,f.Z)({valueType:"password",fieldProps:l,proFieldProps:D,filedConfig:{valueType:O}},A))},Z=N;Z.Password=K,Z.displayName="ProFormComponent",L.Z=Z},80821:function(re,L,r){r.d(L,{Z:function(){return x}});var d=r(5574),f=r.n(d),I=r(93246),j=r(54006),S=r(31418),z=r(86738),B=r(14726),T=r(62435),b=r(86074);function x(s){var H=(0,T.useState)(!1),O=f()(H,2),N=O[0],R=O[1],K=S.Z.useApp(),Z=(0,j.useIntl)(),V=function(){R(!0),s.action().then(function(l){if(R(!1),typeof s.onSuccess=="function"&&s.onSuccess(l),s.messageSuccess){var D="";s.messageSuccess.indexOf(".")>-1?D=Z.formatMessage({id:s.messageSuccess}):D=s.messageSuccess,s.asynced?(0,I.Rk)(K,D):(0,I.$h)(K,D)}}).catch(function(l){R(!1),typeof s.onError=="function"&&s.onError(l)})};return s.confirm?(0,b.jsx)(z.Z,{style:{width:500},title:"\u63D0\u793A",description:s.confirm,onConfirm:V,okText:"Yes",cancelText:"No",children:(0,b.jsx)(B.ZP,{disabled:s.disabled,icon:s.icon,loading:N,danger:s.danger,type:s.type,children:s.children})}):(0,b.jsx)(B.ZP,{disabled:s.disabled,icon:s.icon,loading:N,onClick:V,danger:s.danger,type:s.type,children:s.children})}},58940:function(re,L,r){r.r(L),r.d(L,{default:function(){return w}});var d=r(15009),f=r.n(d),I=r(99289),j=r.n(I),S=r(54006);function z(g){return B.apply(this,arguments)}function B(){return B=j()(f()().mark(function g(c){return f()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,S.request)("/api/app/site/get-domain-list",{method:"POST",data:c}));case 1:case"end":return o.stop()}},g)})),B.apply(this,arguments)}function T(g){return b.apply(this,arguments)}function b(){return b=j()(f()().mark(function g(c){return f()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,S.request)("/api/app/site/create-domain",{method:"POST",data:c}));case 1:case"end":return o.stop()}},g)})),b.apply(this,arguments)}function x(g){return s.apply(this,arguments)}function s(){return s=j()(f()().mark(function g(c){return f()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,S.request)("/api/app/site/delete-domain",{method:"POST",data:c}));case 1:case"end":return o.stop()}},g)})),s.apply(this,arguments)}var H=r(184),O=r(62370),N=r(5966),R=r(1413),K=r(45987),Z=r(62435),V=r(33468),n=r(86074),l=["fieldProps","min","proFieldProps","max"],D=function(c,m){var o=c.fieldProps,a=c.min,h=c.proFieldProps,C=c.max,P=(0,K.Z)(c,l);return(0,n.jsx)(V.Z,(0,R.Z)({valueType:"digit",fieldProps:(0,R.Z)({min:a,max:C},o),ref:m,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:h},P))},A=Z.forwardRef(D),G=A,Q=r(17186),F=r(52688),$=r(97462),Y=r(20713),X=r(14726),E=r(78957),ee=r(34041),e=r(71230),i=r(15746);function p(g){var c=(0,Z.useRef)();return(0,n.jsxs)(H.a,{title:"\u65B0\u589E\u57DF\u540D",trigger:(0,n.jsx)(X.ZP,{type:"primary",children:"\u6DFB\u52A0\u57DF\u540D"}),formRef:c,onFinish:function(){var m=j()(f()().mark(function o(a){var h,C;return f()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,T({schema:a.schema,serverName:a.serverName,port:a.port,enableBlockCommonExploits:a.enableBlockCommonExploits,enableAssetCache:a.enableAssetCache,enableWs:a.enableWs,extraNginx:a.extraNginx,containerId:g.containerId});case 2:return C=v.sent,(h=c.current)===null||h===void 0||h.resetFields(),g.onFinish(),v.abrupt("return",!0);case 6:case"end":return v.stop()}},o)}));return function(o){return m.apply(this,arguments)}}(),children:[(0,n.jsxs)(E.Z.Compact,{children:[(0,n.jsx)(O.Z,{label:"\u534F\u8BAE",tooltip:"\u9009\u62E9Https\u65F6\u4F1A\u81EA\u52A8\u7ED1\u5B9A\u8BC1\u4E66",required:!0,name:"schema",initialValue:"http",children:(0,n.jsxs)(ee.Z,{defaultValue:"http",style:{width:"100px"},children:[(0,n.jsx)(ee.Z.Option,{value:"http",children:"http"}),(0,n.jsx)(ee.Z.Option,{value:"https",children:"https"})]})}),(0,n.jsx)(N.Z,{width:"lg",label:"\u57DF\u540D",tooltip:"\u6307\u5B9A\u8981\u7ED1\u5B9A\u7684\u57DF\u540D,\u5E76\u5C06\u8BE5\u57DF\u540D\u89E3\u6790\u5230\u5F53\u524D\u670D\u52A1\u5668",name:"serverName",placeholder:"\u8BF7\u6307\u5B9A\u8981\u7ED1\u5B9A\u7684\u57DF\u540D\uFF0C\u4F8B\u5982 www.explame.com, test.explame.com",rules:[{required:!0}]})]}),(0,n.jsx)(G,{label:"\u7AEF\u53E3",name:"port",tooltip:"\u6307\u5B9A\u7ED1\u5B9A\u5F53\u524D\u5BB9\u5668\u7684\u7AEF\u53E3",placeholder:"80",required:!0,rules:[{required:!0}]}),(0,n.jsx)(Q.u,{label:"Location",name:"location"}),(0,n.jsx)(F.Z,{label:"\u6269\u5C55Nginx\u914D\u7F6E",name:"enableExtraNginx"}),(0,n.jsx)($.Z,{name:["enableExtraNginx"],children:function(o){var a=o.enableExtraNginx;if(a)return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.Z,{children:[(0,n.jsx)(i.Z,{span:12,children:(0,n.jsx)(F.Z,{label:"\u963B\u6B62\u5E38\u89C1\u6F0F\u6D1E\u5229\u7528",name:"enableBlockCommonExploits"})}),(0,n.jsx)(i.Z,{children:(0,n.jsx)(F.Z,{width:"md",label:"\u9759\u6001\u8D44\u6E90\u7F13\u5B58",name:"enableAssetCache"})})]}),(0,n.jsx)(e.Z,{children:(0,n.jsx)(i.Z,{span:12,children:(0,n.jsx)(F.Z,{label:"\u652F\u6301 Websocket",name:"enableWs"})})}),(0,n.jsx)(e.Z,{children:(0,n.jsx)(i.Z,{span:24,children:(0,n.jsx)(O.Z,{name:"extraNginx",label:"\u81EA\u5B9A\u4E49\u914D\u7F6E",children:(0,n.jsx)(Y.ZP,{height:"300px",theme:"dark",style:{backgroundColor:"#282c34"}})})})})]})}})]})}var t=p,u=r(80821),M=r(12010),y=r(66309);function w(){var g=(0,S.useParams)(),c=(0,Z.useRef)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(M.Z,{rowKey:"id",actionRef:c,columns:[{title:"\u57DF\u540D",dataIndex:"serverName",render:function(o,a,h,C,P){var v;return(0,n.jsx)("a",{href:"".concat((v=a.schema)!==null&&v!==void 0?v:"http","://").concat(a.serverName),target:"_blank",children:a.serverName})}},{title:"\u7AEF\u53E3",dataIndex:"port"},{title:"SSL",search:!1,render:function(o,a,h,C,P){return a.schema=="http"?(0,n.jsx)(y.Z,{children:"\u5426"}):(0,n.jsx)(y.Z,{color:"red",children:"\u662F"})}},{title:"\u521B\u5EFA\u65F6\u95F4",search:!1,width:180,ellipsis:!0,dataIndex:"createdAt",render:function(o,a,h,C,P){return new Date(a.createdAt).toLocaleString()}}],request:function(){var m=j()(f()().mark(function o(a,h,C){var P,v,J,_,k;return f()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,z({containerId:(P=(v=g.id)!==null&&v!==void 0?v:"")!==null&&P!==void 0?P:"",pageSize:(J=a.pageSize)!==null&&J!==void 0?J:10,page:(_=a.current)!==null&&_!==void 0?_:1,serverName:a.serverName,port:a.port});case 2:return k=U.sent,U.abrupt("return",{data:k.data.list,success:!0,total:k.data.list.length});case 4:case"end":return U.stop()}},o)}));return function(o,a,h){return m.apply(this,arguments)}}(),toolBarRender:function(){var o;return[(0,n.jsx)(t,{containerId:(o=g.id)!==null&&o!==void 0?o:"",onFinish:function(){var h,C;!((h=c.current)===null||h===void 0)&&h.reloadAndRest&&((C=c.current)===null||C===void 0||C.reloadAndRest())}})]},rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},tableAlertOptionRender:function(o){var a=o.selectedRowKeys;return(0,n.jsx)(E.Z,{size:16,children:(0,n.jsx)(u.Z,{danger:!0,type:"primary",action:function(){return x({id:a})},onSuccess:function(){var C,P;return!((C=c.current)===null||C===void 0)&&C.reloadAndRest&&((P=c.current)===null||P===void 0||P.reloadAndRest()),!0},onError:function(){var C,P;return!((C=c.current)===null||C===void 0)&&C.reset&&((P=c.current)===null||P===void 0||P.reset()),!0},messageSuccess:"\u5220\u9664\u6210\u529F",children:"\u6279\u91CF\u5220\u9664"})})},pagination:{pageSize:10}})})}},66309:function(re,L,r){r.d(L,{Z:function(){return ee}});var d=r(62435),f=r(97937),I=r(93967),j=r.n(I),S=r(98787),z=r(69760),B=r(45353),T=r(53124),b=r(54548),x=r(10274),s=r(14747),H=r(45503),O=r(92030);const N=e=>{const{paddingXXS:i,lineWidth:p,tagPaddingHorizontal:t,componentCls:u,calc:M}=e,y=M(t).sub(p).equal(),w=M(i).sub(p).equal();return{[u]:Object.assign(Object.assign({},(0,s.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:y,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,b.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${u}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${u}-close-icon`]:{marginInlineStart:w,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${u}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${u}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:y}}),[`${u}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},R=e=>{const{lineWidth:i,fontSizeIcon:p,calc:t}=e,u=e.fontSizeSM;return(0,H.TS)(e,{tagFontSize:u,tagLineHeight:(0,b.bf)(t(e.lineHeightSM).mul(u).equal()),tagIconSize:t(p).sub(t(i).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},K=e=>({defaultBg:new x.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var Z=(0,O.I$)("Tag",e=>{const i=R(e);return N(i)},K),V=function(e,i){var p={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.indexOf(t)<0&&(p[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,t=Object.getOwnPropertySymbols(e);u<t.length;u++)i.indexOf(t[u])<0&&Object.prototype.propertyIsEnumerable.call(e,t[u])&&(p[t[u]]=e[t[u]]);return p},l=d.forwardRef((e,i)=>{const{prefixCls:p,style:t,className:u,checked:M,onChange:y,onClick:w}=e,g=V(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:c,tag:m}=d.useContext(T.E_),o=J=>{y==null||y(!M),w==null||w(J)},a=c("tag",p),[h,C,P]=Z(a),v=j()(a,`${a}-checkable`,{[`${a}-checkable-checked`]:M},m==null?void 0:m.className,u,C,P);return h(d.createElement("span",Object.assign({},g,{ref:i,style:Object.assign(Object.assign({},t),m==null?void 0:m.style),className:v,onClick:o})))}),D=r(98719);const A=e=>(0,D.Z)(e,(i,p)=>{let{textColor:t,lightBorderColor:u,lightColor:M,darkColor:y}=p;return{[`${e.componentCls}${e.componentCls}-${i}`]:{color:t,background:M,borderColor:u,"&-inverse":{color:e.colorTextLightSolid,background:y,borderColor:y},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var G=(0,O.bk)(["Tag","preset"],e=>{const i=R(e);return A(i)},K);function Q(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const F=(e,i,p)=>{const t=Q(p);return{[`${e.componentCls}${e.componentCls}-${i}`]:{color:e[`color${p}`],background:e[`color${t}Bg`],borderColor:e[`color${t}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var $=(0,O.bk)(["Tag","status"],e=>{const i=R(e);return[F(i,"success","Success"),F(i,"processing","Info"),F(i,"error","Error"),F(i,"warning","Warning")]},K),Y=function(e,i){var p={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.indexOf(t)<0&&(p[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,t=Object.getOwnPropertySymbols(e);u<t.length;u++)i.indexOf(t[u])<0&&Object.prototype.propertyIsEnumerable.call(e,t[u])&&(p[t[u]]=e[t[u]]);return p};const X=(e,i)=>{const{prefixCls:p,className:t,rootClassName:u,style:M,children:y,icon:w,color:g,onClose:c,closeIcon:m,closable:o,bordered:a=!0}=e,h=Y(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:C,direction:P,tag:v}=d.useContext(T.E_),[J,_]=d.useState(!0);d.useEffect(()=>{"visible"in h&&_(h.visible)},[h.visible]);const k=(0,S.o2)(g),ne=(0,S.yT)(g),U=k||ne,le=Object.assign(Object.assign({backgroundColor:g&&!U?g:void 0},v==null?void 0:v.style),M),W=C("tag",p),[se,ie,ue]=Z(W),ce=j()(W,v==null?void 0:v.className,{[`${W}-${g}`]:U,[`${W}-has-color`]:g&&!U,[`${W}-hidden`]:!J,[`${W}-rtl`]:P==="rtl",[`${W}-borderless`]:!a},t,u,ie,ue),te=q=>{q.stopPropagation(),c==null||c(q),!q.defaultPrevented&&_(!1)},[,de]=(0,z.Z)({closable:o,closeIcon:m!=null?m:v==null?void 0:v.closeIcon,customCloseIconRender:q=>q===null?d.createElement(f.Z,{className:`${W}-close-icon`,onClick:te}):d.createElement("span",{className:`${W}-close-icon`,onClick:te},q),defaultCloseIcon:null,defaultClosable:!1}),ve=typeof h.onClick=="function"||y&&y.type==="a",oe=w||null,me=oe?d.createElement(d.Fragment,null,oe,y&&d.createElement("span",null,y)):y,ae=d.createElement("span",Object.assign({},h,{ref:i,className:ce,style:le}),me,de,k&&d.createElement(G,{key:"preset",prefixCls:W}),ne&&d.createElement($,{key:"status",prefixCls:W}));return se(ve?d.createElement(B.Z,{component:"Tag"},ae):ae)},E=d.forwardRef(X);E.CheckableTag=l;var ee=E}}]);
