"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3146],{52688:function(ee,N,r){var v=r(1413),m=r(45987),I=r(62435),j=r(33468),F=r(86074),H=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],R=I.forwardRef(function(S,b){var x=S.fieldProps,l=S.unCheckedChildren,V=S.checkedChildren,O=S.proFieldProps,L=(0,m.Z)(S,H);return(0,F.jsx)(j.Z,(0,v.Z)({valueType:"switch",fieldProps:(0,v.Z)({unCheckedChildren:l,checkedChildren:V},x),ref:b,valuePropName:"checked",proFieldProps:O,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},L))});N.Z=R},5966:function(ee,N,r){var v=r(97685),m=r(1413),I=r(45987),j=r(21770),F=r(72723),H=r(55241),R=r(97435),S=r(62435),b=r(33468),x=r(86074),l=["fieldProps","proFieldProps"],V=["fieldProps","proFieldProps"],O="text",L=function(n){var a=n.fieldProps,D=n.proFieldProps,M=(0,I.Z)(n,l);return(0,x.jsx)(b.Z,(0,m.Z)({valueType:O,fieldProps:a,filedConfig:{valueType:O},proFieldProps:D},M))},Z=function(n){var a=(0,j.Z)(n.open||!1,{value:n.open,onChange:n.onOpenChange}),D=(0,v.Z)(a,2),M=D[0],Q=D[1];return(0,x.jsx)(F.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(z){var $,Y=z.getFieldValue(n.name||[]);return(0,x.jsx)(H.Z,(0,m.Z)((0,m.Z)({getPopupContainer:function(P){return P&&P.parentNode?P.parentNode:P},onOpenChange:Q,content:(0,x.jsxs)("div",{style:{padding:"4px 0"},children:[($=n.statusRender)===null||$===void 0?void 0:$.call(n,Y),n.strengthText?(0,x.jsx)("div",{style:{marginTop:10},children:(0,x.jsx)("span",{children:n.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},n.popoverProps),{},{open:M,children:n.children}))}})},K=function(n){var a=n.fieldProps,D=n.proFieldProps,M=(0,I.Z)(n,V),Q=(0,S.useState)(!1),U=(0,v.Z)(Q,2),z=U[0],$=U[1];return a!=null&&a.statusRender&&M.name?(0,x.jsx)(Z,{name:M.name,statusRender:a==null?void 0:a.statusRender,popoverProps:a==null?void 0:a.popoverProps,strengthText:a==null?void 0:a.strengthText,open:z,onOpenChange:$,children:(0,x.jsx)("div",{children:(0,x.jsx)(b.Z,(0,m.Z)({valueType:"password",fieldProps:(0,m.Z)((0,m.Z)({},(0,R.Z)(a,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(X){var P;a==null||(P=a.onBlur)===null||P===void 0||P.call(a,X),$(!1)},onClick:function(X){var P;a==null||(P=a.onClick)===null||P===void 0||P.call(a,X),$(!0)}}),proFieldProps:D,filedConfig:{valueType:O}},M))})}):(0,x.jsx)(b.Z,(0,m.Z)({valueType:"password",fieldProps:a,proFieldProps:D,filedConfig:{valueType:O}},M))},A=L;A.Password=K,A.displayName="ProFormComponent",N.Z=A},80821:function(ee,N,r){r.d(N,{Z:function(){return x}});var v=r(5574),m=r.n(v),I=r(93246),j=r(54006),F=r(31418),H=r(86738),R=r(14726),S=r(62435),b=r(86074);function x(l){var V=(0,S.useState)(!1),O=m()(V,2),L=O[0],Z=O[1],K=F.Z.useApp(),A=(0,j.useIntl)(),w=function(){Z(!0),l.action().then(function(a){if(Z(!1),typeof l.onSuccess=="function"&&l.onSuccess(a),l.messageSuccess){var D="";l.messageSuccess.indexOf(".")>-1?D=A.formatMessage({id:l.messageSuccess}):D=l.messageSuccess,l.asynced?(0,I.Rk)(K,D):(0,I.$h)(K,D)}}).catch(function(a){Z(!1),typeof l.onError=="function"&&l.onError(a)})};return l.confirm?(0,b.jsx)(H.Z,{style:{width:500},title:"\u63D0\u793A",description:l.confirm,onConfirm:w,okText:"Yes",cancelText:"No",children:(0,b.jsx)(R.ZP,{disabled:l.disabled,icon:l.icon,loading:L,danger:l.danger,type:l.type,children:l.children})}):(0,b.jsx)(R.ZP,{disabled:l.disabled,icon:l.icon,loading:L,onClick:w,danger:l.danger,type:l.type,children:l.children})}},58940:function(ee,N,r){r.r(N),r.d(N,{default:function(){return y}});var v=r(15009),m=r.n(v),I=r(99289),j=r.n(I),F=r(54006);function H(g){return R.apply(this,arguments)}function R(){return R=j()(m()().mark(function g(u){return m()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,F.request)("/api/app/site/get-domain-list",{method:"POST",data:u}));case 1:case"end":return t.stop()}},g)})),R.apply(this,arguments)}function S(g){return b.apply(this,arguments)}function b(){return b=j()(m()().mark(function g(u){return m()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,F.request)("/api/app/site/create-domain",{method:"POST",data:u}));case 1:case"end":return t.stop()}},g)})),b.apply(this,arguments)}function x(g){return l.apply(this,arguments)}function l(){return l=j()(m()().mark(function g(u){return m()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,F.request)("/api/app/site/delete-domain",{method:"POST",data:u}));case 1:case"end":return t.stop()}},g)})),l.apply(this,arguments)}var V=r(184),O=r(62370),L=r(5966),Z=r(1413),K=r(45987),A=r(62435),w=r(33468),n=r(86074),a=["fieldProps","min","proFieldProps","max"],D=function(u,C){var t=u.fieldProps,s=u.min,h=u.proFieldProps,d=u.max,p=(0,K.Z)(u,a);return(0,n.jsx)(w.Z,(0,Z.Z)({valueType:"digit",fieldProps:(0,Z.Z)({min:s,max:d},t),ref:C,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:h},p))},M=A.forwardRef(D),Q=M,U=r(52688),z=r(97462),$=r(20713),Y=r(14726),X=r(78957),P=r(34041),q=r(71230),e=r(15746);function c(g){var u=(0,A.useRef)();return(0,n.jsxs)(V.a,{title:"\u65B0\u589E\u57DF\u540D",trigger:(0,n.jsx)(Y.ZP,{type:"primary",children:"\u6DFB\u52A0\u57DF\u540D"}),formRef:u,onFinish:function(){var C=j()(m()().mark(function t(s){var h,d;return m()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,S({schema:s.schema,serverName:s.serverName,port:s.port,enableBlockCommonExploits:s.enableBlockCommonExploits,enableAssetCache:s.enableAssetCache,enableWs:s.enableWs,extraNginx:s.extraNginx,containerId:g.containerId});case 2:return d=E.sent,(h=u.current)===null||h===void 0||h.resetFields(),g.onFinish(),E.abrupt("return",!0);case 6:case"end":return E.stop()}},t)}));return function(t){return C.apply(this,arguments)}}(),children:[(0,n.jsxs)(X.Z.Compact,{children:[(0,n.jsx)(O.Z,{label:"\u534F\u8BAE",tooltip:"\u9009\u62E9Https\u65F6\u4F1A\u81EA\u52A8\u7ED1\u5B9A\u8BC1\u4E66",required:!0,name:"schema",initialValue:"http",children:(0,n.jsxs)(P.Z,{defaultValue:"http",style:{width:"100px"},children:[(0,n.jsx)(P.Z.Option,{value:"http",children:"http"}),(0,n.jsx)(P.Z.Option,{value:"https",children:"https"})]})}),(0,n.jsx)(L.Z,{width:"lg",label:"\u57DF\u540D",tooltip:"\u6307\u5B9A\u8981\u7ED1\u5B9A\u7684\u57DF\u540D,\u5E76\u5C06\u8BE5\u57DF\u540D\u89E3\u6790\u5230\u5F53\u524D\u670D\u52A1\u5668",name:"serverName",placeholder:"\u8BF7\u6307\u5B9A\u8981\u7ED1\u5B9A\u7684\u57DF\u540D\uFF0C\u4F8B\u5982 www.explame.com, test.explame.com",rules:[{required:!0}]})]}),(0,n.jsx)(Q,{label:"\u7AEF\u53E3",name:"port",tooltip:"\u6307\u5B9A\u7ED1\u5B9A\u5F53\u524D\u5BB9\u5668\u7684\u7AEF\u53E3",placeholder:"80",required:!0,rules:[{required:!0}]}),(0,n.jsx)(U.Z,{label:"\u6269\u5C55Nginx\u914D\u7F6E",name:"enableExtraNginx"}),(0,n.jsx)(z.Z,{name:["enableExtraNginx"],children:function(t){var s=t.enableExtraNginx;if(s)return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(q.Z,{children:[(0,n.jsx)(e.Z,{span:12,children:(0,n.jsx)(U.Z,{label:"\u963B\u6B62\u5E38\u89C1\u6F0F\u6D1E\u5229\u7528",name:"enableBlockCommonExploits"})}),(0,n.jsx)(e.Z,{children:(0,n.jsx)(U.Z,{width:"md",label:"\u9759\u6001\u8D44\u6E90\u7F13\u5B58",name:"enableAssetCache"})})]}),(0,n.jsx)(q.Z,{children:(0,n.jsx)(e.Z,{span:12,children:(0,n.jsx)(U.Z,{label:"\u652F\u6301 Websocket",name:"enableWs"})})}),(0,n.jsx)(q.Z,{children:(0,n.jsx)(e.Z,{span:24,children:(0,n.jsx)(O.Z,{name:"extraNginx",label:"\u81EA\u5B9A\u4E49\u914D\u7F6E",children:(0,n.jsx)($.ZP,{height:"300px",theme:"dark",style:{backgroundColor:"#282c34"}})})})})]})}})]})}var f=c,o=r(80821),i=r(12010),B=r(66309);function y(){var g=(0,F.useParams)(),u=(0,A.useRef)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i.Z,{rowKey:"id",actionRef:u,columns:[{title:"\u57DF\u540D",dataIndex:"serverName",render:function(t,s,h,d,p){var E;return(0,n.jsx)("a",{href:"".concat((E=s.schema)!==null&&E!==void 0?E:"http","://").concat(s.serverName),target:"_blank",children:s.serverName})}},{title:"\u7AEF\u53E3",dataIndex:"port"},{title:"SSL",search:!1,render:function(t,s,h,d,p){return s.schema=="http"?(0,n.jsx)(B.Z,{children:"\u5426"}):(0,n.jsx)(B.Z,{color:"red",children:"\u662F"})}},{title:"\u521B\u5EFA\u65F6\u95F4",search:!1,width:180,ellipsis:!0,dataIndex:"createdAt",render:function(t,s,h,d,p){return new Date(s.createdAt).toLocaleString()}}],request:function(){var C=j()(m()().mark(function t(s,h,d){var p,E,T,J,_;return m()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,H({containerId:(p=(E=g.id)!==null&&E!==void 0?E:"")!==null&&p!==void 0?p:"",pageSize:(T=s.pageSize)!==null&&T!==void 0?T:10,page:(J=s.current)!==null&&J!==void 0?J:1,serverName:s.serverName,port:s.port});case 2:return _=G.sent,G.abrupt("return",{data:_.data.list,success:!0,total:_.data.list.length});case 4:case"end":return G.stop()}},t)}));return function(t,s,h){return C.apply(this,arguments)}}(),toolBarRender:function(){var t;return[(0,n.jsx)(f,{containerId:(t=g.id)!==null&&t!==void 0?t:"",onFinish:function(){var h,d;!((h=u.current)===null||h===void 0)&&h.reloadAndRest&&((d=u.current)===null||d===void 0||d.reloadAndRest())}})]},rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},tableAlertOptionRender:function(t){var s=t.selectedRowKeys;return(0,n.jsx)(X.Z,{size:16,children:(0,n.jsx)(o.Z,{danger:!0,type:"primary",action:function(){return x({id:s})},onSuccess:function(){var d,p;return!((d=u.current)===null||d===void 0)&&d.reloadAndRest&&((p=u.current)===null||p===void 0||p.reloadAndRest()),!0},onError:function(){var d,p;return!((d=u.current)===null||d===void 0)&&d.reset&&((p=u.current)===null||p===void 0||p.reset()),!0},messageSuccess:"\u5220\u9664\u6210\u529F",children:"\u6279\u91CF\u5220\u9664"})})},pagination:{pageSize:10}})})}},66309:function(ee,N,r){r.d(N,{Z:function(){return q}});var v=r(62435),m=r(97937),I=r(93967),j=r.n(I),F=r(98787),H=r(69760),R=r(45353),S=r(53124),b=r(54548),x=r(10274),l=r(14747),V=r(45503),O=r(92030);const L=e=>{const{paddingXXS:c,lineWidth:f,tagPaddingHorizontal:o,componentCls:i,calc:B}=e,y=B(o).sub(f).equal(),g=B(c).sub(f).equal();return{[i]:Object.assign(Object.assign({},(0,l.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:y,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,b.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${i}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${i}-close-icon`]:{marginInlineStart:g,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${i}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${i}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:y}}),[`${i}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},Z=e=>{const{lineWidth:c,fontSizeIcon:f,calc:o}=e,i=e.fontSizeSM;return(0,V.TS)(e,{tagFontSize:i,tagLineHeight:(0,b.bf)(o(e.lineHeightSM).mul(i).equal()),tagIconSize:o(f).sub(o(c).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},K=e=>({defaultBg:new x.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var A=(0,O.I$)("Tag",e=>{const c=Z(e);return L(c)},K),w=function(e,c){var f={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&c.indexOf(o)<0&&(f[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)c.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(f[o[i]]=e[o[i]]);return f},a=v.forwardRef((e,c)=>{const{prefixCls:f,style:o,className:i,checked:B,onChange:y,onClick:g}=e,u=w(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:C,tag:t}=v.useContext(S.E_),s=J=>{y==null||y(!B),g==null||g(J)},h=C("tag",f),[d,p,E]=A(h),T=j()(h,`${h}-checkable`,{[`${h}-checkable-checked`]:B},t==null?void 0:t.className,i,p,E);return d(v.createElement("span",Object.assign({},u,{ref:c,style:Object.assign(Object.assign({},o),t==null?void 0:t.style),className:T,onClick:s})))}),D=r(98719);const M=e=>(0,D.Z)(e,(c,f)=>{let{textColor:o,lightBorderColor:i,lightColor:B,darkColor:y}=f;return{[`${e.componentCls}${e.componentCls}-${c}`]:{color:o,background:B,borderColor:i,"&-inverse":{color:e.colorTextLightSolid,background:y,borderColor:y},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var Q=(0,O.bk)(["Tag","preset"],e=>{const c=Z(e);return M(c)},K);function U(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const z=(e,c,f)=>{const o=U(f);return{[`${e.componentCls}${e.componentCls}-${c}`]:{color:e[`color${f}`],background:e[`color${o}Bg`],borderColor:e[`color${o}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var $=(0,O.bk)(["Tag","status"],e=>{const c=Z(e);return[z(c,"success","Success"),z(c,"processing","Info"),z(c,"error","Error"),z(c,"warning","Warning")]},K),Y=function(e,c){var f={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&c.indexOf(o)<0&&(f[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)c.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(f[o[i]]=e[o[i]]);return f};const X=(e,c)=>{const{prefixCls:f,className:o,rootClassName:i,style:B,children:y,icon:g,color:u,onClose:C,closeIcon:t,closable:s,bordered:h=!0}=e,d=Y(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:p,direction:E,tag:T}=v.useContext(S.E_),[J,_]=v.useState(!0);v.useEffect(()=>{"visible"in d&&_(d.visible)},[d.visible]);const re=(0,F.o2)(u),G=(0,F.yT)(u),ne=re||G,le=Object.assign(Object.assign({backgroundColor:u&&!ne?u:void 0},T==null?void 0:T.style),B),W=p("tag",f),[se,ie,ue]=A(W),ce=j()(W,T==null?void 0:T.className,{[`${W}-${u}`]:ne,[`${W}-has-color`]:u&&!ne,[`${W}-hidden`]:!J,[`${W}-rtl`]:E==="rtl",[`${W}-borderless`]:!h},o,i,ie,ue),te=k=>{k.stopPropagation(),C==null||C(k),!k.defaultPrevented&&_(!1)},[,de]=(0,H.Z)({closable:s,closeIcon:t!=null?t:T==null?void 0:T.closeIcon,customCloseIconRender:k=>k===null?v.createElement(m.Z,{className:`${W}-close-icon`,onClick:te}):v.createElement("span",{className:`${W}-close-icon`,onClick:te},k),defaultCloseIcon:null,defaultClosable:!1}),ve=typeof d.onClick=="function"||y&&y.type==="a",oe=g||null,me=oe?v.createElement(v.Fragment,null,oe,y&&v.createElement("span",null,y)):y,ae=v.createElement("span",Object.assign({},d,{ref:c,className:ce,style:le}),me,de,re&&v.createElement(Q,{key:"preset",prefixCls:W}),G&&v.createElement($,{key:"status",prefixCls:W}));return se(ve?v.createElement(R.Z,{component:"Tag"},ae):ae)},P=v.forwardRef(X);P.CheckableTag=a;var q=P}}]);
