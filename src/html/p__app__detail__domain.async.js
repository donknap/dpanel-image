"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3146],{52688:function(ee,I,r){var c=r(1413),v=r(45987),S=r(62435),T=r(33468),B=r(86074),N=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],j=S.forwardRef(function(b,P){var x=b.fieldProps,a=b.unCheckedChildren,L=b.checkedChildren,F=b.proFieldProps,_=(0,v.Z)(b,N);return(0,B.jsx)(T.Z,(0,c.Z)({valueType:"switch",fieldProps:(0,c.Z)({unCheckedChildren:a,checkedChildren:L},x),ref:P,valuePropName:"checked",proFieldProps:F,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},_))});I.Z=j},5966:function(ee,I,r){var c=r(97685),v=r(1413),S=r(45987),T=r(21770),B=r(72723),N=r(55241),j=r(97435),b=r(62435),P=r(33468),x=r(86074),a=["fieldProps","proFieldProps"],L=["fieldProps","proFieldProps"],F="text",_=function(n){var s=n.fieldProps,O=n.proFieldProps,$=(0,S.Z)(n,a);return(0,x.jsx)(P.Z,(0,v.Z)({valueType:F,fieldProps:s,filedConfig:{valueType:F},proFieldProps:O},$))},M=function(n){var s=(0,T.Z)(n.open||!1,{value:n.open,onChange:n.onOpenChange}),O=(0,c.Z)(s,2),$=O[0],Q=O[1];return(0,x.jsx)(B.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(K){var A,J=K.getFieldValue(n.name||[]);return(0,x.jsx)(N.Z,(0,v.Z)((0,v.Z)({getPopupContainer:function(D){return D&&D.parentNode?D.parentNode:D},onOpenChange:Q,content:(0,x.jsxs)("div",{style:{padding:"4px 0"},children:[(A=n.statusRender)===null||A===void 0?void 0:A.call(n,J),n.strengthText?(0,x.jsx)("div",{style:{marginTop:10},children:(0,x.jsx)("span",{children:n.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},n.popoverProps),{},{open:$,children:n.children}))}})},z=function(n){var s=n.fieldProps,O=n.proFieldProps,$=(0,S.Z)(n,L),Q=(0,b.useState)(!1),Y=(0,c.Z)(Q,2),K=Y[0],A=Y[1];return s!=null&&s.statusRender&&$.name?(0,x.jsx)(M,{name:$.name,statusRender:s==null?void 0:s.statusRender,popoverProps:s==null?void 0:s.popoverProps,strengthText:s==null?void 0:s.strengthText,open:K,onOpenChange:A,children:(0,x.jsx)("div",{children:(0,x.jsx)(P.Z,(0,v.Z)({valueType:"password",fieldProps:(0,v.Z)((0,v.Z)({},(0,j.Z)(s,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(w){var D;s==null||(D=s.onBlur)===null||D===void 0||D.call(s,w),A(!1)},onClick:function(w){var D;s==null||(D=s.onClick)===null||D===void 0||D.call(s,w),A(!0)}}),proFieldProps:O,filedConfig:{valueType:F}},$))})}):(0,x.jsx)(P.Z,(0,v.Z)({valueType:"password",fieldProps:s,proFieldProps:O,filedConfig:{valueType:F}},$))},Z=_;Z.Password=z,Z.displayName="ProFormComponent",I.Z=Z},90672:function(ee,I,r){var c=r(1413),v=r(45987),S=r(62435),T=r(33468),B=r(86074),N=["fieldProps","proFieldProps"],j=function(P,x){var a=P.fieldProps,L=P.proFieldProps,F=(0,v.Z)(P,N);return(0,B.jsx)(T.Z,(0,c.Z)({ref:x,valueType:"textarea",fieldProps:a,proFieldProps:L},F))};I.Z=S.forwardRef(j)},80821:function(ee,I,r){r.d(I,{Z:function(){return x}});var c=r(5574),v=r.n(c),S=r(93246),T=r(54006),B=r(31418),N=r(86738),j=r(14726),b=r(62435),P=r(86074);function x(a){var L=(0,b.useState)(!1),F=v()(L,2),_=F[0],M=F[1],z=B.Z.useApp(),Z=(0,T.useIntl)(),V=function(){M(!0),a.action().then(function(s){if(M(!1),typeof a.onSuccess=="function"&&a.onSuccess(s),a.messageSuccess){var O="";a.messageSuccess.indexOf(".")>-1?O=Z.formatMessage({id:a.messageSuccess}):O=a.messageSuccess,a.asynced?(0,S.Rk)(z,O):(0,S.$h)(z,O)}}).catch(function(s){M(!1),typeof a.onError=="function"&&a.onError(s)})};return a.confirm?(0,P.jsx)(N.Z,{style:{width:500},title:"\u63D0\u793A",description:a.confirm,onConfirm:V,okText:"Yes",cancelText:"No",children:(0,P.jsx)(j.ZP,{disabled:a.disabled,icon:a.icon,loading:_,danger:a.danger,type:a.type,children:a.children})}):(0,P.jsx)(j.ZP,{disabled:a.disabled,icon:a.icon,loading:_,onClick:V,danger:a.danger,type:a.type,children:a.children})}},58940:function(ee,I,r){r.r(I),r.d(I,{default:function(){return G}});var c=r(15009),v=r.n(c),S=r(99289),T=r.n(S),B=r(54006);function N(p){return j.apply(this,arguments)}function j(){return j=T()(v()().mark(function p(d){return v()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,B.request)("/api/app/site/get-domain-list",{method:"POST",data:d}));case 1:case"end":return t.stop()}},p)})),j.apply(this,arguments)}function b(p){return P.apply(this,arguments)}function P(){return P=T()(v()().mark(function p(d){return v()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,B.request)("/api/app/site/create-domain",{method:"POST",data:d}));case 1:case"end":return t.stop()}},p)})),P.apply(this,arguments)}function x(p){return a.apply(this,arguments)}function a(){return a=T()(v()().mark(function p(d){return v()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,B.request)("/api/app/site/delete-domain",{method:"POST",data:d}));case 1:case"end":return t.stop()}},p)})),a.apply(this,arguments)}var L=r(184),F=r(62370),_=r(5966),M=r(1413),z=r(45987),Z=r(62435),V=r(33468),n=r(86074),s=["fieldProps","min","proFieldProps","max"],O=function(d,m){var t=d.fieldProps,o=d.min,h=d.proFieldProps,f=d.max,C=(0,z.Z)(d,s);return(0,n.jsx)(V.Z,(0,M.Z)({valueType:"digit",fieldProps:(0,M.Z)({min:o,max:f},t),ref:m,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:h},C))},$=Z.forwardRef(O),Q=$,Y=r(97462),K=r(90672),A=r(52688),J=r(20713),w=r(14726),D=r(78957),re=r(34041),e=r(71230),u=r(15746);function g(p){var d=(0,Z.useRef)();return(0,n.jsxs)(L.a,{title:"\u65B0\u589E\u57DF\u540D",trigger:(0,n.jsx)(w.ZP,{type:"primary",children:"\u6DFB\u52A0\u57DF\u540D"}),formRef:d,onFinish:function(){var m=T()(v()().mark(function t(o){var h,f,C,E;return v()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,b({schema:o.schema,serverName:o.serverName,port:o.port,enableBlockCommonExploits:o.enableBlockCommonExploits,enableAssetCache:o.enableAssetCache,enableWs:o.enableWs,extraNginx:o.extraNginx,containerId:p.containerId,sslCrt:(h=o.sslCrt)!==null&&h!==void 0?h:"",sslKey:(f=o.sslCrt)!==null&&f!==void 0?f:""});case 2:return E=R.sent,(C=d.current)===null||C===void 0||C.resetFields(),p.onFinish(),R.abrupt("return",!0);case 6:case"end":return R.stop()}},t)}));return function(t){return m.apply(this,arguments)}}(),children:[(0,n.jsxs)(D.Z.Compact,{children:[(0,n.jsx)(F.Z,{label:"\u534F\u8BAE",tooltip:"\u9009\u62E9Https\u65F6\u4F1A\u81EA\u52A8\u7ED1\u5B9A\u8BC1\u4E66",required:!0,name:"schema",initialValue:"http",children:(0,n.jsxs)(re.Z,{defaultValue:"http",style:{width:"100px"},children:[(0,n.jsx)(re.Z.Option,{value:"http",children:"http"}),(0,n.jsx)(re.Z.Option,{value:"https",children:"https"})]})}),(0,n.jsx)(_.Z,{width:"lg",label:"\u57DF\u540D",tooltip:"\u6307\u5B9A\u8981\u7ED1\u5B9A\u7684\u57DF\u540D,\u5E76\u5C06\u8BE5\u57DF\u540D\u89E3\u6790\u5230\u5F53\u524D\u670D\u52A1\u5668",name:"serverName",placeholder:"\u8BF7\u6307\u5B9A\u8981\u7ED1\u5B9A\u7684\u57DF\u540D\uFF0C\u4F8B\u5982 www.explame.com, test.explame.com",rules:[{required:!0}]})]}),(0,n.jsx)(Q,{label:"\u7AEF\u53E3",name:"port",placeholder:"\u8F6C\u53D1\u5230\u76EE\u6807\u5BB9\u5668\u4E2D\u7684\u7AEF\u53E3\uFF0C\u4E00\u822C\u4E3A80",required:!0,rules:[{required:!0}]}),(0,n.jsx)(Y.Z,{name:["schema"],children:function(t){var o=t.schema;if(o=="https")return[(0,n.jsx)(K.Z,{label:"\u8BC1\u4E66\u5185\u5BB9",name:"sslCrt",tooltip:"1.\u901A\u5E38\u8BC1\u4E66\u662F\u4EE5 .crt \u6216 .pem \u7B49\u4E3A\u6269\u5C55\u540D\u7684\u6587\u4EF6\uFF0C\u8BF7\u4F7F\u7528\u76F8\u5E94\u6587\u672C\u7F16\u8F91\u5668\u6253\u5F00\u8BC1\u4E66\u6587\u4EF6\u3002 2.\u8BC1\u4E66\u683C\u5F0F\u4EE5\u201C-----BEGIN CERTIFICATE-----\u201D\u5F00\u5934\uFF0C\u4EE5\u201C-----END CERTIFICATE-----\u201D\u7ED3\u5C3E\u3002 3.\u8BC1\u4E66\u5185\u5BB9\u8BF7\u5305\u542B\u5B8C\u6574\u7684\u8BC1\u4E66\u94FE\u3002",placeholder:"-----BEGIN CERTIFICATE-----"}),(0,n.jsx)(K.Z,{label:"\u79C1\u94A5\u5185\u5BB9",name:"sslKey",tooltip:"1.\u901A\u5E38\u79C1\u94A5\u662F\u4EE5 .key \u6216 .pem \u7B49\u4E3A\u6269\u5C55\u540D\u7684\u6587\u4EF6\uFF0C\u8BF7\u4F7F\u7528\u76F8\u5E94\u6587\u672C\u7F16\u8F91\u5668\u6253\u5F00\u79C1\u94A5\u6587\u4EF6\u3002 2.\u79C1\u94A5\u683C\u5F0F\u4EE5\u201C-----BEGIN PRIVATE KEY-----\u201D\u5F00\u5934\uFF0C\u4EE5\u201C-----END PRIVATE KEY-----\u201D\u7ED3\u5C3E\u3002",placeholder:"-----BEGIN PRIVATE KEY-----"})]}}),(0,n.jsx)(A.Z,{label:"\u6269\u5C55Nginx\u914D\u7F6E",name:"enableExtraNginx"}),(0,n.jsx)(Y.Z,{name:["enableExtraNginx"],children:function(t){var o=t.enableExtraNginx;if(o)return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.Z,{children:[(0,n.jsx)(u.Z,{span:12,children:(0,n.jsx)(A.Z,{label:"\u963B\u6B62\u5E38\u89C1\u6F0F\u6D1E\u5229\u7528",name:"enableBlockCommonExploits"})}),(0,n.jsx)(u.Z,{children:(0,n.jsx)(A.Z,{width:"md",label:"\u9759\u6001\u8D44\u6E90\u7F13\u5B58",name:"enableAssetCache"})})]}),(0,n.jsx)(e.Z,{children:(0,n.jsx)(u.Z,{span:12,children:(0,n.jsx)(A.Z,{label:"\u652F\u6301 Websocket",name:"enableWs"})})})]})}}),(0,n.jsx)(F.Z,{name:"extraNginx",label:"\u81EA\u5B9A\u4E49\u914D\u7F6E",tooltip:"\u6269\u5C55\u7F51\u7AD9\u914D\u7F6E\u5185\u5BB9",children:(0,n.jsx)(J.ZP,{height:"300px",theme:"dark",style:{backgroundColor:"#282c34"}})})]})}var l=g,i=r(80821),W=r(12010),y=r(66309);function G(){var p=(0,B.useParams)(),d=(0,Z.useRef)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(W.Z,{rowKey:"id",actionRef:d,columns:[{title:"\u57DF\u540D",dataIndex:"serverName",render:function(t,o,h,f,C){var E;return(0,n.jsx)("a",{href:"".concat((E=o.schema)!==null&&E!==void 0?E:"http","://").concat(o.serverName),target:"_blank",children:o.serverName})}},{title:"\u7AEF\u53E3",dataIndex:"port"},{title:"SSL",search:!1,render:function(t,o,h,f,C){return o.schema=="http"?(0,n.jsx)(y.Z,{children:"\u5426"}):(0,n.jsx)(y.Z,{color:"red",children:"\u662F"})}},{title:"\u521B\u5EFA\u65F6\u95F4",search:!1,width:180,ellipsis:!0,dataIndex:"createdAt",render:function(t,o,h,f,C){return new Date(o.createdAt).toLocaleString()}}],request:function(){var m=T()(v()().mark(function t(o,h,f){var C,E,X,R,k;return v()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,N({containerId:(C=(E=p.id)!==null&&E!==void 0?E:"")!==null&&C!==void 0?C:"",pageSize:(X=o.pageSize)!==null&&X!==void 0?X:10,page:(R=o.current)!==null&&R!==void 0?R:1,serverName:o.serverName,port:o.port});case 2:return k=H.sent,H.abrupt("return",{data:k.data.list,success:!0,total:k.data.list.length});case 4:case"end":return H.stop()}},t)}));return function(t,o,h){return m.apply(this,arguments)}}(),toolBarRender:function(){var t;return[(0,n.jsx)(l,{containerId:(t=p.id)!==null&&t!==void 0?t:"",onFinish:function(){var h,f;!((h=d.current)===null||h===void 0)&&h.reloadAndRest&&((f=d.current)===null||f===void 0||f.reloadAndRest())}})]},rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},tableAlertOptionRender:function(t){var o=t.selectedRowKeys;return(0,n.jsx)(D.Z,{size:16,children:(0,n.jsx)(i.Z,{danger:!0,type:"primary",action:function(){return x({id:o})},onSuccess:function(){var f,C;return!((f=d.current)===null||f===void 0)&&f.reloadAndRest&&((C=d.current)===null||C===void 0||C.reloadAndRest()),!0},onError:function(){var f,C;return!((f=d.current)===null||f===void 0)&&f.reset&&((C=d.current)===null||C===void 0||C.reset()),!0},messageSuccess:"\u5220\u9664\u6210\u529F",children:"\u6279\u91CF\u5220\u9664"})})},pagination:{pageSize:10}})})}},66309:function(ee,I,r){r.d(I,{Z:function(){return re}});var c=r(62435),v=r(97937),S=r(93967),T=r.n(S),B=r(98787),N=r(69760),j=r(45353),b=r(53124),P=r(54548),x=r(10274),a=r(14747),L=r(45503),F=r(92030);const _=e=>{const{paddingXXS:u,lineWidth:g,tagPaddingHorizontal:l,componentCls:i,calc:W}=e,y=W(l).sub(g).equal(),G=W(u).sub(g).equal();return{[i]:Object.assign(Object.assign({},(0,a.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:y,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,P.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${i}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${i}-close-icon`]:{marginInlineStart:G,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${i}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${i}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:y}}),[`${i}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},M=e=>{const{lineWidth:u,fontSizeIcon:g,calc:l}=e,i=e.fontSizeSM;return(0,L.TS)(e,{tagFontSize:i,tagLineHeight:(0,P.bf)(l(e.lineHeightSM).mul(i).equal()),tagIconSize:l(g).sub(l(u).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},z=e=>({defaultBg:new x.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var Z=(0,F.I$)("Tag",e=>{const u=M(e);return _(u)},z),V=function(e,u){var g={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&u.indexOf(l)<0&&(g[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,l=Object.getOwnPropertySymbols(e);i<l.length;i++)u.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(e,l[i])&&(g[l[i]]=e[l[i]]);return g},s=c.forwardRef((e,u)=>{const{prefixCls:g,style:l,className:i,checked:W,onChange:y,onClick:G}=e,p=V(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:d,tag:m}=c.useContext(b.E_),t=X=>{y==null||y(!W),G==null||G(X)},o=d("tag",g),[h,f,C]=Z(o),E=T()(o,`${o}-checkable`,{[`${o}-checkable-checked`]:W},m==null?void 0:m.className,i,f,C);return h(c.createElement("span",Object.assign({},p,{ref:u,style:Object.assign(Object.assign({},l),m==null?void 0:m.style),className:E,onClick:t})))}),O=r(98719);const $=e=>(0,O.Z)(e,(u,g)=>{let{textColor:l,lightBorderColor:i,lightColor:W,darkColor:y}=g;return{[`${e.componentCls}${e.componentCls}-${u}`]:{color:l,background:W,borderColor:i,"&-inverse":{color:e.colorTextLightSolid,background:y,borderColor:y},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var Q=(0,F.bk)(["Tag","preset"],e=>{const u=M(e);return $(u)},z);function Y(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const K=(e,u,g)=>{const l=Y(g);return{[`${e.componentCls}${e.componentCls}-${u}`]:{color:e[`color${g}`],background:e[`color${l}Bg`],borderColor:e[`color${l}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var A=(0,F.bk)(["Tag","status"],e=>{const u=M(e);return[K(u,"success","Success"),K(u,"processing","Info"),K(u,"error","Error"),K(u,"warning","Warning")]},z),J=function(e,u){var g={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&u.indexOf(l)<0&&(g[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,l=Object.getOwnPropertySymbols(e);i<l.length;i++)u.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(e,l[i])&&(g[l[i]]=e[l[i]]);return g};const w=(e,u)=>{const{prefixCls:g,className:l,rootClassName:i,style:W,children:y,icon:G,color:p,onClose:d,closeIcon:m,closable:t,bordered:o=!0}=e,h=J(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:f,direction:C,tag:E}=c.useContext(b.E_),[X,R]=c.useState(!0);c.useEffect(()=>{"visible"in h&&R(h.visible)},[h.visible]);const k=(0,B.o2)(p),ne=(0,B.yT)(p),H=k||ne,ae=Object.assign(Object.assign({backgroundColor:p&&!H?p:void 0},E==null?void 0:E.style),W),U=f("tag",g),[se,ue,ie]=Z(U),ce=T()(U,E==null?void 0:E.className,{[`${U}-${p}`]:H,[`${U}-has-color`]:p&&!H,[`${U}-hidden`]:!X,[`${U}-rtl`]:C==="rtl",[`${U}-borderless`]:!o},l,i,ue,ie),te=q=>{q.stopPropagation(),d==null||d(q),!q.defaultPrevented&&R(!1)},[,de]=(0,N.Z)({closable:t,closeIcon:m!=null?m:E==null?void 0:E.closeIcon,customCloseIconRender:q=>q===null?c.createElement(v.Z,{className:`${U}-close-icon`,onClick:te}):c.createElement("span",{className:`${U}-close-icon`,onClick:te},q),defaultCloseIcon:null,defaultClosable:!1}),ve=typeof h.onClick=="function"||y&&y.type==="a",oe=G||null,me=oe?c.createElement(c.Fragment,null,oe,y&&c.createElement("span",null,y)):y,le=c.createElement("span",Object.assign({},h,{ref:u,className:ce,style:ae}),me,de,k&&c.createElement(Q,{key:"preset",prefixCls:U}),ne&&c.createElement(A,{key:"status",prefixCls:U}));return se(ve?c.createElement(j.Z,{component:"Tag"},le):le)},D=c.forwardRef(w);D.CheckableTag=s;var re=D}}]);
