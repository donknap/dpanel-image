"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[337],{80821:function(A,d,n){n.d(d,{Z:function(){return B}});var P=n(5574),c=n.n(P),E=n(93246),M=n(54006),O=n(31418),h=n(86738),l=n(14726),R=n(83062),m=n(62435),s=n(86074);function B(e){var o=(0,m.useState)(!1),r=c()(o,2),t=r[0],_=r[1],f=O.Z.useApp(),i=(0,M.useIntl)(),u=function(){_(!0),e.action().then(function(D){if(_(!1),typeof e.onSuccess=="function"&&e.onSuccess(D),e.messageSuccess){var a="";e.messageSuccess.indexOf(".")>-1?a=i.formatMessage({id:e.messageSuccess}):a=e.messageSuccess,e.asynced?(0,E.Rk)(f,a):(0,E.$h)(f,a)}}).catch(function(D){_(!1),typeof e.onError=="function"&&e.onError(D)})};return e.confirm?(0,s.jsx)(h.Z,{style:{width:500},title:"\u63D0\u793A",description:e.confirm,onConfirm:u,okText:"Yes",cancelText:"No",children:(0,s.jsx)(l.ZP,{disabled:e.disabled,icon:e.icon,loading:t,danger:e.danger,type:e.type,children:e.children})}):(0,s.jsx)(R.Z,{title:e.tips,children:(0,s.jsx)(l.ZP,{disabled:e.disabled,icon:e.icon,loading:t,onClick:u,danger:e.danger,type:e.type,children:e.children})})}},87038:function(A,d,n){n.r(d),n.d(d,{default:function(){return B}});var P=n(15009),c=n.n(P),E=n(99289),M=n.n(E),O=n(90639),h=n(62435),l=n(34185),R=n(80821),m=n(86074),s=[{title:"\u7C7B\u578B",ellipsis:!0,dataIndex:"type",search:!1,width:200},{title:"\u6807\u9898",ellipsis:!0,dataIndex:"title",width:200},{title:"\u8BE6\u60C5",search:!1,dataIndex:"message"},{title:"\u65F6\u95F4",ellipsis:!0,search:!1,dataIndex:"createdAt",width:200,render:function(o,r,t,_,f){return new Date(r.createdAt).toLocaleString()}}];function B(){var e=(0,h.useRef)();return(0,m.jsx)(O.Z,{columns:s,rowKey:"id",request:function(){var o=M()(c()().mark(function r(t,_,f){var i,u,v;return c()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,l.vo)({page:(i=t.current)!==null&&i!==void 0?i:1,pageSize:(u=t.pageSize)!==null&&u!==void 0?u:10,type:t.type});case 2:return v=a.sent,a.abrupt("return",{data:v.data.list,success:!0,total:v.data.total});case 4:case"end":return a.stop()}},r)}));return function(r,t,_){return o.apply(this,arguments)}}(),pagination:{pageSize:10},actionRef:e,toolBarRender:function(){return[(0,m.jsx)(R.Z,{action:function(){return(0,l.bJ)({action:"clear"})},onSuccess:function(){var t,_;return!((t=e.current)===null||t===void 0)&&t.reloadAndRest&&((_=e.current)===null||_===void 0||_.reloadAndRest()),!0},onError:function(){var t,_;return!((t=e.current)===null||t===void 0)&&t.reset&&((_=e.current)===null||_===void 0||_.reset()),!0},messageSuccess:"\u6240\u6709\u901A\u77E5\u6807\u8BB0\u5DF2\u8BFB",confirm:"\u662F\u5426\u8981\u6807\u8BB0\u6240\u6709\u901A\u77E5\u5DF2\u8BFB",danger:!0,type:"primary",children:"\u6E05\u9664\u4E8B\u4EF6\u901A\u77E5"})]}})}}}]);
